(function(n){function u(b,f){var c,a=this,e=window.navigator,g=e.userAgent.toLowerCase();a.uid=n.rsModules.uid++;a.ns=".rs"+a.uid;var d=document.createElement("div").style,h=["webkit","Moz","ms","O"],k="",l=0,r;for(c=0;c<h.length;c++)r=h[c],!k&&r+"Transform"in d&&(k=r),r=r.toLowerCase(),window.requestAnimationFrame||(window.requestAnimationFrame=window[r+"RequestAnimationFrame"],window.cancelAnimationFrame=window[r+"CancelAnimationFrame"]||window[r+"CancelRequestAnimationFrame"]);window.requestAnimationFrame||(window.requestAnimationFrame=function(a,b){var c=(new Date).getTime(),d=Math.max(0,16-(c-l)),e=window.setTimeout(function(){a(c+d)},d);l=c+d;return e});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)});a.isIPAD=g.match(/(ipad)/);a.isIOS=a.isIPAD||g.match(/(iphone|ipod)/);c=function(a){a=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||0>a.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:a[1]||"",version:a[2]||"0"}}(g);h={};c.browser&&(h[c.browser]=!0,h.version=c.version);h.chrome&&(h.webkit=!0);a._a=h;a.isAndroid=-1<g.indexOf("android");a.slider=n(b);a.ev=n(a);a._b=n(document);a.st=n.extend({},n.fn.royalSlider.defaults,f);a._c=a.st.transitionSpeed;a._d=0;!a.st.allowCSS3||h.webkit&&!a.st.allowCSS3OnWebkit||(c=k+(k?"T":"t"),a._e=c+"ransform"in d&&c+"ransition"in d,a._e&&(a._f=k+(k?"P":"p")+"erspective"in d));k=k.toLowerCase();a._g="-"+k+"-";a._h="vertical"===a.st.slidesOrientation?!1:!0;a._i=a._h?"left":"top";a._j=a._h?"width":"height";a._k=-1;a._l="fade"===a.st.transitionType?!1:!0;a._l||(a.st.sliderDrag=!1,a._m=10);a._n="z-index:0; display:none; opacity:0;";a._o=0;a._p=0;a._q=0;n.each(n.rsModules,function(b,c){"uid"!==b&&c.call(a)});a.slides=[];a._r=0;(a.st.slides?n(a.st.slides):a.slider.children().detach()).each(function(){a._s(this,!0)});a.st.randomizeSlides&&a.slides.sort(function(){return.5-Math.random()});a.numSlides=a.slides.length;a._t();a.st.startSlideId?a.st.startSlideId>a.numSlides-1&&(a.st.startSlideId=a.numSlides-1):a.st.startSlideId=0;a._o=a.staticSlideId=a.currSlideId=a._u=a.st.startSlideId;a.currSlide=a.slides[a.currSlideId];a._v=0;a.pointerMultitouch=!1;a.slider.addClass((a._h?"rsHor":"rsVer")+(a._l?"":" rsFade"));d='<div class="rsOverflow"><div class="rsContainer">';a.slidesSpacing=a.st.slidesSpacing;a._w=(a._h?a.slider.width():a.slider.height())+a.st.slidesSpacing;a._x=Boolean(0<a._y);1>=a.numSlides&&(a._z=!1);a._a1=a._z&&a._l?2===a.numSlides?1:2:0;a._b1=6>a.numSlides?a.numSlides:6;a._c1=0;a._d1=0;a.slidesJQ=[];for(c=0;c<a.numSlides;c++)a.slidesJQ.push(n('<div style="'+(a._l?"":c!==a.currSlideId?a._n:"z-index:0;")+'" class="rsSlide "></div>'));a._e1=d=n(d+"</div></div>");var m=a.ns,k=function(b,c,d,e,f){a._j1=b+c+m;a._k1=b+d+m;a._l1=b+e+m;f&&(a._m1=b+f+m)};c=e.pointerEnabled;a.pointerEnabled=c||e.msPointerEnabled;a.pointerEnabled?(a.hasTouch=!1,a._n1=.2,a.pointerMultitouch=Boolean(1<e[(c?"m":"msM")+"axTouchPoints"]),c?k("pointer","down","move","up","cancel"):k("MSPointer","Down","Move","Up","Cancel")):(a.isIOS?a._j1=a._k1=a._l1=a._m1="":k("mouse","down","move","up"),"ontouchstart"in window||"createTouch"in document?(a.hasTouch=!0,a._j1+=" touchstart"+m,a._k1+=" touchmove"+m,a._l1+=" touchend"+m,a._m1+=" touchcancel"+m,a._n1=.5,a.st.sliderTouch&&(a._f1=!0)):(a.hasTouch=!1,a._n1=.2));a.st.sliderDrag&&(a._f1=!0,h.msie||h.opera?a._g1=a._h1="move":h.mozilla?(a._g1="-moz-grab",a._h1="-moz-grabbing"):h.webkit&&-1!=e.platform.indexOf("Mac")&&(a._g1="-webkit-grab",a._h1="-webkit-grabbing"),a._i1());a.slider.html(d);a._o1=a.st.controlsInside?a._e1:a.slider;a._p1=a._e1.children(".rsContainer");a.pointerEnabled&&a._p1.css((c?"":"-ms-")+"touch-action",a._h?"pan-y":"pan-x");a._q1=n('<div class="rsPreloader"></div>');e=a._p1.children(".rsSlide");a._r1=a.slidesJQ[a.currSlideId];a._s1=0;a._e?(a._t1="transition-property",a._u1="transition-duration",a._v1="transition-timing-function",a._w1=a._x1=a._g+"transform",a._f?(h.webkit&&!h.chrome&&a.slider.addClass("rsWebkit3d"),a._y1="translate3d(",a._z1="px, ",a._a2="px, 0px)"):(a._y1="translate(",a._z1="px, ",a._a2="px)"),a._l?a._p1[a._g+a._t1]=a._g+"transform":(h={},h[a._g+a._t1]="opacity",h[a._g+a._u1]=a.st.transitionSpeed+"ms",h[a._g+a._v1]=a.st.css3easeInOut,e.css(h))):(a._x1="left",a._w1="top");var p;n(window).on("resize"+a.ns,function(){p&&clearTimeout(p);p=setTimeout(function(){a.updateSliderSize()},50)});a.ev.trigger("rsAfterPropsSetup");a.updateSliderSize();a.st.keyboardNavEnabled&&a._b2();a.st.arrowsNavHideOnTouch&&(a.hasTouch||a.pointerMultitouch)&&(a.st.arrowsNav=!1);a.st.arrowsNav&&(e=a._o1,n('<div class="rsArrow rsArrowLeft"><div class="rsArrowIcn"></div></div><div class="rsArrow rsArrowRight"><div class="rsArrowIcn"></div></div>').appendTo(e),a._c2=e.children(".rsArrowLeft").click(function(b){b.preventDefault();a.prev()}),a._d2=e.children(".rsArrowRight").click(function(b){b.preventDefault();a.next()}),a.st.arrowsNavAutoHide&&!a.hasTouch&&(a._c2.addClass("rsHidden"),a._d2.addClass("rsHidden"),e.one("mousemove.arrowshover",function(){a._c2.removeClass("rsHidden");a._d2.removeClass("rsHidden")}),e.hover(function(){a._e2||(a._c2.removeClass("rsHidden"),a._d2.removeClass("rsHidden"))},function(){a._e2||(a._c2.addClass("rsHidden"),a._d2.addClass("rsHidden"))})),a.ev.on("rsOnUpdateNav",function(){a._f2()}),a._f2());if(a._f1)a._p1.on(a._j1,function(b){a._g2(b)});else a.dragSuccess=!1;var q=["rsPlayBtnIcon","rsPlayBtn","rsCloseVideoBtn","rsCloseVideoIcn"];a._p1.click(function(b){if(!a.dragSuccess){var c=n(b.target).attr("class");if(-1!==n.inArray(c,q)&&a.toggleVideo())return!1;if(a.st.navigateByClick&&!a._h2){if(n(b.target).closest(".rsNoDrag",a._r1).length)return!0;a._i2(b)}a.ev.trigger("rsSlideClick",b)}}).on("click.rs","a",function(b){if(a.dragSuccess)return!1;a._h2=!0;setTimeout(function(){a._h2=!1},3)});a.ev.trigger("rsAfterInit")}n.rsModules||(n.rsModules={uid:0});u.prototype={constructor:u,_i2:function(b){b=b[this._h?"pageX":"pageY"]-this._j2;b>=this._q?this.next():0>b&&this.prev()},_t:function(){var b;b=this.st.numImagesToPreload;if(this._z=this.st.loop)2===this.numSlides?(this._z=!1,this.st.loopRewind=!0):2>this.numSlides&&(this.st.loopRewind=this._z=!1);this._z&&0<b&&(4>=this.numSlides?b=1:this.st.numImagesToPreload>(this.numSlides-1)/2&&(b=Math.floor((this.numSlides-1)/2)));this._y=b},_s:function(b,f){function c(b,c){c?g.images.push(b.attr(c)):g.images.push(b.text());if(h){h=!1;g.caption="src"===c?b.attr("alt"):b.contents();g.image=g.images[0];g.videoURL=b.attr("data-rsVideo");var d=b.attr("data-rsw"),e=b.attr("data-rsh");"undefined"!==typeof d&&!1!==d&&"undefined"!==typeof e&&!1!==e?(g.iW=parseInt(d,10),g.iH=parseInt(e,10)):a.st.imgWidth&&a.st.imgHeight&&(g.iW=a.st.imgWidth,g.iH=a.st.imgHeight)}}var a=this,e,g={},d,h=!0;b=n(b);a._k2=b;a.ev.trigger("rsBeforeParseNode",[b,g]);if(!g.stopParsing)return b=a._k2,g.id=a._r,g.contentAdded=!1,a._r++,g.images=[],g.isBig=!1,g.hasCover||(b.hasClass("rsImg")?(d=b,e=!0):(d=b.find(".rsImg"),d.length&&(e=!0)),e?(g.bigImage=d.eq(0).attr("data-rsBigImg"),d.each(function(){var a=n(this);a.is("a")?c(a,"href"):a.is("img")?c(a,"src"):c(a)})):b.is("img")&&(b.addClass("rsImg rsMainSlideImage"),c(b,"src"))),d=b.find(".rsCaption"),d.length&&(g.caption=d.remove()),g.content=b,a.ev.trigger("rsAfterParseNode",[b,g]),f&&a.slides.push(g),0===g.images.length&&(g.isLoaded=!0,g.isRendered=!1,g.isLoading=!1,g.images=null),g},_b2:function(){var b=this,f,c,a=function(a){37===a?b.prev():39===a&&b.next()};b._b.on("keydown"+b.ns,function(e){b._l2||(c=e.keyCode,37!==c&&39!==c||f||(a(c),f=setInterval(function(){a(c)},700)))}).on("keyup"+b.ns,function(a){f&&(clearInterval(f),f=null)})},goTo:function(b,f){b!==this.currSlideId&&this._m2(b,this.st.transitionSpeed,!0,!f)},destroy:function(b){this.ev.trigger("rsBeforeDestroy");this._b.off("keydown"+this.ns+" keyup"+this.ns+" "+this._k1+" "+this._l1);this._p1.off(this._j1+" click");this.slider.data("royalSlider",null);n.removeData(this.slider,"royalSlider");n(window).off("resize"+this.ns);this.loadingTimeout&&clearTimeout(this.loadingTimeout);b&&this.slider.remove();this.ev=this.slider=this.slides=null},_n2:function(b,f){function c(c,f,g){c.isAdded?(a(f,c),e(f,c)):(g||(g=d.slidesJQ[f]),c.holder?g=c.holder:(g=d.slidesJQ[f]=n(g),c.holder=g),c.appendOnLoaded=!1,e(f,c,g),a(f,c),d._p2(c,g,b),c.isAdded=!0)}function a(a,c){c.contentAdded||(d.setItemHtml(c,b),b||(c.contentAdded=!0))}function e(a,b,c){d._l&&(c||(c=d.slidesJQ[a]),c.css(d._i,(a+d._d1+p)*d._w))}function g(a){if(l){if(a>r-1)return g(a-r);if(0>a)return g(r+a)}return a}var d=this,h,k,l=d._z,r=d.numSlides;if(!isNaN(f))return g(f);var m=d.currSlideId,p,q=b?Math.abs(d._o2-d.currSlideId)>=d.numSlides-1?0:1:d._y,s=Math.min(2,q),v=!1,u=!1,t;for(k=m;k<m+1+s;k++)if(t=g(k),(h=d.slides[t])&&(!h.isAdded||!h.positionSet)){v=!0;break}for(k=m-1;k>m-1-s;k--)if(t=g(k),(h=d.slides[t])&&(!h.isAdded||!h.positionSet)){u=!0;break}if(v)for(k=m;k<m+q+1;k++)t=g(k),p=Math.floor((d._u-(m-k))/d.numSlides)*d.numSlides,(h=d.slides[t])&&c(h,t);if(u)for(k=m-1;k>m-1-q;k--)t=g(k),p=Math.floor((d._u-(m-k))/r)*r,(h=d.slides[t])&&c(h,t);if(!b)for(s=g(m-q),m=g(m+q),q=s>m?0:s,k=0;k<r;k++)s>m&&k>s-1||!(k<q||k>m)||(h=d.slides[k])&&h.holder&&(h.holder.detach(),h.isAdded=!1)},setItemHtml:function(b,f){var c=this,a=function(){if(!b.images)b.isRendered=!0,b.isLoaded=!0,b.isLoading=!1,d(!0);else if(!b.isLoading){var a,f;b.content.hasClass("rsImg")?(a=b.content,f=!0):a=b.content.find(".rsImg:not(img)");a&&!a.is("img")&&a.each(function(){var a=n(this),c='<img class="rsImg" src="'+(a.is("a")?a.attr("href"):a.text())+'" />';f?b.content=n(c):a.replaceWith(c)});a=f?b.content:b.content.find("img.rsImg");k();a.eq(0).addClass("rsMainSlideImage");b.iW&&b.iH&&(b.isLoaded||c._q2(b),d());b.isLoading=!0;if(b.isBig)n("<img />").on("load.rs error.rs",function(a){n(this).off("load.rs error.rs");e([this],!0)}).attr("src",b.image);else{b.loaded=[];b.numStartedLoad=0;a=function(a){n(this).off("load.rs error.rs");b.loaded.push(this);b.loaded.length===b.numStartedLoad&&e(b.loaded,!1)};for(var g=0;g<b.images.length;g++){var h=n("<img />");b.numStartedLoad++;h.on("load.rs error.rs",a).attr("src",b.images[g])}}}},e=function(a,c){if(a.length){var d=a[0];if(c!==b.isBig)(d=b.holder.children())&&1<d.length&&l();else if(b.iW&&b.iH)g();else if(b.iW=d.width,b.iH=d.height,b.iW&&b.iH)g();else{var e=new Image;e.onload=function(){e.width?(b.iW=e.width,b.iH=e.height,g()):setTimeout(function(){e.width&&(b.iW=e.width,b.iH=e.height);g()},1e3)};e.src=d.src}}else g()},g=function(){b.isLoaded=!0;b.isLoading=!1;d();l();h()},d=function(){if(!b.isAppended&&c.ev){var a=c.st.visibleNearby,d=b.id-c._o;f||b.appendOnLoaded||!c.st.fadeinLoadedSlide||0!==d&&(!(a||c._r2||c._l2)||-1!==d&&1!==d)||(a={visibility:"visible",opacity:0},a[c._g+"transition"]="opacity 400ms ease-in-out",b.content.css(a),setTimeout(function(){b.content.css("opacity",1)},16));b.holder.find(".rsPreloader").length?b.holder.append(b.content):b.holder.html(b.content);b.isAppended=!0;b.isLoaded&&(c._q2(b),h());b.sizeReady||(b.sizeReady=!0,setTimeout(function(){c.ev.trigger("rsMaybeSizeReady",b)},100))}},h=function(){!b.loadedTriggered&&c.ev&&(b.isLoaded=b.loadedTriggered=!0,b.holder.trigger("rsAfterContentSet"),c.ev.trigger("rsAfterContentSet",b))},k=function(){c.st.usePreloader&&b.holder.html(c._q1.clone())},l=function(a){c.st.usePreloader&&(a=b.holder.find(".rsPreloader"),a.length&&a.remove())};b.isLoaded?d():f?!c._l&&b.images&&b.iW&&b.iH?a():(b.holder.isWaiting=!0,k(),b.holder.slideId=-99):a()},_p2:function(b,f,c){this._p1.append(b.holder);b.appendOnLoaded=!1},_g2:function(b,f){var c=this,a,e="touchstart"===b.type;c._s2=e;c.ev.trigger("rsDragStart");if(n(b.target).closest(".rsNoDrag",c._r1).length)return c.dragSuccess=!1,!0;!f&&c._r2&&(c._t2=!0,c._u2());c.dragSuccess=!1;if(c._l2)e&&(c._v2=!0);else{e&&(c._v2=!1);c._w2();if(e){var g=b.originalEvent.touches;if(g&&0<g.length)a=g[0],1<g.length&&(c._v2=!0);else return}else b.preventDefault(),a=b,c.pointerEnabled&&(a=a.originalEvent);c._l2=!0;c._b.on(c._k1,function(a){c._x2(a,f)}).on(c._l1,function(a){c._y2(a,f)});c._z2="";c._a3=!1;c._b3=a.pageX;c._c3=a.pageY;c._d3=c._v=(f?c._e3:c._h)?a.pageX:a.pageY;c._f3=0;c._g3=0;c._h3=f?c._i3:c._p;c._j3=(new Date).getTime();if(e)c._e1.on(c._m1,function(a){c._y2(a,f)})}},_k3:function(b,f){if(this._l3){var c=this._m3,a=b.pageX-this._b3,e=b.pageY-this._c3,g=this._h3+a,d=this._h3+e,h=f?this._e3:this._h,g=h?g:d,d=this._z2;this._a3=!0;this._b3=b.pageX;this._c3=b.pageY;"x"===d&&0!==a?this._f3=0<a?1:-1:"y"===d&&0!==e&&(this._g3=0<e?1:-1);d=h?this._b3:this._c3;a=h?a:e;f?g>this._n3?g=this._h3+a*this._n1:g<this._o3&&(g=this._h3+a*this._n1):this._z||(0>=this.currSlideId&&0<d-this._d3&&(g=this._h3+a*this._n1),this.currSlideId>=this.numSlides-1&&0>d-this._d3&&(g=this._h3+a*this._n1));this._h3=g;200<c-this._j3&&(this._j3=c,this._v=d);f?this._q3(this._h3):this._l&&this._p3(this._h3)}},_x2:function(b,f){var c=this,a,e="touchmove"===b.type;if(!c._s2||e){if(e){if(c._r3)return;var g=b.originalEvent.touches;if(g){if(1<g.length)return;a=g[0]}else return}else a=b,c.pointerEnabled&&(a=a.originalEvent);c._a3||(c._e&&(f?c._s3:c._p1).css(c._g+c._u1,"0s"),function h(){c._l2&&(c._t3=requestAnimationFrame(h),c._u3&&c._k3(c._u3,f))}());if(c._l3)b.preventDefault(),c._m3=(new Date).getTime(),c._u3=a;else if(g=f?c._e3:c._h,a=Math.abs(a.pageX-c._b3)-Math.abs(a.pageY-c._c3)-(g?-7:7),7<a){if(g)b.preventDefault(),c._z2="x";else if(e){c._v3(b);return}c._l3=!0}else if(-7>a){if(!g)b.preventDefault(),c._z2="y";else if(e){c._v3(b);return}c._l3=!0}}},_v3:function(b,f){this._r3=!0;this._a3=this._l2=!1;this._y2(b)},_y2:function(b,f){function c(a){return 100>a?100:500<a?500:a}function a(a,b){if(e._l||f)h=(-e._u-e._d1)*e._w,k=Math.abs(e._p-h),e._c=k/b,a&&(e._c+=250),e._c=c(e._c),e._x3(h,!1)}var e=this,g,d,h,k;g=-1<b.type.indexOf("touch");if(!e._s2||g)if(e._s2=!1,e.ev.trigger("rsDragRelease"),e._u3=null,e._l2=!1,e._r3=!1,e._l3=!1,e._m3=0,cancelAnimationFrame(e._t3),e._a3&&(f?e._q3(e._h3):e._l&&e._p3(e._h3)),e._b.off(e._k1).off(e._l1),g&&e._e1.off(e._m1),e._i1(),!e._a3&&!e._v2&&f&&e._w3){var l=n(b.target).closest(".rsNavItem");l.length&&e.goTo(l.index())}else{d=f?e._e3:e._h;if(!e._a3||"y"===e._z2&&d||"x"===e._z2&&!d)if(!f&&e._t2){e._t2=!1;if(e.st.navigateByClick){e._i2(e.pointerEnabled?b.originalEvent:b);e.dragSuccess=!0;return}e.dragSuccess=!0}else{e._t2=!1;e.dragSuccess=!1;return}else e.dragSuccess=!0;e._t2=!1;e._z2="";var r=e.st.minSlideOffset;g=g?b.originalEvent.changedTouches[0]:e.pointerEnabled?b.originalEvent:b;var m=d?g.pageX:g.pageY,p=e._d3;g=e._v;var q=e.currSlideId,s=e.numSlides,v=d?e._f3:e._g3,u=e._z;Math.abs(m-p);g=m-g;d=(new Date).getTime()-e._j3;d=Math.abs(g)/d;if(0===v||1>=s)a(!0,d);else{if(!u&&!f)if(0>=q){if(0<v){a(!0,d);return}}else if(q>=s-1&&0>v){a(!0,d);return}if(f){h=e._i3;if(h>e._n3)h=e._n3;else if(h<e._o3)h=e._o3;else{m=d*d/.006;l=-e._i3;p=e._y3-e._z3+e._i3;0<g&&m>l?(l+=e._z3/(15/(m/d*.003)),d=d*l/m,m=l):0>g&&m>p&&(p+=e._z3/(15/(m/d*.003)),d=d*p/m,m=p);l=Math.max(Math.round(d/.003),50);h+=m*(0>g?-1:1);if(h>e._n3){e._a4(h,l,!0,e._n3,200);return}if(h<e._o3){e._a4(h,l,!0,e._o3,200);return}}e._a4(h,l,!0)}else l=function(a){var b=Math.floor(a/e._w);a-b*e._w>r&&b++;return b},p+r<m?0>v?a(!1,d):(l=l(m-p),e._m2(e.currSlideId-l,c(Math.abs(e._p-(-e._u-e._d1+l)*e._w)/d),!1,!0,!0)):p-r>m?0<v?a(!1,d):(l=l(p-m),e._m2(e.currSlideId+l,c(Math.abs(e._p-(-e._u-e._d1-l)*e._w)/d),!1,!0,!0)):a(!1,d)}}},_p3:function(b){b=this._p=b;this._e?this._p1.css(this._x1,this._y1+(this._h?b+this._z1+0:0+this._z1+b)+this._a2):this._p1.css(this._h?this._x1:this._w1,b)},updateSliderSize:function(b){var f,c;if(this.st.autoScaleSlider){var a=this.st.autoScaleSliderWidth,e=this.st.autoScaleSliderHeight;this.st.autoScaleHeight?(f=this.slider.width(),f!=this.width&&(this.slider.css("height",e/a*f),f=this.slider.width()),c=this.slider.height()):(c=this.slider.height(),c!=this.height&&(this.slider.css("width",a/e*c),c=this.slider.height()),f=this.slider.width())}else f=this.slider.width(),c=this.slider.height();if(b||f!=this.width||c!=this.height){this.width=f;this.height=c;this._b4=f;this._c4=c;this.ev.trigger("rsBeforeSizeSet");this.ev.trigger("rsAfterSizePropSet");this._e1.css({width:this._b4,height:this._c4});this._w=(this._h?this._b4:this._c4)+this.st.slidesSpacing;this._d4=this.st.imageScalePadding;for(f=0;f<this.slides.length;f++)b=this.slides[f],b.positionSet=!1,b&&b.images&&b.isLoaded&&(b.isRendered=!1,this._q2(b));if(this._e4)for(f=0;f<this._e4.length;f++)b=this._e4[f],b.holder.css(this._i,(b.id+this._d1)*this._w);this._n2();this._l&&(this._e&&this._p1.css(this._g+"transition-duration","0s"),this._p3((-this._u-this._d1)*this._w));this.ev.trigger("rsOnUpdateNav")}this._j2=this._e1.offset();this._j2=this._j2[this._i]},appendSlide:function(b,f){var c=this._s(b);if(isNaN(f)||f>this.numSlides)f=this.numSlides;this.slides.splice(f,0,c);this.slidesJQ.splice(f,0,n('<div style="'+(this._l?"position:absolute;":this._n)+'" class="rsSlide"></div>'));f<this.currSlideId&&this.currSlideId++;this.ev.trigger("rsOnAppendSlide",[c,f]);this._f4(f);f===this.currSlideId&&this.ev.trigger("rsAfterSlideChange")},removeSlide:function(b){var f=this.slides[b];f&&(f.holder&&f.holder.remove(),b<this.currSlideId&&this.currSlideId--,this.slides.splice(b,1),this.slidesJQ.splice(b,1),this.ev.trigger("rsOnRemoveSlide",[b]),this._f4(b),b===this.currSlideId&&this.ev.trigger("rsAfterSlideChange"))},_f4:function(b){var f=this;b=f.numSlides;b=0>=f._u?0:Math.floor(f._u/b);f.numSlides=f.slides.length;0===f.numSlides?(f.currSlideId=f._d1=f._u=0,f.currSlide=f._g4=null):f._u=b*f.numSlides+f.currSlideId;for(b=0;b<f.numSlides;b++)f.slides[b].id=b;f.currSlide=f.slides[f.currSlideId];f._r1=f.slidesJQ[f.currSlideId];f.currSlideId>=f.numSlides?f.goTo(f.numSlides-1):0>f.currSlideId&&f.goTo(0);f._t();f._l&&f._z&&f._p1.css(f._g+f._u1,"0ms");f._h4&&clearTimeout(f._h4);f._h4=setTimeout(function(){f._l&&f._p3((-f._u-f._d1)*f._w);f._n2();f._l||f._r1.css({display:"block",opacity:1})},14);f.ev.trigger("rsOnUpdateNav")},_i1:function(){this._f1&&this._l&&(this._g1?this._e1.css("cursor",this._g1):(this._e1.removeClass("grabbing-cursor"),this._e1.addClass("grab-cursor")))},_w2:function(){this._f1&&this._l&&(this._h1?this._e1.css("cursor",this._h1):(this._e1.removeClass("grab-cursor"),this._e1.addClass("grabbing-cursor")))},next:function(b){this._m2("next",this.st.transitionSpeed,!0,!b)},prev:function(b){this._m2("prev",this.st.transitionSpeed,!0,!b)},_m2:function(b,f,c,a,e){var g=this,d,h,k;g.ev.trigger("rsBeforeMove",[b,a]);k="next"===b?g.currSlideId+1:"prev"===b?g.currSlideId-1:b=parseInt(b,10);if(!g._z){if(0>k){g._i4("left",!a);return}if(k>=g.numSlides){g._i4("right",!a);return}}g._r2&&(g._u2(!0),c=!1);h=k-g.currSlideId;k=g._o2=g.currSlideId;var l=g.currSlideId+h;a=g._u;var n;g._z?(l=g._n2(!1,l),a+=h):a=l;g._o=l;g._g4=g.slidesJQ[g.currSlideId];g._u=a;g.currSlideId=g._o;g.currSlide=g.slides[g.currSlideId];g._r1=g.slidesJQ[g.currSlideId];var l=g.st.slidesDiff,m=Boolean(0<h);h=Math.abs(h);var p=Math.floor(k/g._y),q=Math.floor((k+(m?l:-l))/g._y),p=(m?Math.max(p,q):Math.min(p,q))*g._y+(m?g._y-1:0);p>g.numSlides-1?p=g.numSlides-1:0>p&&(p=0);k=m?p-k:k-p;k>g._y&&(k=g._y);if(h>k+l)for(g._d1+=(h-(k+l))*(m?-1:1),f*=1.4,k=0;k<g.numSlides;k++)g.slides[k].positionSet=!1;g._c=f;g._n2(!0);e||(n=!0);d=(-a-g._d1)*g._w;n?setTimeout(function(){g._j4=!1;g._x3(d,b,!1,c);g.ev.trigger("rsOnUpdateNav")},0):(g._x3(d,b,!1,c),g.ev.trigger("rsOnUpdateNav"))},_f2:function(){this.st.arrowsNav&&(1>=this.numSlides?(this._c2.css("display","none"),this._d2.css("display","none")):(this._c2.css("display","block"),this._d2.css("display","block"),this._z||this.st.loopRewind||(0===this.currSlideId?this._c2.addClass("rsArrowDisabled"):this._c2.removeClass("rsArrowDisabled"),this.currSlideId===this.numSlides-1?this._d2.addClass("rsArrowDisabled"):this._d2.removeClass("rsArrowDisabled"))))},_x3:function(b,f,c,a,e){function g(){var a;h&&(a=h.data("rsTimeout"))&&(h!==k&&h.css({opacity:0,display:"none",zIndex:0}),clearTimeout(a),h.data("rsTimeout",""));if(a=k.data("rsTimeout"))clearTimeout(a),k.data("rsTimeout","")}var d=this,h,k,l={};isNaN(d._c)&&(d._c=400);d._p=d._h3=b;d.ev.trigger("rsBeforeAnimStart");d._e?d._l?(d._c=parseInt(d._c,10),c=d._g+d._v1,l[d._g+d._u1]=d._c+"ms",l[c]=a?n.rsCSS3Easing[d.st.easeInOut]:n.rsCSS3Easing[d.st.easeOut],d._p1.css(l),a||!d.hasTouch?setTimeout(function(){d._p3(b)},5):d._p3(b)):(d._c=d.st.transitionSpeed,h=d._g4,k=d._r1,k.data("rsTimeout")&&k.css("opacity",0),g(),h&&h.data("rsTimeout",setTimeout(function(){l[d._g+d._u1]="0ms";l.zIndex=0;l.display="none";h.data("rsTimeout","");h.css(l);setTimeout(function(){h.css("opacity",0)},16)},d._c+60)),l.display="block",l.zIndex=d._m,l.opacity=0,l[d._g+d._u1]="0ms",l[d._g+d._v1]=n.rsCSS3Easing[d.st.easeInOut],k.css(l),k.data("rsTimeout",setTimeout(function(){k.css(d._g+d._u1,d._c+"ms");k.data("rsTimeout",setTimeout(function(){k.css("opacity",1);k.data("rsTimeout","")},20))},20))):d._l?(l[d._h?d._x1:d._w1]=b+"px",d._p1.animate(l,d._c,a?d.st.easeInOut:d.st.easeOut)):(h=d._g4,k=d._r1,k.stop(!0,!0).css({opacity:0,display:"block",zIndex:d._m}),d._c=d.st.transitionSpeed,k.animate({opacity:1},d._c,d.st.easeInOut),g(),h&&h.data("rsTimeout",setTimeout(function(){h.stop(!0,!0).css({opacity:0,display:"none",zIndex:0})},d._c+60)));d._r2=!0;d.loadingTimeout&&clearTimeout(d.loadingTimeout);d.loadingTimeout=e?setTimeout(function(){d.loadingTimeout=null;e.call()},d._c+60):setTimeout(function(){d.loadingTimeout=null;d._k4(f)},d._c+60)},_u2:function(b){this._r2=!1;clearTimeout(this.loadingTimeout);if(this._l)if(!this._e)this._p1.stop(!0),this._p=parseInt(this._p1.css(this._x1),10);else{if(!b){b=this._p;var f=this._h3=this._l4();this._p1.css(this._g+this._u1,"0ms");b!==f&&this._p3(f)}}else 20<this._m?this._m=10:this._m++},_l4:function(){var b=window.getComputedStyle(this._p1.get(0),null).getPropertyValue(this._g+"transform").replace(/^matrix\(/i,"").split(/, |\)$/g),f=0===b[0].indexOf("matrix3d");return parseInt(b[this._h?f?12:4:f?13:5],10)},_m4:function(b,f){return this._e?this._y1+(f?b+this._z1+0:0+this._z1+b)+this._a2:b},_k4:function(b){this._l||(this._r1.css("z-index",0),this._m=10);this._r2=!1;this.staticSlideId=this.currSlideId;this._n2();this._n4=!1;this.ev.trigger("rsAfterSlideChange")},_i4:function(b,f){var c=this,a=(-c._u-c._d1)*c._w;if(0!==c.numSlides&&!c._r2)if(c.st.loopRewind)c.goTo("left"===b?c.numSlides-1:0,f);else if(c._l){c._c=200;var e=function(){c._r2=!1};c._x3(a+("left"===b?30:-30),"",!1,!0,function(){c._r2=!1;c._x3(a,"",!1,!0,e)})}},_q2:function(b,f){if(!b.isRendered){var c=b.content,a="rsMainSlideImage",e,g=this.st.imageAlignCenter,d=this.st.imageScaleMode,h;b.videoURL&&(a="rsVideoContainer","fill"!==d?e=!0:(h=c,h.hasClass(a)||(h=h.find("."+a)),h.css({width:"100%",height:"100%"}),a="rsMainSlideImage"));c.hasClass(a)||(c=c.find("."+a));if(c){var k=b.iW,l=b.iH;b.isRendered=!0;if("none"!==d||g){a="fill"!==d?this._d4:0;h=this._b4-2*a;var n=this._c4-2*a,m,p,q={};"fit-if-smaller"===d&&(k>h||l>n)&&(d="fit");if("fill"===d||"fit"===d)m=h/k,p=n/l,m="fill"==d?m>p?m:p:"fit"==d?m<p?m:p:1,k=Math.ceil(k*m,10),l=Math.ceil(l*m,10);"none"!==d&&(q.width=k,q.height=l,e&&c.find(".rsImg").css({width:"100%",height:"100%"}));g&&(q.marginLeft=Math.floor((h-k)/2)+a,q.marginTop=Math.floor((n-l)/2)+a);c.css(q)}}}}};n.rsProto=u.prototype;n.fn.royalSlider=function(b){var f=arguments;return this.each(function(){var c=n(this);if("object"!==typeof b&&b){if((c=c.data("royalSlider"))&&c[b])return c[b].apply(c,Array.prototype.slice.call(f,1))}else c.data("royalSlider")||c.data("royalSlider",new u(c,b))})};n.fn.royalSlider.defaults={slidesSpacing:8,startSlideId:0,loop:!1,loopRewind:!1,numImagesToPreload:4,fadeinLoadedSlide:!0,slidesOrientation:"horizontal",transitionType:"move",transitionSpeed:600,controlNavigation:"bullets",controlsInside:!0,arrowsNav:!0,arrowsNavAutoHide:!0,navigateByClick:!0,randomizeSlides:!1,sliderDrag:!0,sliderTouch:!0,keyboardNavEnabled:!1,fadeInAfterLoaded:!0,allowCSS3:!0,allowCSS3OnWebkit:!0,addActiveClass:!1,autoHeight:!1,easeOut:"easeOutSine",easeInOut:"easeInOutSine",minSlideOffset:10,imageScaleMode:"fit-if-smaller",imageAlignCenter:!0,imageScalePadding:4,usePreloader:!0,autoScaleSlider:!1,autoScaleSliderWidth:800,autoScaleSliderHeight:400,autoScaleHeight:!0,arrowsNavHideOnTouch:!1,globalCaption:!1,slidesDiff:2};n.rsCSS3Easing={easeOutSine:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",easeInOutSine:"cubic-bezier(0.445, 0.050, 0.550, 0.950)"};n.extend(jQuery.easing,{easeInOutSine:function(b,f,c,a,e){return-a/2*(Math.cos(Math.PI*f/e)-1)+c},easeOutSine:function(b,f,c,a,e){return a*Math.sin(f/e*(Math.PI/2))+c},easeOutCubic:function(b,f,c,a,e){return a*((f=f/e-1)*f*f+1)+c}})})(jQuery,window);(function(c){c.extend(c.rsProto,{_i5:function(){var a=this;"bullets"===a.st.controlNavigation&&(a.ev.one("rsAfterPropsSetup",function(){a._j5=!0;a.slider.addClass("rsWithBullets");for(var b='<div class="rsNav rsBullets">',e=0;e<a.numSlides;e++)b+='<div class="rsNavItem rsBullet"><span></span></div>';a._k5=b=c(b+"</div>");a._l5=b.appendTo(a.slider).children();a._k5.on("click.rs",".rsNavItem",function(b){a._m5||a.goTo(c(this).index())})}),a.ev.on("rsOnAppendSlide",function(b,c,d){d>=a.numSlides?a._k5.append('<div class="rsNavItem rsBullet"><span></span></div>'):a._l5.eq(d).before('<div class="rsNavItem rsBullet"><span></span></div>');a._l5=a._k5.children()}),a.ev.on("rsOnRemoveSlide",function(b,c){var d=a._l5.eq(c);d&&d.length&&(d.remove(),a._l5=a._k5.children())}),a.ev.on("rsOnUpdateNav",function(){var b=a.currSlideId;a._n5&&a._n5.removeClass("rsNavSelected");b=a._l5.eq(b);b.addClass("rsNavSelected");a._n5=b}))}});c.rsModules.bullets=c.rsProto._i5})(jQuery);(function(g){g.extend(g.rsProto,{_h6:function(){var a=this;"thumbnails"===a.st.controlNavigation&&(a._i6={drag:!0,touch:!0,orientation:"horizontal",navigation:!0,arrows:!0,arrowLeft:null,arrowRight:null,spacing:4,arrowsAutoHide:!1,appendSpan:!1,transitionSpeed:600,autoCenter:!0,fitInViewport:!0,firstMargin:!0,paddingTop:0,paddingBottom:0},a.st.thumbs=g.extend({},a._i6,a.st.thumbs),a._j6=!0,!1===a.st.thumbs.firstMargin?a.st.thumbs.firstMargin=0:!0===a.st.thumbs.firstMargin&&(a.st.thumbs.firstMargin=a.st.thumbs.spacing),a.ev.on("rsBeforeParseNode",function(a,b,c){b=g(b);c.thumbnail=b.find(".rsTmb").remove();c.thumbnail.length?c.thumbnail=g(document.createElement("div")).append(c.thumbnail).html():(c.thumbnail=b.attr("data-rsTmb"),c.thumbnail||(c.thumbnail=b.find(".rsImg").attr("data-rsTmb")),c.thumbnail=c.thumbnail?'<img src="'+c.thumbnail+'"/>':"")}),a.ev.one("rsAfterPropsSetup",function(){a._k6()}),a._n5=null,a.ev.on("rsOnUpdateNav",function(){var e=g(a._l5[a.currSlideId]);e!==a._n5&&(a._n5&&(a._n5.removeClass("rsNavSelected"),a._n5=null),a._l6&&a._m6(a.currSlideId),a._n5=e.addClass("rsNavSelected"))}),a.ev.on("rsOnAppendSlide",function(e,b,c){e="<div"+a._n6+' class="rsNavItem rsThumb">'+a._o6+b.thumbnail+"</div>";c>=a.numSlides?a._s3.append(e):a._l5.eq(c).before(e);a._l5=a._s3.children();a.updateThumbsSize()}),a.ev.on("rsOnRemoveSlide",function(e,b){var c=a._l5.eq(b);c&&(c.remove(),a._l5=a._s3.children(),a.updateThumbsSize())}))},_k6:function(){var a=this,e="rsThumbs",b=a.st.thumbs,c="",f,d,h=b.spacing;a._j5=!0;a._e3="vertical"===b.orientation?!1:!0;a._n6=f=h?' style="margin-'+(a._e3?"right":"bottom")+":"+h+'px;"':"";a._i3=0;a._p6=!1;a._m5=!1;a._l6=!1;a._q6=b.arrows&&b.navigation;d=a._e3?"Hor":"Ver";a.slider.addClass("rsWithThumbs rsWithThumbs"+d);c+='<div class="rsNav rsThumbs rsThumbs'+d+'"><div class="'+e+'Container">';a._o6=b.appendSpan?'<span class="thumbIco"></span>':"";for(var k=0;k<a.numSlides;k++)d=a.slides[k],c+="<div"+f+' class="rsNavItem rsThumb">'+d.thumbnail+a._o6+"</div>";c=g(c+"</div></div>");f={};b.paddingTop&&(f[a._e3?"paddingTop":"paddingLeft"]=b.paddingTop);b.paddingBottom&&(f[a._e3?"paddingBottom":"paddingRight"]=b.paddingBottom);c.css(f);a._s3=g(c).find("."+e+"Container");a._q6&&(e+="Arrow",b.arrowLeft?a._r6=b.arrowLeft:(a._r6=g('<div class="'+e+" "+e+'Left"><div class="'+e+'Icn"></div></div>'),c.append(a._r6)),b.arrowRight?a._s6=b.arrowRight:(a._s6=g('<div class="'+e+" "+e+'Right"><div class="'+e+'Icn"></div></div>'),c.append(a._s6)),a._r6.click(function(){var b=(Math.floor(a._i3/a._t6)+a._u6)*a._t6+a._v6;a._a4(b>a._n3?a._n3:b)}),a._s6.click(function(){var b=(Math.floor(a._i3/a._t6)-a._u6)*a._t6+a._v6;a._a4(b<a._o3?a._o3:b)}),b.arrowsAutoHide&&!a.hasTouch&&(a._r6.css("opacity",0),a._s6.css("opacity",0),c.one("mousemove.rsarrowshover",function(){a._l6&&(a._r6.css("opacity",1),a._s6.css("opacity",1))}),c.hover(function(){a._l6&&(a._r6.css("opacity",1),a._s6.css("opacity",1))},function(){a._l6&&(a._r6.css("opacity",0),a._s6.css("opacity",0))})));a._k5=c;a._l5=a._s3.children();a.msEnabled&&a.st.thumbs.navigation&&a._s3.css("-ms-touch-action",a._e3?"pan-y":"pan-x");a.slider.append(c);a._w3=!0;a._v6=h;b.navigation&&a._e&&a._s3.css(a._g+"transition-property",a._g+"transform");a._k5.on("click.rs",".rsNavItem",function(b){a._m5||a.goTo(g(this).index())});a.ev.off("rsBeforeSizeSet.thumbs").on("rsBeforeSizeSet.thumbs",function(){a._w6=a._e3?a._c4:a._b4;a.updateThumbsSize(!0)});a.ev.off("rsAutoHeightChange.thumbs").on("rsAutoHeightChange.thumbs",function(b,c){a.updateThumbsSize(!0,c)})},updateThumbsSize:function(a,e){var b=this,c=b._l5.first(),f={},d=b._l5.length;b._t6=(b._e3?c.outerWidth():c.outerHeight())+b._v6;b._y3=d*b._t6-b._v6;f[b._e3?"width":"height"]=b._y3+b._v6;b._z3=b._e3?b._k5.width():void 0!==e?e:b._k5.height();b._w3&&(b.isFullscreen||b.st.thumbs.fitInViewport)&&(b._e3?b._c4=b._w6-b._k5.outerHeight():b._b4=b._w6-b._k5.outerWidth());b._z3&&(b._o3=-(b._y3-b._z3)-b.st.thumbs.firstMargin,b._n3=b.st.thumbs.firstMargin,b._u6=Math.floor(b._z3/b._t6),b._y3<b._z3?(b.st.thumbs.autoCenter&&b._q3((b._z3-b._y3)/2),b.st.thumbs.arrows&&b._r6&&(b._r6.addClass("rsThumbsArrowDisabled"),b._s6.addClass("rsThumbsArrowDisabled")),b._l6=!1,b._m5=!1,b._k5.off(b._j1)):b.st.thumbs.navigation&&!b._l6&&(b._l6=!0,!b.hasTouch&&b.st.thumbs.drag||b.hasTouch&&b.st.thumbs.touch)&&(b._m5=!0,b._k5.on(b._j1,function(a){b._g2(a,!0)})),b._s3.css(f),a&&e&&b._m6(b.currSlideId),b._e&&(f[b._g+"transition-duration"]="0ms"))},setThumbsOrientation:function(a,e){this._w3&&(this.st.thumbs.orientation=a,this._k5.remove(),this.slider.removeClass("rsWithThumbsHor rsWithThumbsVer"),this._k6(),this._k5.off(this._j1),e||this.updateSliderSize(!0))},_q3:function(a){this._i3=a;this._e?this._s3.css(this._x1,this._y1+(this._e3?a+this._z1+0:0+this._z1+a)+this._a2):this._s3.css(this._e3?this._x1:this._w1,a)},_a4:function(a,e,b,c,f){var d=this;if(d._l6){e||(e=d.st.thumbs.transitionSpeed);d._i3=a;d._x6&&clearTimeout(d._x6);d._p6&&(d._e||d._s3.stop(),b=!0);var h={};d._p6=!0;d._e?(h[d._g+"transition-duration"]=e+"ms",h[d._g+"transition-timing-function"]=b?g.rsCSS3Easing[d.st.easeOut]:g.rsCSS3Easing[d.st.easeInOut],d._s3.css(h),d._q3(a)):(h[d._e3?d._x1:d._w1]=a+"px",d._s3.animate(h,e,b?"easeOutCubic":d.st.easeInOut));c&&(d._i3=c);d._y6();d._x6=setTimeout(function(){d._p6=!1;f&&(d._a4(c,f,!0),f=null)},e)}},_y6:function(){this._q6&&(this._i3===this._n3?this._r6.addClass("rsThumbsArrowDisabled"):this._r6.removeClass("rsThumbsArrowDisabled"),this._i3===this._o3?this._s6.addClass("rsThumbsArrowDisabled"):this._s6.removeClass("rsThumbsArrowDisabled"))},_m6:function(a,e){var b=0,c,f=a*this._t6+2*this._t6-this._v6+this._n3,d=Math.floor(this._i3/this._t6);this._l6&&(this._j6&&(e=!0,this._j6=!1),f+this._i3>this._z3?(a===this.numSlides-1&&(b=1),d=-a+this._u6-2+b,c=d*this._t6+this._z3%this._t6+this._v6-this._n3):0!==a?(a-1)*this._t6<=-this._i3+this._n3&&a-1<=this.numSlides-this._u6&&(c=(-a+1)*this._t6+this._n3):c=this._n3,c!==this._i3&&(b=void 0===c?this._i3:c,b>this._n3?this._q3(this._n3):b<this._o3?this._q3(this._o3):void 0!==c&&(e?this._q3(c):this._a4(c))),this._y6())}});g.rsModules.thumbnails=g.rsProto._h6})(jQuery);
(function(e){e.extend(e.rsProto,{_f6:function(){var a=this;"tabs"===a.st.controlNavigation&&(a.ev.on("rsBeforeParseNode",function(a,d,b){d=e(d);b.thumbnail=d.find(".rsTmb").remove();b.thumbnail.length?b.thumbnail=e(document.createElement("div")).append(b.thumbnail).html():(b.thumbnail=d.attr("data-rsTmb"),b.thumbnail||(b.thumbnail=d.find(".rsImg").attr("data-rsTmb")),b.thumbnail=b.thumbnail?'<img src="'+b.thumbnail+'"/>':"")}),a.ev.one("rsAfterPropsSetup",function(){a._g6()}),a.ev.on("rsOnAppendSlide",function(c,d,b){b>=a.numSlides?a._k5.append('<div class="rsNavItem rsTab">'+d.thumbnail+"</div>"):a._l5.eq(b).before('<div class="rsNavItem rsTab">'+item.thumbnail+"</div>");a._l5=a._k5.children()}),a.ev.on("rsOnRemoveSlide",function(c,d){var b=a._l5.eq(d);b&&(b.remove(),a._l5=a._k5.children())}),a.ev.on("rsOnUpdateNav",function(){var c=a.currSlideId;a._n5&&a._n5.removeClass("rsNavSelected");c=a._l5.eq(c);c.addClass("rsNavSelected");a._n5=c}))},_g6:function(){var a=this,c;a._j5=!0;c='<div class="rsNav rsTabs">';for(var d=0;d<a.numSlides;d++)c+='<div class="rsNavItem rsTab">'+a.slides[d].thumbnail+"</div>";c=e(c+"</div>");a._k5=c;a._l5=c.children(".rsNavItem");a.slider.append(c);a._k5.click(function(b){b=e(b.target).closest(".rsNavItem");b.length&&a.goTo(b.index())})}});e.rsModules.tabs=e.rsProto._f6})(jQuery);(function(c){c.extend(c.rsProto,{_q5:function(){var a=this;a._r5={enabled:!1,keyboardNav:!0,buttonFS:!0,nativeFS:!1,doubleTap:!0};a.st.fullscreen=c.extend({},a._r5,a.st.fullscreen);if(a.st.fullscreen.enabled)a.ev.one("rsBeforeSizeSet",function(){a._s5()})},_s5:function(){var a=this;a._t5=!a.st.keyboardNavEnabled&&a.st.fullscreen.keyboardNav;if(a.st.fullscreen.nativeFS){a._u5={supportsFullScreen:!1,isFullScreen:function(){return!1},requestFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",prefix:""};var b=["webkit","moz","o","ms","khtml"];if(!a.isAndroid)if("undefined"!=typeof document.cancelFullScreen)a._u5.supportsFullScreen=!0;else for(var d=0;d<b.length;d++)if(a._u5.prefix=b[d],"undefined"!=typeof document[a._u5.prefix+"CancelFullScreen"]){a._u5.supportsFullScreen=!0;break}a._u5.supportsFullScreen?(a.nativeFS=!0,a._u5.fullScreenEventName=a._u5.prefix+"fullscreenchange"+a.ns,a._u5.isFullScreen=function(){switch(this.prefix){case"":return document.fullScreen;case"webkit":return document.webkitIsFullScreen;default:return document[this.prefix+"FullScreen"]}},a._u5.requestFullScreen=function(a){return""===this.prefix?a.requestFullScreen():a[this.prefix+"RequestFullScreen"]()},a._u5.cancelFullScreen=function(a){return""===this.prefix?document.cancelFullScreen():document[this.prefix+"CancelFullScreen"]()}):a._u5=!1}a.st.fullscreen.buttonFS&&(a._v5=c('<div class="rsFullscreenBtn"><div class="rsFullscreenIcn"></div></div>').appendTo(a._o1).on("click.rs",function(){a.isFullscreen?a.exitFullscreen():a.enterFullscreen()}))},enterFullscreen:function(a){var b=this;if(b._u5)if(a)b._u5.requestFullScreen(c("html")[0]);else{b._b.on(b._u5.fullScreenEventName,function(a){b._u5.isFullScreen()?b.enterFullscreen(!0):b.exitFullscreen(!0)});b._u5.requestFullScreen(c("html")[0]);return}if(!b._w5){b._w5=!0;b._b.on("keyup"+b.ns+"fullscreen",function(a){27===a.keyCode&&b.exitFullscreen()});b._t5&&b._b2();a=c(window);b._x5=a.scrollTop();b._y5=a.scrollLeft();b._z5=c("html").attr("style");b._a6=c("body").attr("style");b._b6=b.slider.attr("style");c("body, html").css({overflow:"hidden",height:"100%",width:"100%",margin:"0",padding:"0"});b.slider.addClass("rsFullscreen");var d;for(d=0;d<b.numSlides;d++)a=b.slides[d],a.isRendered=!1,a.bigImage&&(a.isBig=!0,a.isMedLoaded=a.isLoaded,a.isMedLoading=a.isLoading,a.medImage=a.image,a.medIW=a.iW,a.medIH=a.iH,a.slideId=-99,a.bigImage!==a.medImage&&(a.sizeType="big"),a.isLoaded=a.isBigLoaded,a.isLoading=!1,a.image=a.bigImage,a.images[0]=a.bigImage,a.iW=a.bigIW,a.iH=a.bigIH,a.isAppended=a.contentAdded=!1,b._c6(a));b.isFullscreen=!0;b._w5=!1;b.updateSliderSize();b.ev.trigger("rsEnterFullscreen")}},exitFullscreen:function(a){var b=this;if(b._u5){if(!a){b._u5.cancelFullScreen(c("html")[0]);return}b._b.off(b._u5.fullScreenEventName)}if(!b._w5){b._w5=!0;b._b.off("keyup"+b.ns+"fullscreen");b._t5&&b._b.off("keydown"+b.ns);c("html").attr("style",b._z5||"");c("body").attr("style",b._a6||"");var d;for(d=0;d<b.numSlides;d++)a=b.slides[d],a.isRendered=!1,a.bigImage&&(a.isBig=!1,a.slideId=-99,a.isBigLoaded=a.isLoaded,a.isBigLoading=a.isLoading,a.bigImage=a.image,a.bigIW=a.iW,a.bigIH=a.iH,a.isLoaded=a.isMedLoaded,a.isLoading=!1,a.image=a.medImage,a.images[0]=a.medImage,a.iW=a.medIW,a.iH=a.medIH,a.isAppended=a.contentAdded=!1,b._c6(a,!0),a.bigImage!==a.medImage&&(a.sizeType="med"));b.isFullscreen=!1;a=c(window);a.scrollTop(b._x5);a.scrollLeft(b._y5);b._w5=!1;b.slider.removeClass("rsFullscreen");b.updateSliderSize();setTimeout(function(){b.updateSliderSize()},1);b.ev.trigger("rsExitFullscreen")}},_c6:function(a,b){var d=a.isLoaded||a.isLoading?'<img class="rsImg rsMainSlideImage" src="'+a.image+'"/>':'<a class="rsImg rsMainSlideImage" href="'+a.image+'"></a>';a.content.hasClass("rsImg")?a.content=c(d):a.content.find(".rsImg").eq(0).replaceWith(d);a.isLoaded||a.isLoading||!a.holder||a.holder.html(a.content)}});c.rsModules.fullscreen=c.rsProto._q5})(jQuery);(function(b){b.extend(b.rsProto,{_x4:function(){var a=this,d;a._y4={enabled:!1,stopAtAction:!0,pauseOnHover:!0,delay:2e3};!a.st.autoPlay&&a.st.autoplay&&(a.st.autoPlay=a.st.autoplay);a.st.autoPlay=b.extend({},a._y4,a.st.autoPlay);a.st.autoPlay.enabled&&(a.ev.on("rsBeforeParseNode",function(a,c,f){c=b(c);if(d=c.attr("data-rsDelay"))f.customDelay=parseInt(d,10)}),a.ev.one("rsAfterInit",function(){a._z4()}),a.ev.on("rsBeforeDestroy",function(){a.stopAutoPlay();a.slider.off("mouseenter mouseleave");b(window).off("blur"+a.ns+" focus"+a.ns)}))},_z4:function(){var a=this;a.startAutoPlay();a.ev.on("rsAfterContentSet",function(b,e){a._l2||a._r2||!a._a5||e!==a.currSlide||a._b5()});a.ev.on("rsDragRelease",function(){a._a5&&a._c5&&(a._c5=!1,a._b5())});a.ev.on("rsAfterSlideChange",function(){a._a5&&a._c5&&(a._c5=!1,a.currSlide.isLoaded&&a._b5())});a.ev.on("rsDragStart",function(){a._a5&&(a.st.autoPlay.stopAtAction?a.stopAutoPlay():(a._c5=!0,a._d5()))});a.ev.on("rsBeforeMove",function(b,e,c){a._a5&&(c&&a.st.autoPlay.stopAtAction?a.stopAutoPlay():(a._c5=!0,a._d5()))});a._e5=!1;a.ev.on("rsVideoStop",function(){a._a5&&(a._e5=!1,a._b5())});a.ev.on("rsVideoPlay",function(){a._a5&&(a._c5=!1,a._d5(),a._e5=!0)});b(window).on("blur"+a.ns,function(){a._a5&&(a._c5=!0,a._d5())}).on("focus"+a.ns,function(){a._a5&&a._c5&&(a._c5=!1,a._b5())});a.st.autoPlay.pauseOnHover&&(a._f5=!1,a.slider.hover(function(){a._a5&&(a._c5=!1,a._d5(),a._f5=!0)},function(){a._a5&&(a._f5=!1,a._b5())}))},toggleAutoPlay:function(){this._a5?this.stopAutoPlay():this.startAutoPlay()},startAutoPlay:function(){this._a5=!0;this.currSlide.isLoaded&&this._b5()},stopAutoPlay:function(){this._e5=this._f5=this._c5=this._a5=!1;this._d5()},_b5:function(){var a=this;a._f5||a._e5||(a._g5=!0,a._h5&&clearTimeout(a._h5),a._h5=setTimeout(function(){var b;a._z||a.st.loopRewind||(b=!0,a.st.loopRewind=!0);a.next(!0);b&&(a.st.loopRewind=!1)},a.currSlide.customDelay?a.currSlide.customDelay:a.st.autoPlay.delay))},_d5:function(){this._f5||this._e5||(this._g5=!1,this._h5&&(clearTimeout(this._h5),this._h5=null))}});b.rsModules.autoplay=b.rsProto._x4})(jQuery);(function(f){f.extend(f.rsProto,{_z6:function(){var a=this;a._a7={autoHideArrows:!0,autoHideControlNav:!1,autoHideBlocks:!1,autoHideCaption:!1,disableCSS3inFF:!0,youTubeCode:'<iframe src="https://www.youtube.com/embed/%id%?rel=1&showinfo=0&autoplay=1&wmode=transparent" frameborder="no"></iframe>',vimeoCode:'<iframe src="https://player.vimeo.com/video/%id%?byline=0&portrait=0&autoplay=1" frameborder="no" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'};a.st.video=f.extend({},a._a7,a.st.video);a.ev.on("rsBeforeSizeSet",function(){a._b7&&setTimeout(function(){var b=a._r1,b=b.hasClass("rsVideoContainer")?b:b.find(".rsVideoContainer");a._c7&&a._c7.css({width:b.width(),height:b.height()})},32)});var d=a._a.mozilla;a.ev.on("rsAfterParseNode",function(b,c,e){b=f(c);if(e.videoURL){a.st.video.disableCSS3inFF&&d&&(a._e=a._f=!1);c=f('<div class="rsVideoContainer"></div>');var g=f('<div class="rsBtnCenterer"><div class="rsPlayBtn"><div class="rsPlayBtnIcon"></div></div></div>');b.hasClass("rsImg")?e.content=c.append(b).append(g):e.content.find(".rsImg").wrap(c).after(g)}});a.ev.on("rsAfterSlideChange",function(){a.stopVideo()})},toggleVideo:function(){return this._b7?this.stopVideo():this.playVideo()},playVideo:function(){var a=this;if(!a._b7){var d=a.currSlide;if(!d.videoURL)return!1;a._d7=d;var b=a._e7=d.content,d=d.videoURL,c,e;d.match(/youtu\.be/i)||d.match(/youtube\.com/i)?(e=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/,(e=d.match(e))&&11==e[7].length&&(c=e[7]),void 0!==c&&(a._c7=a.st.video.youTubeCode.replace("%id%",c))):d.match(/vimeo\.com/i)&&(e=/(www\.)?vimeo.com\/(\d+)($|\/)/,(e=d.match(e))&&(c=e[2]),void 0!==c&&(a._c7=a.st.video.vimeoCode.replace("%id%",c)));a.videoObj=f(a._c7);a.ev.trigger("rsOnCreateVideoElement",[d]);a.videoObj.length&&(a._c7=f('<div class="rsVideoFrameHolder"><div class="rsPreloader"></div><div class="rsCloseVideoBtn"><div class="rsCloseVideoIcn"></div></div></div>'),a._c7.find(".rsPreloader").after(a.videoObj),b=b.hasClass("rsVideoContainer")?b:b.find(".rsVideoContainer"),a._c7.css({width:b.width(),height:b.height()}).find(".rsCloseVideoBtn").off("click.rsv").on("click.rsv",function(b){a.stopVideo();b.preventDefault();b.stopPropagation();return!1}),b.append(a._c7),a.isIPAD&&b.addClass("rsIOSVideo"),a._f7(!1),setTimeout(function(){a._c7.addClass("rsVideoActive")},10),a.ev.trigger("rsVideoPlay"),a._b7=!0);return!0}return!1},stopVideo:function(){var a=this;return a._b7?(a.isIPAD&&a.slider.find(".rsCloseVideoBtn").remove(),a._f7(!0),setTimeout(function(){a.ev.trigger("rsOnDestroyVideoElement",[a.videoObj]);var d=a._c7.find("iframe");if(d.length)try{d.attr("src","")}catch(b){}a._c7.remove();a._c7=null},16),a.ev.trigger("rsVideoStop"),a._b7=!1,!0):!1},_f7:function(a,d){var b=[],c=this.st.video;c.autoHideArrows&&(this._c2&&(b.push(this._c2,this._d2),this._e2=!a),this._v5&&b.push(this._v5));c.autoHideControlNav&&this._k5&&b.push(this._k5);c.autoHideBlocks&&this._d7.animBlocks&&b.push(this._d7.animBlocks);c.autoHideCaption&&this.globalCaption&&b.push(this.globalCaption);this.slider[a?"removeClass":"addClass"]("rsVideoPlaying");if(b.length)for(c=0;c<b.length;c++)a?b[c].removeClass("rsHidden"):b[c].addClass("rsHidden")}});f.rsModules.video=f.rsProto._z6})(jQuery);(function(l){l.extend(l.rsProto,{_p4:function(){function m(){var g=a.currSlide;if(a.currSlide&&a.currSlide.isLoaded&&a._t4!==g){if(0<a._s4.length){for(b=0;b<a._s4.length;b++)clearTimeout(a._s4[b]);a._s4=[]}if(0<a._r4.length){var f;for(b=0;b<a._r4.length;b++)if(f=a._r4[b])a._e?(f.block.css(a._g+a._u1,"0s"),f.block.css(f.css)):f.block.stop(!0).css(f.css),a._t4=null,g.animBlocksDisplayed=!1;a._r4=[]}g.animBlocks&&(g.animBlocksDisplayed=!0,a._t4=g,a._u4(g.animBlocks))}}var a=this,b;a._q4={fadeEffect:!0,moveEffect:"top",moveOffset:20,speed:400,easing:"easeOutSine",delay:200};a.st.block=l.extend({},a._q4,a.st.block);a._r4=[];a._s4=[];a.ev.on("rsAfterInit",function(){m()});a.ev.on("rsBeforeParseNode",function(a,b,d){b=l(b);d.animBlocks=b.find(".rsABlock").css("display","none");d.animBlocks.length||(b.hasClass("rsABlock")?d.animBlocks=b.css("display","none"):d.animBlocks=!1)});a.ev.on("rsAfterContentSet",function(b,f){f.id===a.slides[a.currSlideId].id&&setTimeout(function(){m()},a.st.fadeinLoadedSlide?300:0)});a.ev.on("rsAfterSlideChange",function(){m()})},_v4:function(l,a){setTimeout(function(){l.css(a)},6)},_u4:function(m){var a=this,b,g,f,d,h,e,n;a._s4=[];m.each(function(m){b=l(this);g={};f={};d=null;var c=b.attr("data-move-offset"),c=c?parseInt(c,10):a.st.block.moveOffset;if(0<c&&((e=b.data("move-effect"))?(e=e.toLowerCase(),"none"===e?e=!1:"left"!==e&&"top"!==e&&"bottom"!==e&&"right"!==e&&(e=a.st.block.moveEffect,"none"===e&&(e=!1))):e=a.st.block.moveEffect,e&&"none"!==e)){var p;p="right"===e||"left"===e?!0:!1;var k;n=!1;a._e?(k=0,h=a._x1):(p?isNaN(parseInt(b.css("right"),10))?h="left":(h="right",n=!0):isNaN(parseInt(b.css("bottom"),10))?h="top":(h="bottom",n=!0),h="margin-"+h,n&&(c=-c),a._e?k=parseInt(b.css(h),10):(k=b.data("rs-start-move-prop"),void 0===k&&(k=parseInt(b.css(h),10),isNaN(k)&&(k=0),b.data("rs-start-move-prop",k))));f[h]=a._m4("top"===e||"left"===e?k-c:k+c,p);g[h]=a._m4(k,p)}c=b.attr("data-fade-effect");if(!c)c=a.st.block.fadeEffect;else if("none"===c.toLowerCase()||"false"===c.toLowerCase())c=!1;c&&(f.opacity=0,g.opacity=1);if(c||e)d={},d.hasFade=Boolean(c),Boolean(e)&&(d.moveProp=h,d.hasMove=!0),d.speed=b.data("speed"),isNaN(d.speed)&&(d.speed=a.st.block.speed),d.easing=b.data("easing"),d.easing||(d.easing=a.st.block.easing),d.css3Easing=l.rsCSS3Easing[d.easing],d.delay=b.data("delay"),isNaN(d.delay)&&(d.delay=a.st.block.delay*m);c={};a._e&&(c[a._g+a._u1]="0ms");c.moveProp=g.moveProp;c.opacity=g.opacity;c.display="none";a._r4.push({block:b,css:c});a._v4(b,f);a._s4.push(setTimeout(function(b,d,c,e){return function(){b.css("display","block");if(c){var g={};if(a._e){var f="";c.hasMove&&(f+=c.moveProp);c.hasFade&&(c.hasMove&&(f+=", "),f+="opacity");g[a._g+a._t1]=f;g[a._g+a._u1]=c.speed+"ms";g[a._g+a._v1]=c.css3Easing;b.css(g);setTimeout(function(){b.css(d)},24)}else setTimeout(function(){b.animate(d,c.speed,c.easing)},16)}delete a._s4[e]}}(b,g,d,m),6>=d.delay?12:d.delay))})}});l.rsModules.animatedBlocks=l.rsProto._p4})(jQuery);(function(b){b.extend(b.rsProto,{_w4:function(){var a=this;if(a.st.autoHeight){var b,c,e,f=!0,d=function(d){e=a.slides[a.currSlideId];(b=e.holder)&&(c=b.height())&&void 0!==c&&c>(a.st.minAutoHeight||30)&&(a._c4=c,a._e||!d?a._e1.css("height",c):a._e1.stop(!0,!0).animate({height:c},a.st.transitionSpeed),a.ev.trigger("rsAutoHeightChange",c),f&&(a._e&&setTimeout(function(){a._e1.css(a._g+"transition","height "+a.st.transitionSpeed+"ms ease-in-out")},16),f=!1))};a.ev.on("rsMaybeSizeReady.rsAutoHeight",function(a,b){e===b&&d()});a.ev.on("rsAfterContentSet.rsAutoHeight",function(a,b){e===b&&d()});a.slider.addClass("rsAutoHeight");a.ev.one("rsAfterInit",function(){setTimeout(function(){d(!1);setTimeout(function(){a.slider.append('<div style="clear:both; float: none;"></div>')},16)},16)});a.ev.on("rsBeforeAnimStart",function(){d(!0)});a.ev.on("rsBeforeSizeSet",function(){setTimeout(function(){d(!1)},16)})}}});b.rsModules.autoHeight=b.rsProto._w4})(jQuery);(function(b){b.extend(b.rsProto,{_d6:function(){var a=this;a.st.globalCaption&&(a.ev.on("rsAfterInit",function(){a.globalCaption=b('<div class="rsGCaption"></div>').appendTo(a.st.globalCaptionInside?a._e1:a.slider);a.globalCaption.html(a.currSlide.caption)}),a.ev.on("rsBeforeAnimStart",function(){a.globalCaption.html(a.currSlide.caption)}))}});b.rsModules.globalCaption=b.rsProto._d6})(jQuery);(function(c){c.rsProto._o4=function(){var b,a=this;if(a.st.addActiveClass)a.ev.on("rsOnUpdateNav",function(){b&&clearTimeout(b);b=setTimeout(function(){a._g4&&a._g4.removeClass("rsActiveSlide");a._r1&&a._r1.addClass("rsActiveSlide");b=null},50)})};c.rsModules.activeClass=c.rsProto._o4})(jQuery);(function(d){d.extend(d.rsProto,{_o5:function(){var a=this,l,g,f;a._p5={enabled:!1,change:!1,prefix:""};a.st.deeplinking=d.extend({},a._p5,a.st.deeplinking);if(a.st.deeplinking.enabled){var k=a.st.deeplinking.change,c=a.st.deeplinking.prefix,e="#"+c,h=function(){var b=window.location.hash;return b&&0<b.indexOf(c)&&(b=parseInt(b.substring(e.length),10),0<=b)?b-1:-1},m=h();-1!==m&&(a.st.startSlideId=m);k&&(d(window).on("hashchange"+a.ns,function(b){l||(b=h(),0>b||(b>a.numSlides-1&&(b=a.numSlides-1),a.goTo(b)))}),a.ev.on("rsBeforeAnimStart",function(){g&&clearTimeout(g);f&&clearTimeout(f)}),a.ev.on("rsAfterSlideChange",function(){g&&clearTimeout(g);f&&clearTimeout(f);f=setTimeout(function(){l=!0;window.location.replace((""+window.location).split("#")[0]+e+(a.currSlideId+1));g=setTimeout(function(){l=!1;g=null},60)},400)}));a.ev.on("rsBeforeDestroy",function(){g=f=null;k&&d(window).off("hashchange"+a.ns)})}}});d.rsModules.deeplinking=d.rsProto._o5})(jQuery);(function(d,a,l){function g(b){b=b||location.href;return"#"+b.replace(/^[^#]*#?(.*)$/,"$1")}"$:nomunge";var f="hashchange",k=document,c,e=d.event.special,h=k.documentMode,m="on"+f in a&&(h===l||7<h);d.fn[f]=function(b){return b?this.bind(f,b):this.trigger(f)};d.fn[f].delay=50;e[f]=d.extend(e[f],{setup:function(){if(m)return!1;d(c.start)},teardown:function(){if(m)return!1;d(c.stop)}});c=function(){function b(){var c=g(),n=r(h);c!==h?(p(h=c,n),d(a).trigger(f)):n!==h&&(location.href=location.href.replace(/#.*/,"")+n);e=setTimeout(b,d.fn[f].delay)}var c={},e,h=g(),q=function(b){return b},p=q,r=q;c.start=function(){e||b()};c.stop=function(){e&&clearTimeout(e);e=l};a.attachEvent&&!a.addEventListener&&!m&&function(){var a,e;c.start=function(){a||(e=(e=d.fn[f].src)&&e+g(),a=d('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){e||p(g());b()}).attr("src",e||"javascript:0").insertAfter("body")[0].contentWindow,k.onpropertychange=function(){try{"title"===event.propertyName&&(a.document.title=k.title)}catch(b){}})};c.stop=q;r=function(){return g(a.location.href)};p=function(b,e){var c=a.document,g=d.fn[f].domain;b!==e&&(c.title=k.title,c.open(),g&&c.write('<script>document.domain="'+g+'"</script>'),c.close(),a.location.hash=b)}}();return c}()})(jQuery,this);(function(d){d.rsProto._g7=function(){var a=this;a.st.visibleNearby&&a.st.visibleNearby.enabled&&(a._h7={enabled:!0,centerArea:.6,center:!0,breakpoint:0,breakpointCenterArea:.8,hiddenOverflow:!0,navigateByCenterClick:!1},a.st.visibleNearby=d.extend({},a._h7,a.st.visibleNearby),a.ev.one("rsAfterPropsSetup",function(){a._i7=a._e1.css("overflow","visible").wrap('<div class="rsVisibleNearbyWrap"></div>').parent();a.st.visibleNearby.hiddenOverflow||a._i7.css("overflow","visible");a._o1=a.st.controlsInside?a._i7:a.slider}),a.ev.on("rsAfterSizePropSet",function(){var b,c=a.st.visibleNearby;b=c.breakpoint&&a.width<c.breakpoint?c.breakpointCenterArea:c.centerArea;a._h?(a._b4*=b,a._i7.css({height:a._c4,width:a._b4/b}),a._d=a._b4*(1-b)/2/b):(a._c4*=b,a._i7.css({height:a._c4/b,width:a._b4}),a._d=a._c4*(1-b)/2/b);c.navigateByCenterClick||(a._q=a._h?a._b4:a._c4);c.center&&a._e1.css("margin-"+(a._h?"left":"top"),a._d)}))};d.rsModules.visibleNearby=d.rsProto._g7})(jQuery);window.theme={};(function(theme,$){theme=theme||{};var instanceName="__animate";var PluginAnimate=function($el,opts){return this.initialize($el,opts)};PluginAnimate.defaults={accX:0,accY:-150,delay:1};PluginAnimate.prototype={initialize:function($el,opts){if($el.data(instanceName)){return this}this.$el=$el;this.setData().setOptions(opts).build();return this},setData:function(){this.$el.data(instanceName,this);return this},setOptions:function(opts){this.options=$.extend(true,{},PluginAnimate.defaults,opts,{wrapper:this.$el});return this},build:function(){var self=this,$el=this.options.wrapper,delay=0;$el.addClass("appear-animation");if(!$("html").hasClass("no-csstransitions")&&$(window).width()>767){$el.appear(function(){delay=$el.attr("data-appear-animation-delay")?$el.attr("data-appear-animation-delay"):self.options.delay;if(delay>1){$el.css("animation-delay",delay+"ms")}$el.addClass($el.attr("data-appear-animation"));setTimeout(function(){$el.addClass("appear-animation-visible")},delay)},{accX:self.options.accX,accY:self.options.accY})}else{$el.addClass("appear-animation-visible")}return this}};$.extend(theme,{PluginAnimate:PluginAnimate});$.fn.themePluginAnimate=function(opts){return this.map(function(){var $this=$(this);if($this.data(instanceName)){return $this.data(instanceName)}else{return new PluginAnimate($this,opts)}})}}).apply(this,[window.theme,jQuery]);(function(theme,$){theme=theme||{};var instanceName="__carousel";var PluginCarousel=function($el,opts){return this.initialize($el,opts)};PluginCarousel.defaults={loop:true,responsive:{0:{items:1},479:{items:1},768:{items:2},979:{items:3},1199:{items:4}},navText:[]};PluginCarousel.prototype={initialize:function($el,opts){if($el.data(instanceName)){return this}this.$el=$el;this.setData().setOptions(opts).build();return this},setData:function(){this.$el.data(instanceName,this);return this},setOptions:function(opts){this.options=$.extend(true,{},PluginCarousel.defaults,opts,{wrapper:this.$el});return this},build:function(){if(!$.isFunction($.fn.owlCarousel)){return this}var self=this,$el=this.options.wrapper,activeItemHeight=0;if($("html").attr("dir")=="rtl"){this.options=$.extend(true,{},this.options,{rtl:true})}if(this.options.items==1){this.options.responsive={}}if(this.options.items>4){this.options=$.extend(true,{},this.options,{responsive:{1199:{items:this.options.items}}})}$(window).afterResize(function(){activeItemHeight=$el.find(".owl-item.active").height();$el.find(".owl-stage-outer").height(activeItemHeight)});this.options.wrapper.owlCarousel(this.options).addClass("owl-carousel-init");return this}};$.extend(theme,{PluginCarousel:PluginCarousel});$.fn.themePluginCarousel=function(opts){return this.map(function(){var $this=$(this);if($this.data(instanceName)){return $this.data(instanceName)}else{return new PluginCarousel($this,opts)}})}}).apply(this,[window.theme,jQuery]);(function(theme,$){theme=theme||{};var instanceName="__chartCircular";var PluginChartCircular=function($el,opts){return this.initialize($el,opts)};PluginChartCircular.defaults={accX:0,accY:-150,delay:1,barColor:"#0088CC",trackColor:"#f2f2f2",scaleColor:false,scaleLength:5,lineCap:"round",lineWidth:13,size:175,rotate:0,animate:{duration:2500,enabled:true}};PluginChartCircular.prototype={initialize:function($el,opts){if($el.data(instanceName)){return this}this.$el=$el;this.setData().setOptions(opts).build();return this},setData:function(){this.$el.data(instanceName,this);return this},setOptions:function(opts){this.options=$.extend(true,{},PluginChartCircular.defaults,opts,{wrapper:this.$el});return this},build:function(){if(!$.isFunction($.fn.appear)||!$.isFunction($.fn.easyPieChart)){return this}var self=this,$el=this.options.wrapper,value=$el.attr("data-percent")?$el.attr("data-percent"):0,percentEl=$el.find(".percent");$.extend(true,self.options,{onStep:function(from,to,currentValue){percentEl.html(parseInt(currentValue))}});$el.attr("data-percent",0);$el.appear(function(){$el.easyPieChart(self.options);setTimeout(function(){$el.data("easyPieChart").update(value);$el.attr("data-percent",value)},self.options.delay)},{accX:self.options.accX,accY:self.options.accY});return this}};$.extend(theme,{PluginChartCircular:PluginChartCircular});$.fn.themePluginChartCircular=function(opts){return this.map(function(){var $this=$(this);if($this.data(instanceName)){return $this.data(instanceName)}else{return new PluginChartCircular($this,opts)}})}}).apply(this,[window.theme,jQuery]);(function(theme,$){theme=theme||{};var instanceName="__counter";var PluginCounter=function($el,opts){return this.initialize($el,opts)};PluginCounter.defaults={accX:0,accY:0,speed:3e3,refreshInterval:100,decimals:0,onUpdate:null,onComplete:null};PluginCounter.prototype={initialize:function($el,opts){if($el.data(instanceName)){return this}this.$el=$el;this.setData().setOptions(opts).build();return this},setData:function(){this.$el.data(instanceName,this);return this},setOptions:function(opts){this.options=$.extend(true,{},PluginCounter.defaults,opts,{wrapper:this.$el});return this},build:function(){if(!$.isFunction($.fn.countTo)){return this}var self=this,$el=this.options.wrapper;$.extend(self.options,{onComplete:function(){if($el.data("append")){$el.html($el.html()+$el.data("append"))}if($el.data("prepend")){$el.html($el.data("prepend")+$el.html())}}});$el.appear(function(){$el.countTo(self.options)},{accX:self.options.accX,accY:self.options.accY});return this}};$.extend(theme,{PluginCounter:PluginCounter});$.fn.themePluginCounter=function(opts){return this.map(function(){var $this=$(this);if($this.data(instanceName)){return $this.data(instanceName)}else{return new PluginCounter($this,opts)}})}}).apply(this,[window.theme,jQuery]);(function(theme,$){theme=theme||{};var instanceName="__flickr";var PluginFlickr=function($el,opts){return this.initialize($el,opts)};PluginFlickr.defaults={flickrbase:"http://api.flickr.com/services/feeds/",feedapi:"photos_public.gne",limit:6,qstrings:{lang:"en-us",format:"json",jsoncallback:"?"},cleanDescription:true,useTemplate:true,itemTemplate:'<li><a href="{{image_b}}" title="{{title}}"><span class="thumbnail"><img src="{{image_s}}" /></span></a></li>',itemCallback:function(){}};PluginFlickr.prototype={initialize:function($el,opts){if($el.data(instanceName)){return this}this.$el=$el;this.setData().setOptions(opts).build();return this},setData:function(){this.$el.data(instanceName,this);return this},setOptions:function(opts){this.options=$.extend(true,{},PluginFlickr.defaults,opts,{wrapper:this.$el});return this},build:function(){if(!$.isFunction($.fn.jflickrfeed)||!$.isFunction($.fn.magnificPopup)){return this}var self=this;self.options.wrapper.jflickrfeed(this.options,function(data){self.options.wrapper.magnificPopup({delegate:"a",type:"image",gallery:{enabled:true,navigateByImgClick:true,preload:[0,1]},zoom:{enabled:true,duration:300,opener:function(element){return element.find("img")}}})});return this}};$.extend(theme,{PluginFlickr:PluginFlickr});$.fn.themePluginFlickr=function(opts){return this.map(function(){var $this=$(this);if($this.data(instanceName)){return $this.data(instanceName)}else{return new PluginFlickr($this,opts)}})}}).apply(this,[window.theme,jQuery]);(function(theme,$){theme=theme||{};var instanceName="__lightbox";var PluginLightbox=function($el,opts){return this.initialize($el,opts)};PluginLightbox.defaults={tClose:"Close (Esc)",tLoading:"Loading...",gallery:{tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},image:{tError:'<a href="%url%">The image</a> could not be loaded.'},ajax:{tError:'<a href="%url%">The content</a> could not be loaded.'},callbacks:{open:function(){$("body").addClass("lightbox-opened")},close:function(){$("body").removeClass("lightbox-opened")}}};PluginLightbox.prototype={initialize:function($el,opts){if($el.data(instanceName)){return this}this.$el=$el;this.setData().setOptions(opts).build();return this},setData:function(){this.$el.data(instanceName,this);return this},setOptions:function(opts){this.options=$.extend(true,{},PluginLightbox.defaults,opts,{wrapper:this.$el});return this},build:function(){if(!$.isFunction($.fn.magnificPopup)){return this}this.options.wrapper.magnificPopup(this.options);return this}};$.extend(theme,{PluginLightbox:PluginLightbox});$.fn.themePluginLightbox=function(opts){return this.map(function(){var $this=$(this);if($this.data(instanceName)){return $this.data(instanceName)}else{return new PluginLightbox($this,opts)}})}}).apply(this,[window.theme,jQuery]);(function(theme,$){theme=theme||{};var instanceName="__masonry";var PluginMasonry=function($el,opts){return this.initialize($el,opts)};PluginMasonry.defaults={itemSelector:"li"};PluginMasonry.prototype={initialize:function($el,opts){if($el.data(instanceName)){return this}this.$el=$el;this.setData().setOptions(opts).build();return this},setData:function(){this.$el.data(instanceName,this);return this},setOptions:function(opts){this.options=$.extend(true,{},PluginMasonry.defaults,opts,{wrapper:this.$el});return this},build:function(){if(!$.isFunction($.fn.isotope)){return this}this.options.wrapper.isotope(this.options);return this}};$.extend(theme,{PluginMasonry:PluginMasonry});$.fn.themePluginMasonry=function(opts){return this.map(function(){var $this=$(this);$this.waitForImages(function(){if($this.data(instanceName)){return $this.data(instanceName)}else{return new PluginMasonry($this,opts)}})})}}).apply(this,[window.theme,jQuery]);(function(theme,$){theme=theme||{};$.extend(theme,{PluginParallax:{defaults:{itemsSelector:".parallax",horizontalScrolling:false},initialize:function(opts){this.setOptions(opts).build();return this},setOptions:function(opts){this.options=$.extend(true,{},this.defaults,opts);return this},build:function(){if(!$.isFunction($.fn.stellar)||typeof Modernizr.touch=="undefined"){return this}var self=this;$(window).load(function(){if(!Modernizr.touch){$.stellar(self.options).addClass("parallax-ready")}else{$(self.options.itemsSelector).addClass("parallax-disabled")}});return this}}})}).apply(this,[window.theme,jQuery]);(function(theme,$){theme=theme||{};var instanceName="__progressBar";var PluginProgressBar=function($el,opts){return this.initialize($el,opts)};PluginProgressBar.defaults={accX:0,accY:-50,delay:1};PluginProgressBar.prototype={initialize:function($el,opts){if($el.data(instanceName)){return this}this.$el=$el;this.setData().setOptions(opts).build();return this},setData:function(){this.$el.data(instanceName,this);return this},setOptions:function(opts){this.options=$.extend(true,{},PluginProgressBar.defaults,opts,{wrapper:this.$el});return this},build:function(){if(!$.isFunction($.fn.appear)){return this}var self=this,$el=this.options.wrapper,delay=1;$el.appear(function(){delay=$el.attr("data-appear-animation-delay")?$el.attr("data-appear-animation-delay"):self.options.delay;$el.addClass($el.attr("data-appear-animation"));setTimeout(function(){$el.animate({width:$el.attr("data-appear-progress-animation")},1500,"easeOutQuad",function(){$el.find(".progress-bar-tooltip").animate({opacity:1},500,"easeOutQuad")})},delay)},{accX:self.options.accX,accY:self.options.accY});return this}};$.extend(theme,{PluginProgressBar:PluginProgressBar});$.fn.themePluginProgressBar=function(opts){return this.map(function(){var $this=$(this);if($this.data(instanceName)){return $this.data(instanceName)}else{return new PluginProgressBar($this,opts)}})}}).apply(this,[window.theme,jQuery]);(function(theme,$){theme=theme||{};var instanceName="__revolution";var PluginRevolutionSlider=function($el,opts){return this.initialize($el,opts)};PluginRevolutionSlider.defaults={dottedOverlay:"none",delay:9e3,startwidth:1170,startheight:500,hideThumbs:200,thumbWidth:100,thumbHeight:50,thumbAmount:3,navigationType:"none",navigationArrows:"solo",navigationStyle:"round",touchenabled:"on",onHoverStop:"on",swipe_velocity:.7,swipe_min_touches:1,swipe_max_touches:1,drag_block_vertical:false,keyboardNavigation:"on",navigationHAlign:"center",navigationVAlign:"bottom",navigationHOffset:0,navigationVOffset:20,soloArrowLeftHalign:"left",soloArrowLeftValign:"center",soloArrowLeftHOffset:20,soloArrowLeftVOffset:0,soloArrowRightHalign:"right",soloArrowRightValign:"center",soloArrowRightHOffset:20,soloArrowRightVOffset:0,shadow:0,fullWidth:"on",fullScreen:"off",spinner:"spinner0",stopLoop:"off",stopAfterLoops:-1,stopAtSlide:-1,shuffle:"off",autoHeight:"off",forceFullWidth:"off",hideThumbsOnMobile:"off",hideNavDelayOnMobile:1500,hideBulletsOnMobile:"off",hideArrowsOnMobile:"off",hideThumbsUnderResolution:0,hideSliderAtLimit:0,hideCaptionAtLimit:0,hideAllCaptionAtLilmit:0,startWithSlide:0};PluginRevolutionSlider.prototype={initialize:function($el,opts){if($el.data(instanceName)){return this}this.$el=$el;this.setData().setOptions(opts).build();return this},setData:function(){this.$el.data(instanceName,this);return this},setOptions:function(opts){this.options=$.extend(true,{},PluginRevolutionSlider.defaults,opts,{wrapper:this.$el});return this},build:function(){if(!$.isFunction($.fn.revolution)){return this}this.options.wrapper.revolution(this.options);return this}};$.extend(theme,{PluginRevolutionSlider:PluginRevolutionSlider});$.fn.themePluginRevolutionSlider=function(opts){return this.map(function(){var $this=$(this);if($this.data(instanceName)){return $this.data(instanceName)}else{return new PluginRevolutionSlider($this,opts)}})}}).apply(this,[window.theme,jQuery]);
(function(theme,$){theme=theme||{};$.extend(theme,{PluginScrollToTop:{defaults:{wrapper:$("body"),offset:150,buttonClass:"scroll-to-top",iconClass:"fa fa-chevron-up",delay:500,visibleMobile:false,label:false},initialize:function(opts){initialized=true;this.setOptions(opts).build().events();return this},setOptions:function(opts){this.options=$.extend(true,{},this.defaults,opts);return this},build:function(){var self=this,$el;$el=$("<a />").addClass(self.options.buttonClass).attr({href:"#"}).append($("<i />").addClass(self.options.iconClass));if(!self.options.visibleMobile){$el.addClass("hidden-mobile")}if(self.options.label){$el.append($("<span />").html(self.options.label))}this.options.wrapper.append($el);this.$el=$el;return this},events:function(){var self=this,_isScrolling=false;self.$el.on("click",function(e){e.preventDefault();$("body, html").animate({scrollTop:0},self.options.delay);return false});$(window).scroll(function(){if(!_isScrolling){_isScrolling=true;if($(window).scrollTop()>self.options.offset){self.$el.stop(true,true).addClass("visible");_isScrolling=false}else{self.$el.stop(true,true).removeClass("visible");_isScrolling=false}}});return this}}})}).apply(this,[window.theme,jQuery]);(function(theme,$){theme=theme||{};var instanceName="__sort";var PluginSort=function($el,opts){return this.initialize($el,opts)};PluginSort.defaults={useHash:true,itemSelector:"li",layoutMode:"masonry",filter:"*",isOriginLeft:$("html").attr("dir")=="rtl"?false:true};PluginSort.prototype={initialize:function($el,opts){if($el.data(instanceName)){return this}this.$el=$el;this.setData().setOptions(opts).build();return this},setData:function(){this.$el.data(instanceName,this);return this},setOptions:function(opts){this.options=$.extend(true,{},PluginSort.defaults,opts,{wrapper:this.$el});return this},build:function(){if(!$.isFunction($.fn.isotope)){return this}var self=this,$source=this.options.wrapper,$destination=$('.sort-destination[data-sort-id="'+$source.attr("data-sort-id")+'"]');if($destination.get(0)){self.$source=$source;self.$destination=$destination;self.setParagraphHeight($destination);$(window).load(function(){$destination.isotope(self.options).isotope("layout");self.$destination.isotope("on","layoutComplete",function(isoInstance,laidOutItems){if(self.options.useHash||typeof(isoInstance.options.filter!="undefined")){if(window.location.hash!=""||isoInstance.options.filter.replace(".","")!="*"){window.location.hash=isoInstance.options.filter.replace(".","")}}});self.events()})}return this},events:function(){var self=this,filter=null;self.$source.find("a").click(function(e){e.preventDefault();filter=$(this).parent().attr("data-option-value");self.setFilter(filter);return this});if(self.options.useHash){self.hashEvents()}return this},setFilter:function(filter){var self=this;if(self.filter==filter){return this}self.$source.find("li.active").removeClass("active");self.$source.find('li[data-option-value="'+filter+'"]').addClass("active");self.$destination.isotope({filter:filter});self.filter=filter;return this},hashEvents:function(){var self=this,hash=null,hashFilter=null,initHashFilter="."+location.hash.replace("#","");if(initHashFilter!="."&&initHashFilter!=".*"){self.setFilter(initHashFilter)}$(window).bind("hashchange",function(e){hashFilter="."+location.hash.replace("#","");hash=hashFilter=="."||hashFilter==".*"?"*":hashFilter;self.setFilter(hash)});return this},setParagraphHeight:function(){var self=this,minParagraphHeight=0,paragraphs=$("span.thumb-info-caption p",self.$destination);paragraphs.each(function(){if($(this).height()>minParagraphHeight){minParagraphHeight=$(this).height()+10}});paragraphs.height(minParagraphHeight);return this}};$.extend(theme,{PluginSort:PluginSort});$.fn.themePluginSort=function(opts){return this.map(function(){var $this=$(this);if($this.data(instanceName)){return $this.data(instanceName)}else{return new PluginSort($this,opts)}})}}).apply(this,[window.theme,jQuery]);(function(theme,$){theme=theme||{};var instanceName="__matchHeight";var PluginMatchHeight=function($el,opts){return this.initialize($el,opts)};PluginMatchHeight.defaults={byRow:true,property:"height",target:null,remove:false};PluginMatchHeight.prototype={initialize:function($el,opts){if($el.data(instanceName)){return this}this.$el=$el;this.setData().setOptions(opts).build();return this},setData:function(){this.$el.data(instanceName,this);return this},setOptions:function(opts){this.options=$.extend(true,{},PluginMatchHeight.defaults,opts,{wrapper:this.$el});return this},build:function(){if(!$.isFunction($.fn.matchHeight)){return this}var self=this;self.options.wrapper.matchHeight(self.options);return this}};$.extend(theme,{PluginMatchHeight:PluginMatchHeight});$.fn.themePluginMatchHeight=function(opts){return this.map(function(){var $this=$(this);if($this.data(instanceName)){return $this.data(instanceName)}else{return new PluginMatchHeight($this,opts)}})}}).apply(this,[window.theme,jQuery]);(function(theme,$){theme=theme||{};var instanceName="__toggle";var PluginToggle=function($el,opts){return this.initialize($el,opts)};PluginToggle.defaults={duration:350,isAccordion:false};PluginToggle.prototype={initialize:function($el,opts){if($el.data(instanceName)){return this}this.$el=$el;this.setData().setOptions(opts).build();return this},setData:function(){this.$el.data(instanceName,this);return this},setOptions:function(opts){this.options=$.extend(true,{},PluginToggle.defaults,opts,{wrapper:this.$el});return this},build:function(){var self=this,$wrapper=this.options.wrapper,$items=$wrapper.find(".toggle"),$el=null;$items.each(function(){$el=$(this);if($el.hasClass("active")){$el.find("> p").addClass("preview-active");$el.find("> .toggle-content").slideDown(self.options.duration)}self.events($el)});if(self.options.isAccordion){self.options.duration=self.options.duration/2}return this},events:function($el){var self=this,previewParCurrentHeight=0,previewParAnimateHeight=0,toggleContent=null;$el.find("> label").click(function(e){var $this=$(this),parentSection=$this.parent(),parentWrapper=$this.parents(".toggle"),previewPar=null,closeElement=null;if(self.options.isAccordion&&typeof e.originalEvent!="undefined"){closeElement=parentWrapper.find(".toggle.active > label");if(closeElement[0]==$this[0]){return}}parentSection.toggleClass("active");if(parentSection.find("> p").get(0)){previewPar=parentSection.find("> p");previewParCurrentHeight=previewPar.css("height");previewPar.css("height","auto");previewParAnimateHeight=previewPar.css("height");previewPar.css("height",previewParCurrentHeight)}toggleContent=parentSection.find("> .toggle-content");if(parentSection.hasClass("active")){$(previewPar).animate({height:previewParAnimateHeight},self.options.duration,function(){$(this).addClass("preview-active")});toggleContent.slideDown(self.options.duration,function(){if(closeElement){closeElement.trigger("click")}})}else{$(previewPar).animate({height:0},self.options.duration,function(){$(this).removeClass("preview-active")});toggleContent.slideUp(self.options.duration)}})}};$.extend(theme,{PluginToggle:PluginToggle});$.fn.themePluginToggle=function(opts){return this.map(function(){var $this=$(this);if($this.data(instanceName)){return $this.data(instanceName)}else{return new PluginToggle($this,opts)}})}}).apply(this,[window.theme,jQuery]);(function(theme,$){theme=theme||{};var instanceName="__tweets";var PluginTweets=function($el,opts){return this.initialize($el,opts)};PluginTweets.defaults={username:null,count:2,URL:"php/twitter-feed.php"};PluginTweets.prototype={initialize:function($el,opts){if($el.data(instanceName)){return this}this.$el=$el;this.setData().setOptions(opts).build();return this},setData:function(){this.$el.data(instanceName,this);return this},setOptions:function(opts){this.options=$.extend(true,{},PluginTweets.defaults,opts,{wrapper:this.$el});return this},build:function(){if(this.options.username==null||this.options.username==""){return this}var self=this,$wrapper=this.options.wrapper;$.ajax({type:"GET",data:{twitter_screen_name:self.options.username,tweets_to_display:self.options.count},url:self.options.URL}).done(function(html){$wrapper.html(html)});return this}};$.extend(theme,{PluginTweets:PluginTweets});$.fn.themePluginTweets=function(opts){return this.map(function(){var $this=$(this);if($this.data(instanceName)){return $this.data(instanceName)}else{return new PluginTweets($this,opts)}})}}).apply(this,[window.theme,jQuery]);(function(theme,$){theme=theme||{};$.extend(theme,{PluginValidation:{defaults:{validator:{highlight:function(element){$(element).parent().removeClass("has-success").addClass("has-error")},success:function(element){$(element).parent().removeClass("has-error").addClass("has-success").find("label.error").remove()},errorPlacement:function(error,element){if(element.attr("type")=="radio"||element.attr("type")=="checkbox"){error.appendTo(element.parent().parent())}else{error.insertAfter(element)}}},validateCaptchaURL:"php/contact-form-verify-captcha.php",refreshCaptchaURL:"php/contact-form-refresh-captcha.php"},initialize:function(opts){initialized=true;this.setOptions(opts).build();return this},setOptions:function(opts){this.options=$.extend(true,{},this.defaults,opts);return this},build:function(){var self=this;if(!$.isFunction($.validator)){return this}self.addMethods();self.setMessageGroups();$.validator.setDefaults(self.options.validator);return this},addMethods:function(){var self=this;$.validator.addMethod("captcha",function(value,element,params){var captchaValid=false;$.ajax({url:self.options.validateCaptchaURL,type:"POST",async:false,dataType:"json",data:{captcha:$.trim(value)},success:function(data){if(data.response=="success"){captchaValid=true}}});if(captchaValid){return true}},"");$("#refreshCaptcha").on("click",function(e){e.preventDefault();$.get(self.options.refreshCaptchaURL,function(url){$("#captcha-image").attr("src",url)})})},setMessageGroups:function(){$(".checkbox-group[data-msg-required], .radio-group[data-msg-required]").each(function(){var message=$(this).data("msg-required");$(this).find("input").attr("data-msg-required",message)})}}})}).apply(this,[window.theme,jQuery]);(function(theme,$){theme=theme||{};var instanceName="__videobackground";var PluginVideoBackground=function($el,opts){return this.initialize($el,opts)};PluginVideoBackground.defaults={overlay:true,volume:1,playbackRate:1,muted:true,loop:true,autoplay:true,position:"50% 50%",posterType:"detect"};PluginVideoBackground.prototype={initialize:function($el,opts){this.$el=$el;this.setData().setOptions(opts).build();return this},setData:function(){this.$el.data(instanceName,this);return this},setOptions:function(opts){this.options=$.extend(true,{},PluginVideoBackground.defaults,opts,{path:this.$el.data("video-path"),wrapper:this.$el});return this},build:function(){if(!$.isFunction($.fn.vide)||!this.options.path){return this}if(this.options.overlay){this.options.wrapper.prepend($("<div />").addClass("video-overlay"))}this.options.wrapper.vide(this.options.path,this.options);return this}};$.extend(theme,{PluginVideoBackground:PluginVideoBackground});$.fn.themePluginVideoBackground=function(opts){return this.map(function(){var $this=$(this);if($this.data(instanceName)){return $this.data(instanceName)}else{return new PluginVideoBackground($this,opts)}})}}).apply(this,[window.theme,jQuery]);(function(theme,$){theme=theme||{};var instanceName="__sticky";var PluginSticky=function($el,opts){return this.initialize($el,opts)};PluginSticky.defaults={minWidth:991,activeClass:"sticky-active"};PluginSticky.prototype={initialize:function($el,opts){if($el.data(instanceName)){return this}this.$el=$el;this.setData().setOptions(opts).build();return this},setData:function(){this.$el.data(instanceName,this);return this},setOptions:function(opts){this.options=$.extend(true,{},PluginSticky.defaults,opts,{wrapper:this.$el});return this},build:function(){if(!$.isFunction($.fn.pin)){return this}this.options.wrapper.pin(this.options);return this}};$.extend(theme,{PluginSticky:PluginSticky});$.fn.themePluginSticky=function(opts){return this.map(function(){var $this=$(this);if($this.data(instanceName)){return $this.data(instanceName)}else{return new PluginSticky($this,opts)}})}}).apply(this,[window.theme,jQuery]);(function(theme,$){theme=theme||{};var instanceName="__wordRotate";var PluginWordRotate=function($el,opts){return this.initialize($el,opts)};PluginWordRotate.defaults={delay:2e3,animDelay:300};PluginWordRotate.prototype={initialize:function($el,opts){if($el.data(instanceName)){return this}this.$el=$el;this.setData().setOptions(opts).build();return this},setData:function(){this.$el.data(instanceName,this);return this},setOptions:function(opts){this.options=$.extend(true,{},PluginWordRotate.defaults,opts,{wrapper:this.$el});return this},build:function(){var self=this,$el=this.options.wrapper,itemsWrapper=$el.find(".word-rotate-items"),items=itemsWrapper.find("> span"),firstItem=items.eq(0),firstItemClone=firstItem.clone(),currentItem=1,currentTop=0,itemWidth=0;itemsWrapper.width(firstItem.width()+"px").append(firstItemClone);$el.addClass("active");setInterval(function(){currentTop=currentItem*$el.height();currentItem++;if(currentItem<=items.length){itemWidth=items.eq(currentItem-1).width()}else{itemWidth=items.eq(0).width()}itemsWrapper.animate({top:-currentTop+"px",width:itemWidth+"px"},self.options.animDelay,"easeOutQuad",function(){if(currentItem>items.length){itemsWrapper.css("top",0);currentItem=1}})},self.options.delay);return this}};$.extend(theme,{PluginWordRotate:PluginWordRotate});$.fn.themePluginWordRotate=function(opts){return this.map(function(){var $this=$(this);if($this.data(instanceName)){return $this.data(instanceName)}else{return new PluginWordRotate($this,opts)}})}}).apply(this,[window.theme,jQuery]);(function(theme,$){"use strict";theme=theme||{};var loadingOverlayTemplate=['<div class="loading-overlay">','<div class="loader"></div>',"</div>"].join("");var LoadingOverlay=function($wrapper,options){return this.initialize($wrapper,options)};LoadingOverlay.prototype={options:{css:{}},initialize:function($wrapper,options){this.$wrapper=$wrapper;this.setVars().setOptions(options).build().events();this.$wrapper.data("loadingOverlay",this)},setVars:function(){this.$overlay=this.$wrapper.find(".loading-overlay");return this},setOptions:function(options){if(!this.$overlay.get(0)){this.matchProperties()}this.options=$.extend(true,{},this.options,options);this.loaderClass=this.getLoaderClass(this.options.css.backgroundColor);return this},build:function(){if(!this.$overlay.closest(document.documentElement).get(0)){if(!this.$cachedOverlay){this.$overlay=$(loadingOverlayTemplate).clone();if(this.options.css){this.$overlay.css(this.options.css);this.$overlay.find(".loader").addClass(this.loaderClass)}}else{this.$overlay=this.$cachedOverlay.clone()}this.$wrapper.append(this.$overlay)}if(!this.$cachedOverlay){this.$cachedOverlay=this.$overlay.clone()}return this},events:function(){var _self=this;if(this.options.startShowing){_self.show()}if(this.$wrapper.is("body")||this.options.hideOnWindowLoad){$(window).on("load error",function(){_self.hide()})}if(this.options.listenOn){$(this.options.listenOn).on("loading-overlay:show beforeSend.ic",function(e){e.stopPropagation();_self.show()}).on("loading-overlay:hide complete.ic",function(e){e.stopPropagation();_self.hide()})}this.$wrapper.on("loading-overlay:show beforeSend.ic",function(e){e.stopPropagation();_self.show()}).on("loading-overlay:hide complete.ic",function(e){e.stopPropagation();_self.hide()});return this},show:function(){this.build();this.position=this.$wrapper.css("position").toLowerCase();if(this.position!="relative"||this.position!="absolute"||this.position!="fixed"){this.$wrapper.css({position:"relative"})}this.$wrapper.addClass("loading-overlay-showing")},hide:function(){var _self=this;this.$wrapper.removeClass("loading-overlay-showing");setTimeout(function(){if(this.position!="relative"||this.position!="absolute"||this.position!="fixed"){_self.$wrapper.css({position:""})}},500)},matchProperties:function(){var i,l,properties;properties=["backgroundColor","borderRadius"];l=properties.length;for(i=0;i<l;i++){var obj={};obj[properties[i]]=this.$wrapper.css(properties[i]);$.extend(this.options.css,obj)}},getLoaderClass:function(backgroundColor){if(!backgroundColor||backgroundColor==="transparent"||backgroundColor==="inherit"){return"black"}var hexColor,r,g,b,yiq;var colorToHex=function(color){var hex,rgb;if(color.indexOf("#")>-1){hex=color.replace("#","")}else{rgb=color.match(/\d+/g);hex=("0"+parseInt(rgb[0],10).toString(16)).slice(-2)+("0"+parseInt(rgb[1],10).toString(16)).slice(-2)+("0"+parseInt(rgb[2],10).toString(16)).slice(-2)}if(hex.length===3){hex=hex+hex}return hex};hexColor=colorToHex(backgroundColor);r=parseInt(hexColor.substr(0,2),16);g=parseInt(hexColor.substr(2,2),16);b=parseInt(hexColor.substr(4,2),16);yiq=(r*299+g*587+b*114)/1e3;return yiq>=128?"black":"white"}};$.extend(theme,{LoadingOverlay:LoadingOverlay});$.fn.loadingOverlay=function(opts){return this.each(function(){var $this=$(this);var loadingOverlay=$this.data("loadingOverlay");if(loadingOverlay){return loadingOverlay}else{var options=opts||$this.data("loading-overlay-options")||{};return new LoadingOverlay($this,options)}})};$(function(){$("[data-loading-overlay]").loadingOverlay()})}).apply(this,[window.theme,jQuery]);(function(theme,$){theme=theme||{};var initialized=false;$.extend(theme,{Account:{defaults:{wrapper:$("#headerAccount")},initialize:function($wrapper,opts){if(initialized){return this}initialized=true;this.$wrapper=$wrapper||this.defaults.wrapper;this.setOptions(opts).events();return this},setOptions:function(opts){this.options=$.extend(true,{},this.defaults,opts,this.$wrapper.data("plugin-options"));return this},events:function(){var self=this;self.$wrapper.find("input").on("focus",function(){self.$wrapper.addClass("open");$(document).mouseup(function(e){if(!self.$wrapper.is(e.target)&&self.$wrapper.has(e.target).length===0){self.$wrapper.removeClass("open")}})});$("#headerSignUp").on("click",function(e){e.preventDefault();self.$wrapper.addClass("signup").removeClass("signin").removeClass("recover");self.$wrapper.find(".signup-form input:first").focus()});$("#headerSignIn").on("click",function(e){e.preventDefault();self.$wrapper.addClass("signin").removeClass("signup").removeClass("recover");self.$wrapper.find(".signin-form input:first").focus()});$("#headerRecover").on("click",function(e){e.preventDefault();self.$wrapper.addClass("recover").removeClass("signup").removeClass("signin");self.$wrapper.find(".recover-form input:first").focus()});$("#headerRecoverCancel").on("click",function(e){e.preventDefault();self.$wrapper.addClass("signin").removeClass("signup").removeClass("recover");self.$wrapper.find(".signin-form input:first").focus()})}}})}).apply(this,[window.theme,jQuery]);(function(theme,$){theme=theme||{};var initialized=false;$.extend(theme,{Newsletter:{defaults:{wrapper:$("#newsletterForm")},initialize:function($wrapper,opts){if(initialized){return this}initialized=true;this.$wrapper=$wrapper||this.defaults.wrapper;this.setOptions(opts).build();return this},setOptions:function(opts){this.options=$.extend(true,{},this.defaults,opts,this.$wrapper.data("plugin-options"));return this},build:function(){if(!$.isFunction($.fn.validate)){return this}var self=this,$email=self.$wrapper.find("#newsletterEmail"),$success=$("#newsletterSuccess"),$error=$("#newsletterError");self.$wrapper.validate({submitHandler:function(form){$.ajax({type:"POST",url:self.$wrapper.attr("action"),data:{email:$email.val()},dataType:"json",success:function(data){if(data.response=="success"){$success.removeClass("hidden");$error.addClass("hidden");$email.val("").blur().closest(".control-group").removeClass("success").removeClass("error")}else{$error.html(data.message);$error.removeClass("hidden");$success.addClass("hidden");$email.blur().closest(".control-group").removeClass("success").addClass("error")}}})},rules:{newsletterEmail:{required:true,email:true}},errorPlacement:function(error,element){}});return this}}})}).apply(this,[window.theme,jQuery]);(function(theme,$){theme=theme||{};var initialized=false;$.extend(theme,{Search:{defaults:{wrapper:$("#searchForm")},initialize:function($wrapper,opts){if(initialized){return this}initialized=true;this.$wrapper=$wrapper||this.defaults.wrapper;this.setOptions(opts).build();return this},setOptions:function(opts){this.options=$.extend(true,{},this.defaults,opts,this.$wrapper.data("plugin-options"));return this},build:function(){if(!$.isFunction($.fn.validate)){return this}this.$wrapper.validate({errorPlacement:function(error,element){}});return this}}})}).apply(this,[window.theme,jQuery]);(function($){"use strict";if(typeof theme.PluginScrollToTop!=="undefined"){theme.PluginScrollToTop.initialize()}if(typeof theme.PluginParallax!=="undefined"){theme.PluginParallax.initialize()}if($.isFunction($.fn["tooltip"])){$("[data-tooltip]:not(.manual), [data-plugin-tooltip]:not(.manual)").tooltip()}if($.isFunction($.fn["popover"])){$(function(){$("[data-plugin-popover]:not(.manual)").each(function(){var $this=$(this),opts;var pluginOptions=$this.data("plugin-options");if(pluginOptions)opts=pluginOptions;$this.popover(opts)})})}if(typeof theme.PluginValidation!=="undefined"){theme.PluginValidation.initialize()}if($.isFunction($.fn["matchHeight"])){$(".match-height").matchHeight();$(".featured-boxes .featured-box").matchHeight();$(".featured-box-full").matchHeight()}}).apply(this,[jQuery]);(function($){"use strict";if($.isFunction($.fn["themePluginAnimate"])){$(function(){$("[data-plugin-animate], [data-appear-animation]").each(function(){var $this=$(this),opts;var pluginOptions=$this.data("plugin-options");if(pluginOptions)opts=pluginOptions;$this.themePluginAnimate(opts)})})}}).apply(this,[jQuery]);(function($){"use strict";if($.isFunction($.fn["themePluginCarousel"])){$(function(){$("[data-plugin-carousel]:not(.manual), .owl-carousel:not(.manual)").each(function(){var $this=$(this),opts;var pluginOptions=$this.data("plugin-options");if(pluginOptions)opts=pluginOptions;$this.themePluginCarousel(opts)})})}}).apply(this,[jQuery]);(function($){"use strict";if($.isFunction($.fn["themePluginChartCircular"])){$(function(){$("[data-plugin-chart-circular]:not(.manual), .circular-bar-chart:not(.manual)").each(function(){var $this=$(this),opts;var pluginOptions=$this.data("plugin-options");if(pluginOptions)opts=pluginOptions;$this.themePluginChartCircular(opts)})})}}).apply(this,[jQuery]);(function($){"use strict";if($.isFunction($.fn["themePluginCounter"])){$(function(){$("[data-plugin-counter]:not(.manual), .counters [data-to]").each(function(){var $this=$(this),opts;var pluginOptions=$this.data("plugin-options");if(pluginOptions)opts=pluginOptions;$this.themePluginCounter(opts)})})}}).apply(this,[jQuery]);(function($){"use strict";if($.isFunction($.fn["themePluginFlickr"])){$(function(){$("[data-plugin-flickr]:not(.manual)").each(function(){var $this=$(this),opts;var pluginOptions=$this.data("plugin-options");if(pluginOptions)opts=pluginOptions;$this.themePluginFlickr(opts)})})}}).apply(this,[jQuery]);(function($){"use strict";if($.isFunction($.fn["themePluginLightbox"])){$(function(){$("[data-plugin-lightbox]:not(.manual), .lightbox:not(.manual)").each(function(){var $this=$(this),opts;var pluginOptions=$this.data("plugin-options");if(pluginOptions)opts=pluginOptions;$this.themePluginLightbox(opts)})})}}).apply(this,[jQuery]);(function($){"use strict";if($.isFunction($.fn["themePluginMasonry"])){$(function(){$("[data-plugin-masonry]:not(.manual)").each(function(){var $this=$(this),opts;var pluginOptions=$this.data("plugin-options");if(pluginOptions)opts=pluginOptions;$this.themePluginMasonry(opts)})})}}).apply(this,[jQuery]);(function($){"use strict";if($.isFunction($.fn["themePluginProgressBar"])){$(function(){$("[data-plugin-progress-bar]:not(.manual), [data-appear-progress-animation]").each(function(){var $this=$(this),opts;var pluginOptions=$this.data("plugin-options");if(pluginOptions)opts=pluginOptions;$this.themePluginProgressBar(opts)})})}}).apply(this,[jQuery]);(function($){"use strict";if($.isFunction($.fn["themePluginRevolutionSlider"])){$(function(){$("[data-plugin-revolution-slider]:not(.manual), .slider-container .slider:not(.manual)").each(function(){var $this=$(this),opts;var pluginOptions=$this.data("plugin-options");if(pluginOptions)opts=pluginOptions;$this.themePluginRevolutionSlider(opts)})})}}).apply(this,[jQuery]);(function($){"use strict";if($.isFunction($.fn["themePluginSort"])){$(function(){$("[data-plugin-sort]:not(.manual), .sort-source:not(.manual)").each(function(){var $this=$(this),opts;var pluginOptions=$this.data("plugin-options");if(pluginOptions)opts=pluginOptions;$this.themePluginSort(opts)})})}}).apply(this,[jQuery]);(function($){"use strict";if($.isFunction($.fn["themePluginMatchHeight"])){$(function(){$("[data-plugin-match-height]:not(.manual)").each(function(){var $this=$(this),opts;var pluginOptions=$this.data("plugin-options");if(pluginOptions)opts=pluginOptions;$this.themePluginMatchHeight(opts)})})}}).apply(this,[jQuery]);(function($){"use strict";if($.isFunction($.fn["themePluginToggle"])){$(function(){$("[data-plugin-toggle]:not(.manual)").each(function(){var $this=$(this),opts;var pluginOptions=$this.data("plugin-options");if(pluginOptions)opts=pluginOptions;$this.themePluginToggle(opts)})})}}).apply(this,[jQuery]);(function($){"use strict";if($.isFunction($.fn["themePluginTweets"])){$(function(){$("[data-plugin-tweets]:not(.manual)").each(function(){var $this=$(this),opts;var pluginOptions=$this.data("plugin-options");if(pluginOptions)opts=pluginOptions;$this.themePluginTweets(opts)})})}}).apply(this,[jQuery]);(function($){"use strict";if($.isFunction($.fn["themePluginVideoBackground"])){$(function(){$("[data-plugin-video-background]:not(.manual)").each(function(){var $this=$(this),opts;var pluginOptions=$this.data("plugin-options");if(pluginOptions)opts=pluginOptions;$this.themePluginVideoBackground(opts)})})}}).apply(this,[jQuery]);(function($){"use strict";if($.isFunction($.fn["themePluginSticky"])){$(function(){$("[data-plugin-sticky]:not(.manual)").each(function(){var $this=$(this),opts;var pluginOptions=$this.data("plugin-options");if(pluginOptions)opts=pluginOptions;$this.themePluginSticky(opts)})})}}).apply(this,[jQuery]);(function($){"use strict";if($.isFunction($.fn["themePluginWordRotate"])){$(function(){$("[data-plugin-word-rotate]:not(.manual), .word-rotate:not(.manual)").each(function(){var $this=$(this),opts;var pluginOptions=$this.data("plugin-options");if(pluginOptions)opts=pluginOptions;$this.themePluginWordRotate(opts)})})}}).apply(this,[jQuery]);(function($){"use strict";if(typeof theme.StickyMenu!=="undefined"){theme.StickyMenu.initialize()}if(typeof theme.Nav!=="undefined"){theme.Nav.initialize()}if(typeof theme.Search!=="undefined"){theme.Search.initialize()}if(typeof theme.Newsletter!=="undefined"){theme.Newsletter.initialize()}if(typeof theme.Account!=="undefined"){theme.Account.initialize()}}).apply(this,[jQuery]);if(typeof Chudu24=="undefined")var Chudu24={};if(typeof Chudu24.Hotels=="undefined")Chudu24.Hotels={};Chudu24.Hotels.key_reload="reloadlist";Chudu24.Hotels.HotelDetails={hotellink:$("#params").attr("hotellink"),isLoadVideo:false,hotelIdInt:$("#params").attr("hotelIdInt"),relv2:$("#params").attr("relv2"),hotelName:$("#params").attr("hotelName"),cityId:$("#params").attr("cityid"),cityName:$("#params").attr("cityname"),cityTextId:$("#params").attr("citytextid"),roomTypeIdInt:null,isDisplayBoxTax:$("#params").attr("IsDisplayBoxTax"),showPriceType:$("#params").attr("ShowPriceType"),isShowPrice:$("#params").attr("IsShowPrice"),isShowPromotionPrice:$("#params").attr("IsShowPromotionPrice"),fullAddress:$("#params").attr("FullAddress"),pointerLatitude:0,pointerLongitude:0,hotelTextId:$("#params").attr("HotelTextId"),Init:function(){var thisObj=Chudu24.Hotels.HotelDetails;if(Chudu24.Master.enable_crsf===true&&Chudu24.Master.is_reload==true){var key_tag=".clicklaygia:first";Chudu24.Master.reloadFormBooking(Chudu24.Hotels.key_reload,key_tag)}thisObj.Events();thisObj.PageLoad();thisObj.ShowFacebookBar();Chudu24.Master.LazyLoadingImgMaster()},Events:function(){$(document).on("click","span.HotelRating",function(e){if(!$("#divDlogHotelDetailsRating").dialog("isOpen")){$("#divDlogHotelDetailsRating").dialog("option","position",{my:"center center",at:"center center",of:window});$("#divDlogHotelDetailsRating").dialog("open")}});$("#divDlogHotelDetailsRating").dialog({width:385,height:164,autoOpen:false,modal:false,create:function(event,ui){var _this=$(this);if($("button",$(".ui-dialog-titlebar",_this.parent())).length>0){$("button",$(".ui-dialog-titlebar",_this.parent())).before('<a href="#" role="button">Đóng</a>')}else{$(".ui-dialog-titlebar",_this.parent()).append('<a href="#" role="button">Đóng</a>')}$("a[role='button']",$(".ui-dialog-titlebar",_this.parent())).click(function(e){e.preventDefault();_this.dialog("close")})}});$(document).on("click","h2.showDistance",function(e){var $distanceFromHotel=$($(this).parent(".DistanceFromHotel")[0]);var $listGroup=$("ul.list-group",$distanceFromHotel);if($distanceFromHotel.hasClass("active")){$listGroup.slideUp();$distanceFromHotel.removeClass("active")}else{$listGroup.slideDown();$distanceFromHotel.addClass("active")}});$(document).on("click",".distance-footer",function(e){var $distanceFooter=$("#hotel-distance");var $listGroup=$("ul.list-group",$distanceFooter);if($distanceFooter.hasClass("active")){$listGroup.slideUp();$distanceFooter.removeClass("active")}else{$listGroup.slideDown();$distanceFooter.addClass("active")}});$(document).on("click",".cttext-text .readmore",function(e){e.preventDefault();var $this=$(this);var type=$this.attr("type");var $sidebar=$("div.sidebar-box",$this.parent());var $purdah=$("p.purdah",$sidebar);var $cttext_text=$this.parents(".hotel-item .cttext-text");var $clicklaygia=$cttext_text.nextAll(".hotel-item .clicklaygia");if(type=="readmore"){var totalHeight=0;var $pContent=$sidebar.find("div.pHotelDes");$pContent.each(function(){totalHeight+=$(this).outerHeight()});$sidebar.css({height:$sidebar.height(),"max-height":9999}).animate({height:totalHeight});$this.text("Rút gọn").attr("type","shortcut");$purdah.css("background-image","none");if($clicklaygia.length>0&&$clicklaygia.is(":visible")){$cttext_text.css({width:"100%"});$clicklaygia.hide();var _clicklaygia=$clicklaygia.clone();_clicklaygia.addClass("clicklaygiaTemp").css({"float":"right",margin:"0px 0px 0px 10px!important"});$(".pHotelDes",$cttext_text).prepend(_clicklaygia);_clicklaygia.show()}}else if(type=="shortcut"){$this.text("Xem thêm").attr("type","readmore");$sidebar.css({height:$sidebar.height(),"max-height":9999}).animate({height:80});$purdah.css("background-image","-webkit-gradient(linear,left top,left bottom,color-stop(0, transparent),color-stop(1, rgba(253, 252, 252, 0.54)))");if($clicklaygia.length>0&&$(".clicklaygiaTemp").length>0){$(".clicklaygiaTemp").remove();$cttext_text.css({width:$cttext_text.data("width")});$clicklaygia.show()}}});$(document).on("click",".clicklaygia",function(e){e.preventDefault();if($.GetCookie("CustomerEmailBGT")!=undefined||!$.isEmpty($.GetCookie("CustomerEmailBGT"))){$("#divBGT #txtBGTEmail").val($.GetCookie("CustomerEmailBGT"))}else{$("#divBGT #txtBGTEmail").val("")}if($.GetCookie("CustomerMobileBGT")!=undefined||!$.isEmpty($.GetCookie("CustomerMobileBGT"))){$("#divBGT  #txtBGTMobile").val($.GetCookie("CustomerMobileBGT"))}else{$("#divBGT #txtBGTMobile").val("")}var attrElement=$(this).closest(".hotel-item");var btGet=$(this).closest(".divHasRateButNoShow");var _hotelId=attrElement.attr("idint");var _hotelName=attrElement.attr("hotel-name");var _signature=btGet.attr("signature")?btGet.attr("signature"):"";var _checkIn=attrElement.attr("checkin");
var _checkOut=attrElement.attr("checkOut");var _dia=$("#divBGT").clone(true).show();var _title=_dia.attr("title");ga("send","event","Tracking-bookgiatot","tracking-clicklaygia",_hotelName+"-"+_hotelId+"-laygia");Chudu24Tracking.saveTracking(["Tracking-bookgiatot","tracking-clicklaygia",_hotelName,_hotelId,"click","pc"]);Chudu24.Master.verifySignature(_hotelId,_signature,Chudu24.Hotels.key_reload,attrElement);var _dialog=_dia.dialog({open:function(event,ui){Chudu24Tracking.saveTracking(["Tracking-bookgiatot","tracking-clicklaygia",_hotelName,_hotelId,"open","pc"]);ga("send","event","Tracking-bookgiatot","tracking-open",_hotelName+"-"+_hotelId+"-openpp")},width:600,title:_title,modal:true,create:function(event){$(event.target).parent().css("position","fixed");var _this=$(event.target);if($("button",$(".ui-dialog-titlebar",_this.parent())).length>0){$("button",$(".ui-dialog-titlebar",_this.parent())).before('<a href="#" role="button">Đóng</a>')}else{$(".ui-dialog-titlebar",_this.parent()).append('<a href="#" role="button">Đóng</a>')}$("a[role='button']",$(".ui-dialog-titlebar",_this.parent())).click(function(e){e.preventDefault();_this.dialog("close")})},resizeStart:function(event){$(event.target).parent().css("position","fixed")},resizeStop:function(event){$(event.target).parent().css("position","fixed")}});$("#btnBGTSubmit",_dia).unbind("click").click(function(e){var _crsf_token=attrElement.attr("_crtoken")?attrElement.attr("_crtoken"):"";$(".help-block1",_dia).remove();ga("send","event","Tracking-bookgiatot","tracking-submitBookGiaTot",_hotelName+"-"+_hotelId+"-submit");Chudu24Tracking.saveTracking(["Tracking-bookgiatot","tracking-submitBookGiaTot",_hotelName,_hotelId,"submit","pc"]);var _email=$("#txtBGTEmail",_dia).val().trim();if(_email.length<=0||$.IsValid_Email(_email)!=true){$("#txtBGTEmail",_dia).addClass("error1");$("#txtBGTEmail",_dia).after('<span class="help-block1">- Vui lòng nhập email </span>')}else{$("#txtBGTEmail",_dia).removeClass("error1");$("#txtBGTEmail",_dia).next(".help-block1").remove()}var _mobile=$("#txtBGTMobile",_dia).val().trim();if($.isEmpty(_mobile)||$.IsValid_Phone(_mobile)!=true){$("#txtBGTMobile",_dia).addClass("error1");$("#txtBGTMobile",_dia).after('<span class="help-block1">- Vui lòng nhập số di động </span>')}else{$("#txtBGTMobile",_dia).removeClass("error1");$("#txtBGTMobile",_dia).next(".help-block1").remove()}if($(".error1",_dia).length<=0){$(this).prop("disabled","disabled");$("i",this).addClass("fa-spinner fa-spin");if(Chudu24.Master.enable_crsf==true)Chudu24.Master.GuiEmailBaoGiaV2_crsf(_hotelId,_hotelName,_email,_mobile,_dia,_crsf_token,_signature,Chudu24.Hotels.key_reload);else Chudu24.Master.GuiEmailBaoGia(_hotelId,_hotelName,_email,_mobile,_dia)}})});$(window).scroll(function(){Chudu24.Hotels.HotelDetails.CheckScrollLoadVideo()})},PageLoad:function(){var thisObj=Chudu24.Hotels.HotelDetails;$.SetCookie("CityTextId",thisObj.cityTextId,1,".chudu24.com");console.log("hotel_details.js","PageLoad");Chudu24.Hotels.HotelDetails.FunctionsDependOnLocationHash();Chudu24.Hotels.HotelDetails.LoadMinrateRelatedHotels()},GetCheckInDate:function(){var _date="";if($("#txtDateCheckin").length>0&&$("#txtDateCheckin").val().length>0){_date=$("#txtDateCheckin").val()}else if($.cookie("CheckInDate")!=undefined){_date=$.cookie("CheckInDate")}else{_date=new Date("dd/MM/yyyy")}return _date},GetCheckOutDate:function(){var _date="";if($("#txtDateCheckout").length>0&&$("#txtDateCheckout").val().length>0){_date=$("#txtDateCheckout").val()}else if($.cookie("CheckOutDate")!=undefined){_date=$.cookie("CheckOutDate")}else{_date=new Date("dd/MM/yyyy")}return _date},ShowFacebookBar:function(){var $share_popout=$("#topbar_facebook_like");$(window).on("scroll",function(){if($(window).scrollTop()+$(window).height()==$(document).height()){if(parseInt($share_popout.offset().top)!=0){$.LoadAsyncFacabook();$share_popout.css({top:"0px","transition-duration":"0.5s"})}}else{if(parseInt($share_popout.offset().top)!=-150){$share_popout.css({top:"-150px","transition-duration":"0.5s"})}}})},CheckScrollLoadVideo:function(){if($("div#divContainVideo").is(":inView")){if(!Chudu24.Hotels.HotelDetails.isLoadVideo){Chudu24.Hotels.HotelDetails.isLoadVideo=true}}},LoadVideoHotel:function(){$("div#divContainVideo").html($("#loading").clone(true).show());var url=location.href;$.ajax(url,{method:"post",data:{ajax:"videohotel"},success:function(resp){$("div#divContainVideo").html(resp)}})},LoadHotelsPriceInfoNearbyHotel:function(){return false;var strHotelIdIntDistance=$("li.hotelItem").map(function(){return $(this).attr("hotelidint")}).get().join("|");if(!$.isEmptyObject(strHotelIdIntDistance)){var url="/napi/ajax/hotels-price-info-nearby-hotel";$.ajax(url,{method:"post",data:{strHotelIdIntDistance:strHotelIdIntDistance,fromHotelIdInt:Chudu24.Hotels.HotelDetails.hotelIdInt,_csrf:$.GetCsrfToken()},success:function(result){if(result.success&&result.data&&result.data.length){var arrHotels=result.data;arrHotels.forEach(function(item,index){var $hotelItem=$('li.hotelItem[hotelidint="'+item.hotelidint+'"]');var imgStarRating="star-yellow-"+item.starrating.toString().replace(".","-").replace(",","-")+".gif";imgStarRating='<img src="/nassets/img/rating/'+imgStarRating+'" alt="'+$.HtmlDecode(item.hotelname)+'" itemprop="image">';var rateHtml="";if(item.isshowprice.toString()=="true"||item.isshowpromotionprice.toString()=="true"){var rate=item.minrate>0?item.minrate/1e3:0;if(rate>0)rateHtml="<b>"+$.formatNumberVi(rate)+'</b><span class="thd">.000</span>'}$("a.hotelLink",$hotelItem).after(imgStarRating);$(".spnRate",$hotelItem).html(rateHtml)})}}})}},FunctionsDependOnLoadToken:function(err,tokenResult){Chudu24.Hotels.HotelDetails.LoadHotelsPriceInfoNearbyHotel();var $roomTypes=$("#RoomTypes");if($roomTypes.length){Chudu24.Hotels.UserControls.SearchHotelRoomsPrice.PreSearchRoomsPrice()}},FunctionsDependOnLocationHash:function(callback){if(/maplocation/gim.test(window.location.hash)){setTimeout(function(){$(".lnkMapHotel").trigger("click")},2e3)}if(typeof callback=="function")return callback()},LoadMinrateRelatedHotels:function(){$("#secondary .get-minrate").each(function(index,item){var _checkInDate=Chudu24.Master.GetArrivalDate();var _checkOutDate=Chudu24.Master.GetDepartureDate();var _hotelIdInt=$(this).attr("hotelidint");var _hotelName=$(this).attr("hotel-name");Chudu24.Hotels.HotelDetails.LoadMinrateOneHotel($(this),_hotelIdInt,_checkInDate,_checkOutDate,_hotelName,function(err,result){})})},LoadMinrateOneHotel:function($obj,hotelIdInt,checkInDate,checkOutDate,hotelName,callback){var _url="/napi/ajax/hotel-search-room-price.njsx?_="+$.getTimeStampValue();$.ajax({type:"POST",url:_url,data:{hotelIdInt:hotelIdInt,checkIn:checkInDate,checkOut:checkOutDate,_csrf:$.GetCsrfToken()},success:function(results){var errorMessage=null;if(!results.success){errorMessage=results.message}else if(results.data&&results.data.arrLoaiPhong){var result=results.data;var priceHtml="";if(result.isHotelRateLevelWeb){var minRateHotel=Math.ceil(parseFloat(result.minRateHotel)/1e3);priceHtml='<div class="small gray show divMinRateVnd">                  giá từ <span class="spnRate green">'+minRateHotel.toLocaleString("vi-VN")+'<span class="thd">.000</span></span>                </div>'}else if(result.isHotelRateLevelBGT){priceHtml=""}else if(result.isHotelRateLevelPhone){priceHtml=""}$obj.find(".minrate-content").html(priceHtml)}if(typeof callback=="function"){var newError=new Error(errorMessage?errorMessage:"Không lấy được chi tiết giá khách sạn!");return callback(newError)}},error:function(xhr,status,error){$obj.find(".minrate-content").html("");if(typeof callback=="function"){var newError=new Error(error?error:"Không lấy được chi tiết giá khách sạn!");return callback(newError)}}})}};$(function(){var thisObj=Chudu24.Hotels.HotelDetails;thisObj.Init()});if(typeof Chudu24=="undefined")var Chudu24={};if(typeof Chudu24.Hotels=="undefined")Chudu24.Hotels={};if(typeof Chudu24.Hotels.UserControls=="undefined")Chudu24.Hotels.UserControls={};Chudu24.Hotels.UserControls.HotelGallery={Init:function(){var thisObj=Chudu24.Hotels.UserControls.HotelGallery;thisObj.PageLoad()},Events:function(){var listImages=[];$("li",$(".picture-slides-thumbnails")).each(function(index,item){var wh=index==0?"?w=800&h=600":"";var image={image:$("img:first",$(this)).attr("data-original").replace("?h=85",wh),alt:$("img:first",$(this)).attr("alt"),text:$("img:first",$(this)).attr("data-original")};listImages.push(image)});jQuery.PictureSlides.set({useFadingIn:true,useFadingOut:true,useFadeWhenNotSlideshow:true,useFadeForSlideshow:true,useDimBackgroundForSlideshow:true,loopSlideshow:false,usePreloading:false,useAltAsTooltip:true,useTextAsTooltip:false,fadeTime:500,timeForSlideInSlideshow:2e3,startIndex:1,startSlideShowFromBeginning:true,startSlideshowAtLoad:false,dimBackgroundAtLoad:false,images:listImages,thumbnailActivationEvent:"click",mainImageClass:"picture-slides-image",mainImageFailedToLoadClass:"picture-slides-image-load-fail",imageLinkClass:"picture-slides-image-link",fadeContainerClass:"picture-slides-fade-container",imageTextContainerClass:"picture-slides-image-text",previousLinkClass:"picture-slides-previous-image",nextLinkClass:"picture-slides-next-image",imageCounterClass:"picture-slides-image-counter",startSlideShowClass:"picture-slides-start-slideshow",stopSlideShowClass:"picture-slides-stop-slideshow",thumbnailContainerClass:"picture-slides-thumbnails",dimBackgroundOverlayClass:"picture-slides-dim-overlay"});$(document).on("click","div.hinh-anh-scroller a.preview",function(){var HotelName=$.trim($("a#lnkHotelName",$("div#primary")).text());ga("send","event","HotelPage","HinhAnh",HotelName);return true})},PageLoad:function(){$("#gallery-1").royalSlider({fullscreen:{enabled:true,nativeFS:true},controlNavigation:"thumbnails",autoScaleSlider:true,autoScaleSliderWidth:800,autoScaleSliderHeight:585,loop:false,imageScaleMode:"fit-if-smaller",navigateByClick:true,numImagesToPreload:2,arrowsNav:true,arrowsNavAutoHide:true,arrowsNavHideOnTouch:true,keyboardNavEnabled:true,fadeinLoadedSlide:true,globalCaption:false,globalCaptionInside:false,imageScalePadding:0,slidesSpacing:0,thumbs:{appendSpan:true,firstMargin:true,paddingBottom:4}});$(document).on({mouseenter:function(){$("#gallery-1 .rsOverflow .rsFullscreenBtn").addClass("opacity1")},mouseleave:function(){$("#gallery-1 .rsOverflow .rsFullscreenBtn").removeClass("opacity1")}},"#gallery-1 .rsOverflow")}};$(function(){var thisObj=Chudu24.Hotels.UserControls.HotelGallery;thisObj.Init()});if(typeof Chudu24=="undefined")var Chudu24={};if(typeof Chudu24.Hotels=="undefined")Chudu24.Hotels={};if(typeof Chudu24.Hotels.UserControls=="undefined")Chudu24.Hotels.UserControls={};Chudu24.Hotels.UserControls.SearchHotelRoomsPrice={sigtipSettings:{tipId:"__sigtip",content:function(element){var title=element.attr("__sigtip_content");if(!title){element.attr("__sigtip_content",element.attr("title"));element.attr("title","")}return element.attr("__sigtip_content")},position:["left","inner-top"],showDelay:0,hideDelay:300,maxWidth:500,maxHeight:-1,offsetX:0,offsetY:0},Init:function(){var thisObj=Chudu24.Hotels.UserControls.SearchHotelRoomsPrice;thisObj.LoadPage();thisObj.Events()},Sigtip:function(){$("div.SigTip").each(function(index,item){$(this).sigtip(Chudu24.Hotels.UserControls.SearchHotelRoomsPrice.sigtipSettings)})},Events:function(){$("#search-book-RoomsPrice input.btnSearchRoomsPrice").unbind("click").click(function(e){Chudu24.Hotels.UserControls.SearchHotelRoomsPrice.PreSearchRoomsPrice(true)})},LoadPage:function(){var _checkIn=$.GetCookie("CheckInDate");var _checkOut=$.GetCookie("CheckOutDate");var hash=location.hash;if(!$.isEmptyObject(hash)){var regexDatPhong=/datphong&\d{2}\/\d{2}\/\d{4}&\d{2}\/\d{2}\/\d{4}/g;var match=regexDatPhong.exec(hash);if(match!=null){var _checkInHash=match[0].substring(9,19);var _checkOutHash=match[0].substring(20,30);var mmCheckInHash=moment(_checkInHash,"DD/MM/YYYY");if(mmCheckInHash.isValid()){var checkInBegin=moment().add(1,"day");var mmCheckOutHash=moment(_checkOutHash,"DD/MM/YYYY").isValid()?moment(_checkOutHash,"DD/MM/YYYY"):moment(mmCheckInHash).add(1,"days");var diff=mmCheckOutHash.diff(mmCheckInHash,"days");if(mmCheckInHash.isBefore(checkInBegin)){mmCheckInHash=checkInBegin;mmCheckOutHash=moment(checkInBegin).add(diff,"days")}if(!mmCheckOutHash.isAfter(mmCheckInHash)){mmCheckOutHash=moment(mmCheckInHash).add(1,"days")}_checkIn=mmCheckInHash.format("DD/MM/YYYY");_checkOut=mmCheckOutHash.format("DD/MM/YYYY");$.SetCookie("CheckInDate",_checkIn,1,".chudu24.com");$.SetCookie("CheckOutDate",_checkOut,1,".chudu24.com")}}}if(_checkIn==null){_checkIn=moment().add(1,"day").format("DD/MM/YYYY")}else{_checkIn=$.HtmlDecode(_checkIn)}if(_checkOut==null){_checkOut=moment().add(2,"day").format("DD/MM/YYYY")}else{_checkOut=$.HtmlDecode(_checkOut)}$(".form-search-book #txtCheckinDate").val(_checkIn);$(".form-search-book #txtCheckinDate").datepicker({numberOfMonths:2,dateFormat:"dd/mm/yy",firstDay:1,minDate:new Date,onClose:function(dateText,inst){var checkIn=moment(dateText,"DD/MM/YYYY");var checkOut=moment($(".form-search-book #txtCheckoutDate").val(),"DD/MM/YYYY");var next=moment(dateText,"DD/MM/YYYY").add(1,"day");if(checkIn.toDate()>=checkOut.toDate()){$(".form-search-book #txtCheckoutDate").val(next.format("DD/MM/YYYY"))}$(".form-search-book #txtCheckoutDate").datepicker("option","minDate",next.toDate())}});$(".form-search-book #txtCheckoutDate").val(_checkOut);$(".form-search-book #txtCheckoutDate").datepicker({numberOfMonths:2,dateFormat:"dd/mm/yy",firstDay:1,minDate:moment(_checkIn,"DD/MM/YYYY").add(1,"day").toDate()});$(document).on("click",".form-search-book .datepicker-btn",function(e){$(".hasDatepicker",$(this).parent()).focus()});Chudu24.Hotels.HotelDetails.LoadHotelsPriceInfoNearbyHotel();var $roomTypes=$("#RoomTypes");if($roomTypes.length){Chudu24.Hotels.UserControls.SearchHotelRoomsPrice.PreSearchRoomsPrice()}},PreSearchRoomsPrice:function(isScrollingTo){var HotelName=$.trim($("a#lnkHotelName",$("div#primary")).text());ga("send","event","HotelPage","XemGiaPhong",HotelName);$search_box=$("#search-book-RoomsPrice");$checkIn=$(".txtDateCheckin",$search_box);$checkOut=$(".txtDateCheckout",$search_box);var checkIn=$checkIn.val();var checkOut=$checkOut.val();$search_box.find(".help-block").each(function(){$(this).remove()});if(!$.ValidDate(checkIn)){$checkIn.addClass("error");$(".check-in .datepicker",$search_box).after('<span class="help-block">Ngày nhận phòng không hợp lệ, vui lòng kiểm tra lại!</span>');return false}else{$checkIn.removeClass("error")}if(!$.ValidDate(checkOut)){$checkOut.addClass("error");$(".check-out .datepicker",$search_box).after('<span class="help-block">Ngày trả phòng không hợp lệ, vui lòng kiểm tra lại!</span>');return false}else{$checkOut.removeClass("error")}var chkInDate=$checkIn.datepicker("getDate").getTime();var chkOutDate=$checkOut.datepicker("getDate").getTime();if(chkOutDate-chkInDate>0){var oneDay=1e3*60*60*24;var difference=Math.ceil((chkOutDate-chkInDate)/oneDay);$("span.nights").text(difference+" ");if(difference>14){$checkOut.addClass("error");$(".btnSearchRoomsPrice",$search_box).after('<span class="help-block">Bạn không thể đặt nhiều hơn 14 đêm, vui lòng kiểm tra lại ngày đặt phòng hoặc liên hệ tổng đài Chudu24!</span>');return false}}else{$checkOut.addClass("error");$(".btnSearchRoomsPrice",$search_box).after('<span class="help-block">Ngày trả phòng phải sau ngày nhận phòng!</span>');return false}if($search_box.find(".error").length<=0){var divAttr=$("div#hotel-item");if(divAttr.length>0){divAttr.attr("checkin",checkIn);divAttr.attr("checkout",checkOut)}$.SetCookie("CheckInDate",checkIn,1,".chudu24.com");$.SetCookie("CheckOutDate",checkOut,1,".chudu24.com");$("div.partials-search-hotels #txtDateCheckin").val(checkIn);$("div.partials-search-hotels #txtDateCheckout").val(checkOut);if(isScrollingTo)Chudu24.Hotels.UserControls.SearchHotelRoomsPrice.scrollingTo($("div.searchRoom"),10,Chudu24.Hotels.UserControls.SearchHotelRoomsPrice.SearchRoomsPriceV3(checkIn,checkOut));else Chudu24.Hotels.UserControls.SearchHotelRoomsPrice.SearchRoomsPriceV3(checkIn,checkOut)}},SearchRoomsPrice:function(checkIn,checkOut){var expiresDate=new Date;expiresDate.setDate(expiresDate.getDate()+1);$.cookie("CheckInDate",escape(checkIn),{expires:expiresDate,path:"/",domain:".chudu24.com",secure:false});$.cookie("CheckOutDate",escape(checkOut),{expires:expiresDate,path:"/",domain:".chudu24.com",secure:false});$("div.rooms").html($("#loading").clone(true).show());var url="/napi/ajax/hotel-search-room-price.njsx?_="+$.getTimeStampValue();$.ajax(url,{method:"post",data:{hotelIdInt:Chudu24.Hotels.HotelDetails.hotelIdInt,checkIn:checkIn,checkOut:checkOut,_csrf:$.GetCsrfToken(),enabled_v2:Chudu24.Hotels.HotelDetailDatas.enabled_v2},success:function(result){if(result.success&&result.data){var generateRoomVersion=Chudu24.Hotels.HotelDetailDatas.enabled_v2?"generateRoomPriceFromJsonDataV2":"generateRoomPriceFromJsonData";Chudu24.Hotels.UserControls.SearchHotelRoomsPrice[generateRoomVersion](checkIn,checkOut,result.data,function(){$("div.rooms").find("div.SigTip").sigtip(Chudu24.Hotels.UserControls.SearchHotelRoomsPrice.sigtipSettings);if(url.indexOf("MapPosition")>0){$(".lnkMapHotel").click()}setTimeout(function(){if(url.indexOf("HotelRate")>0){$("html,body").animate({scrollTop:$("#HotelRate").offset().top})}},1e3);Chudu24.Hotels.UserControls.SearchHotelRoomsPrice.showBookingRoom($("div.rooms"))})}else{}}})},SearchRoomsPriceV3:function(checkIn,checkOut){var expiresDate=new Date;expiresDate.setDate(expiresDate.getDate()+1);$.cookie("CheckInDate",escape(checkIn),{expires:expiresDate,path:"/",domain:".chudu24.com",secure:false});$.cookie("CheckOutDate",escape(checkOut),{expires:expiresDate,path:"/",domain:".chudu24.com",secure:false});$("div.rooms").html($("#loading").clone(true).show());var url="/napi/ajax/hotel-search-room-price.njsx?_="+$.getTimeStampValue();$.ajax(url,{method:"post",data:{hotelIdInt:Chudu24.Hotels.HotelDetails.hotelIdInt,relv2:Chudu24.Hotels.HotelDetails.relv2,checkIn:checkIn,checkOut:checkOut,_csrf:$.GetCsrfToken(),enabled_v2:Chudu24.Hotels.HotelDetailDatas.enabled_v2,isRenderHtml:true},success:function(result){if(result.success&&result.data){$("#RoomTypes").html(result.data);$("div.rooms").find("div.SigTip").sigtip(Chudu24.Hotels.UserControls.SearchHotelRoomsPrice.sigtipSettings);if(url.indexOf("MapPosition")>0){$(".lnkMapHotel").click()}Chudu24.Hotels.HotelDetails.LoadMinrateRelatedHotels();setTimeout(function(){if(url.indexOf("HotelRate")>0){$("html,body").animate({scrollTop:$("#HotelRate").offset().top})}},1e3);scrollBtnBooking();Chudu24.Hotels.UserControls.SearchHotelRoomsPrice.showBookingRoom($("div.rooms"))}else{$("#RoomTypes").html("")}}})},showBookingRoom:function(elementTarget){var tblRoomsPrice=$("table.tblRoomsPrice",elementTarget);if(tblRoomsPrice.length>0){var RoomTypeIdInt=$(tblRoomsPrice).attr("RoomTypeIdInt");if($.trim(tblRoomsPrice).length>0){var tdItemRooms=$("tr.trItemRooms[RoomTypeIdInt='"+RoomTypeIdInt+"']",tblRoomsPrice).find("td");$("html, body").animate({scrollTop:elementTarget.offset().top-10},{complete:function(){if(tdItemRooms.length>0){var ddlRoomNumber=$("#ddlRoomNumber",tdItemRooms);var RoomName=$("h4.RoomName",tdItemRooms).text();var close='<div class="close">x</div>';var html=$(close+"<div>Quý khách đã chọn phòng: <b>"+RoomName+".</b><div><div/>Xin vui lòng chọn số phòng cần đặt. Sau đó click vào nút đặt phòng</div>");ddlRoomNumber.tooltipster({content:html,position:"top",autoClose:false,offsetY:25,offsetx:0,interactive:true,contentAsHTML:true,interactiveTolerance:5e5});ddlRoomNumber.tooltipster("show");ddlRoomNumber.addClass("tooltipsterBorder");$(document).on("click",".tooltipster-default .tooltipster-content .close",function(){$(".tooltipster-base",tdItemRooms).addClass("hide");ddlRoomNumber.removeClass("tooltipsterBorder");setTimeout(function(){ddlRoomNumber.tooltipster("destroy")},200)});$(document).on("change","#ddlRoomNumber",function(){ddlRoomNumber.tooltipster("hide");ddlRoomNumber.removeClass("tooltipsterBorder");setTimeout(function(){ddlRoomNumber.tooltipster("destroy")},200)});setTimeout(function(){var top=tdItemRooms.offset().top-400;if(top>0){$("html,body").animate({scrollTop:top})}},500)}}})}}},scrollingTo:function(target,offset,callback){if(target){var calledBack=false;$("html, body").animate({scrollTop:target.offset().top-offset},{complete:function(){if(calledBack!=true&&callback){callback();calledBack=true}}});return false}},AddErrorObject:function($obj,strError){$obj.addClass("error");$obj.after('<span class="help-block">'+strError+"</span>")},generateRoomPriceFromJsonData:function(checkIn,checkOut,data,callback){var thisObj=Chudu24.Hotels.UserControls.SearchHotelRoomsPrice;var TEMPLATES=Chudu24.Hotels.HotelDetails.TEMPLATES;var isDisplayBoxTaxText=JSON.parse(Chudu24.Hotels.HotelDetails.isDisplayBoxTax)?", đã bao gồm thuế":"";var ROOM_PRICE_MAIN=$.string.Format(TEMPLATES.ROOM_PRICE_MAIN,Chudu24.Hotels.HotelDetails.hotelIdInt,Chudu24.Hotels.HotelDetails.hotelName,checkIn,checkOut,Chudu24.Hotels.HotelDetails.roomTypeIdInt,isDisplayBoxTaxText);var CHOUPON="";if(data.choupons){data.choupons.forEach(function(itemChoupon,indexChoupon){var isPrivacyPublic=itemChoupon.IsPrivacyPublic.toString()=="true"?JSON.parse(itemChoupon.IsPrivacyPublic):false;var CHOUPON_I="";var chouponPrice=itemChoupon.BuyPrice?$.formatNumberVi(itemChoupon.BuyPrice/1e3,{format:"#,###"}):"";if(isPrivacyPublic){CHOUPON_I=$.string.Format(TEMPLATES.CHOUPON_PUBLIC,itemChoupon.ChouponId,Chudu24.Core.MakeLinkFromUnicode(itemChoupon.ChouponName),itemChoupon.ChouponName,chouponPrice)}else{CHOUPON_I=$.string.Format(TEMPLATES.CHOUPON_PRIVATE,itemChoupon.ChouponName)}CHOUPON+=CHOUPON_I})}ROOM_PRICE_MAIN=ROOM_PRICE_MAIN.replace("[/CHOUPON]",CHOUPON);var PROMOTION="";if(data.promotions){data.promotions.forEach(function(itemPromotion,indexPromotion){var beginDate=$.moment(itemPromotion.BeginDate).format("DD/MM/YYYY");var endDate=$.moment(itemPromotion.EndDate).format("DD/MM/YYYY");var divRate_hide="hide",divNoRate_hide="hide",divHasRateButNoShow_hide="hide";var price="";if(itemPromotion.PricePerNightVnd==0)divNoRate_hide="";else if(Chudu24.Hotels.HotelDetails.isShowPromotionPrice.toString()=="true"){divRate_hide="";price=thisObj.getPromotionPrice(itemPromotion.NormalRateExtra,itemPromotion.PriceVnd,itemPromotion.Nights)}else divHasRateButNoShow_hide="";var PROMOTION_I=$.string.Format(TEMPLATES.PROMOTION,itemPromotion.Id,itemPromotion.Name,price,thisObj.getMemberDiscountPriceInfoPromotion(itemPromotion.NormalRateExtra,itemPromotion.PriceVnd,itemPromotion.Nights,false),Chudu24.Hotels.HotelDetails.hotelIdInt,thisObj.stripHtml(itemPromotion.Description),thisObj.getMemberDiscountPriceInfoPromotion(itemPromotion.NormalRateExtra,itemPromotion.PriceVnd,itemPromotion.Nights,true),beginDate,endDate,divRate_hide,divNoRate_hide,divHasRateButNoShow_hide);PROMOTION+=PROMOTION_I})}ROOM_PRICE_MAIN=ROOM_PRICE_MAIN.replace("[/PROMOTION]",PROMOTION);var roomPrices=data.roomtypeInfo;var ROOM_TYPE_ALL="";if(roomPrices&&roomPrices.length>0){roomPrices.forEach(function(itemRoom,index){var roomDescription=itemRoom.RoomDescription?Chudu24.Core.cleanUpWordHtml(itemRoom.RoomDescription):"";var childrenExtraBedPolicy_hide=$.isEmptyObject(itemRoom.ChildrenExtraBedPolicy)?"hide":"";var cancellationPolicy_hide=$.isEmptyObject(itemRoom.CancellationPolicy)?"hide":"";var divRate_hide="hide",divNoRate_hide="hide",divHasRateButNoShow_hide="hide";var roomRate="";if(itemRoom.averageRateDeal==0)divNoRate_hide="";else if(Chudu24.Hotels.HotelDetails.isShowPrice.toString()=="true"){divRate_hide="";roomRate=thisObj.getRoomPrice(itemRoom.NormalRateExtra,itemRoom.averageRateDeal)}else divHasRateButNoShow_hide="";var roomThumbnail=itemRoom.RoomPhotos.length?Chudu24.Core.translateLink(itemRoom.RoomPhotos[0].FileName):"";var roomThumbnailClass=!roomThumbnail||$.isEmptyObject(roomThumbnail)?"hide":"showImage";var ROOM_TYPE_I=$.string.Format(TEMPLATES.ROOM_TYPE,itemRoom.Id,itemRoom.RoomTypeIdInt,itemRoom.RoomName,roomThumbnail,itemRoom.NumberOfGuestsIncludedInPrice,thisObj.extraBedView(itemRoom.ExtraBeds),roomRate,thisObj.getMemberDiscountPriceInfo(itemRoom.NormalRateExtra,itemRoom.averageRateDeal),roomDescription,childrenExtraBedPolicy_hide,itemRoom.ChildrenExtraBedPolicy,cancellationPolicy_hide,itemRoom.CancellationPolicy,divRate_hide,divNoRate_hide,divHasRateButNoShow_hide,roomThumbnailClass);var ROOMTYPE_PHOTO="";itemRoom.RoomPhotos.forEach(function(itemPhoto,indexPhoto){var ROOMTYPE_PHOTO_I=$.string.Format(TEMPLATES.ROOMTYPE_PHOTO,Chudu24.Core.translateLink(itemPhoto.FileName));ROOMTYPE_PHOTO+=ROOMTYPE_PHOTO_I});ROOM_TYPE_I=ROOM_TYPE_I.replace("[/ROOMTYPE_PHOTO]",ROOMTYPE_PHOTO);var ROOMTYPE_FACILITIES_DETAIL='<div class="col">',faciNumberOnCol=itemRoom.Facilities.length/3+.5;faciNumberOnCol=faciNumberOnCol.toFixed();itemRoom.Facilities.forEach(function(itemFaci,indexFaci){var ROOMTYPE_FACILITIES_DETAIL_I=$.string.Format(TEMPLATES.ROOMTYPE_FACILITIES_DETAIL,itemFaci.FacilityName);ROOMTYPE_FACILITIES_DETAIL+=ROOMTYPE_FACILITIES_DETAIL_I;if(indexFaci>0&&indexFaci%(faciNumberOnCol-1)==0)ROOMTYPE_FACILITIES_DETAIL+='</div> <div class="col">'});ROOMTYPE_FACILITIES_DETAIL+="</div>";ROOM_TYPE_I=ROOM_TYPE_I.replace("[/ROOMTYPE_FACILITIES_DETAIL]",ROOMTYPE_FACILITIES_DETAIL);ROOM_TYPE_ALL+=ROOM_TYPE_I})}ROOM_PRICE_MAIN=ROOM_PRICE_MAIN.replace("[/ROOM_TYPE]",ROOM_TYPE_ALL);$("div.rooms").html(ROOM_PRICE_MAIN);if(callback){callback()}},generateRoomPriceFromJsonDataV2:function(checkIn,checkOut,data,callback){var thisObj=Chudu24.Hotels.UserControls.SearchHotelRoomsPrice;var TEMPLATES=Chudu24.Hotels.HotelDetails.TEMPLATES_V2;var isDisplayBoxTaxText=JSON.parse(Chudu24.Hotels.HotelDetails.isDisplayBoxTax)?", đã bao gồm thuế":"";var ROOM_PRICE_MAIN=$.string.Format(TEMPLATES.ROOM_PRICE_MAIN,Chudu24.Hotels.HotelDetails.hotelIdInt,Chudu24.Hotels.HotelDetails.hotelName,checkIn,checkOut,Chudu24.Hotels.HotelDetails.roomTypeIdInt,isDisplayBoxTaxText);var CHOUPON=thisObj.generateRoomInfoHtml_v2(data.choupons,"CHOUPON");ROOM_PRICE_MAIN=ROOM_PRICE_MAIN.replace("[/CHOUPON]",CHOUPON);var PROMOTION=thisObj.generateRoomInfoHtml_v2(data.promotions,"PROMOTION");ROOM_PRICE_MAIN=ROOM_PRICE_MAIN.replace("[/PROMOTION]",PROMOTION);var ROOM_TYPE_ALL=thisObj.generateRoomInfoHtml_v2(data.roomtypeInfo,"ROOM");ROOM_PRICE_MAIN=ROOM_PRICE_MAIN.replace("[/ROOM_TYPE]",ROOM_TYPE_ALL);$("div.rooms").html(ROOM_PRICE_MAIN);if(callback){callback()}},generateRoomInfoHtml_v2:function(arrRoomPrices,roomType){var ROOM_HTML="";var thisObj=Chudu24.Hotels.UserControls.SearchHotelRoomsPrice;var TEMPLATES=Chudu24.Hotels.HotelDetails.TEMPLATES_V2;if(arrRoomPrices&&arrRoomPrices.length>0){var roomTypeClass="room-normal";var showPriceKey="isShowPrice";var showThoiGianSuDung=false;switch(roomType){case"CHOUPON":roomTypeClass="room-choupon";showPriceKey="isShowPromotionPrice";showThoiGianSuDung=true;break;case"PROMOTION":roomTypeClass="room-promotion";showPriceKey="isShowPromotionPrice";showThoiGianSuDung=true;break}arrRoomPrices.forEach(function(itemRoom,index){var roomDescription=itemRoom.RoomDescription?Chudu24.Core.cleanUpWordHtml(itemRoom.RoomDescription):"";var childrenExtraBedPolicy_hide=$.isEmpty(itemRoom.ChildrenExtraBedPolicy)?"hide":"";if(roomType=="ROOM"){if(itemRoom.Hotel&&itemRoom.Hotel.Hotelinfos&&itemRoom.Hotel.Hotelinfos[0]&&itemRoom.Hotel.Hotelinfos[0].CancellationPolicy)itemRoom.CancellationPolicy=itemRoom.Hotel.Hotelinfos[0].CancellationPolicy}var cancellationPolicy_hide=$.isEmpty(itemRoom.CancellationPolicy)?"hide":"";var luuYChinhSach_hide=$.isEmpty(itemRoom.LuuYChinhSach)?"hide":"";var divRate_hide="hide",divNoRate_hide="hide",divHasRateButNoShow_hide="hide";var roomRate="";if($.isEmpty(itemRoom.NormalRateExtra))itemRoom.NormalRateExtra=0;if(typeof itemRoom.NormalRateExtra!="number")itemRoom.NormalRateExtra=$.isNumeric(itemRoom.NormalRateExtra)?parseFloat(itemRoom.NormalRateExtra):0;if(itemRoom.averageRateDeal==0)divNoRate_hide="";else if(Chudu24.Hotels.HotelDetails[showPriceKey].toString()=="true"){divRate_hide="";roomRate=thisObj.getRoomPrice(itemRoom.NormalRateExtra,itemRoom.averageRateDeal)}else divHasRateButNoShow_hide="";var roomThumbnail="";var roomThumbnailClass=!roomThumbnail||$.isEmpty(roomThumbnail)?"hide":"showImage";var dienTichFormat="",dienTich_hide="hide";if(!$.isEmpty(itemRoom.DienTich)){dienTichFormat=parseFloat(itemRoom.DienTich).toLocaleString("vi-VN");dienTich_hide=""}var roomViewFormat="",roomView_hide="hide";if(!$.isEmpty(itemRoom.Roomviews)&&itemRoom.Roomviews.length>0){var arrRoomViewName=[];itemRoom.Roomviews.forEach(function(item,index){arrRoomViewName.push(item.roomviewname)});roomViewFormat=arrRoomViewName.join(", ");roomView_hide=""}var beddingName="",bedding_hide="hide";if(!$.isEmpty(itemRoom.Bedding)){beddingName=itemRoom.Bedding.beddingname;bedding_hide=""}var extrabedFormat="",extrabed_hide="hide";if(!$.isEmpty(itemRoom.ExtraBeds)&&parseInt(itemRoom.ExtraBeds)>0){extrabedFormat=itemRoom.ExtraBeds;extrabed_hide=""}var ROOMTYPE_PHOTO="";if(!$.isEmpty(itemRoom.RoomPhotos)){itemRoom.RoomPhotos.forEach(function(itemPhoto,indexPhoto){var ROOMTYPE_PHOTO_I=$.string.Format(TEMPLATES.ROOMTYPE_PHOTO,Chudu24.Core.translateLink(itemPhoto.FileName));ROOMTYPE_PHOTO+=ROOMTYPE_PHOTO_I})}var ROOMTYPE_FACILITIES_DETAIL="";if(!$.isEmpty(itemRoom.Facilities)){ROOMTYPE_FACILITIES_DETAIL='<div class="col">';var faciNumberOnCol=itemRoom.Facilities.length/3+.5;faciNumberOnCol=faciNumberOnCol.toFixed();itemRoom.Facilities.sortBy("FacilityName");itemRoom.Facilities.forEach(function(itemFaci,indexFaci){var ROOMTYPE_FACILITIES_DETAIL_I=$.string.Format(TEMPLATES.ROOMTYPE_FACILITIES_DETAIL,itemFaci.FacilityName);ROOMTYPE_FACILITIES_DETAIL+=ROOMTYPE_FACILITIES_DETAIL_I;if(indexFaci>0&&indexFaci%(faciNumberOnCol-1)==0)ROOMTYPE_FACILITIES_DETAIL+='</div> <div class="col">'});ROOMTYPE_FACILITIES_DETAIL+="</div>"}var slRoomNumberOption="";for(var j=0;j<=itemRoom.maxRooms;j++){slRoomNumberOption+=$.string.Format('<option value="{0}">{0}</option>',j)}var htmlThoiGianSuDung="";if(showThoiGianSuDung){if(!$.isEmpty(itemRoom.ThoiGianSuDungStart)&&!$.isEmpty(itemRoom.ThoiGianSuDungEnd)){var sudungStart=moment(itemRoom.ThoiGianSuDungStart).utc(7).format("D/M/YY");var sudungEnd=moment(itemRoom.ThoiGianSuDungEnd).utc(7).format("D/M/YY");htmlThoiGianSuDung=$.string.Format('<em style="color: red;">thời gian ở: {0} - {1}</em>',sudungStart,sudungEnd)}else{htmlThoiGianSuDung='<em style="color: red;">thời gian ở: không giới hạn</em>'}}var ROOM_TYPE_I=$.string.Format(TEMPLATES.ROOM_TYPE,itemRoom.Id,itemRoom.RoomTypeIdInt,itemRoom.RoomName,roomThumbnail,itemRoom.NumberOfGuestsIncludedInPrice,thisObj.extraBedView(itemRoom.ExtraBeds),roomRate,thisObj.getMemberDiscountPriceInfo(itemRoom.NormalRateExtra,itemRoom.averageRateDeal),roomDescription,childrenExtraBedPolicy_hide,itemRoom.ChildrenExtraBedPolicy,cancellationPolicy_hide,itemRoom.CancellationPolicy,divRate_hide,divNoRate_hide,divHasRateButNoShow_hide,roomThumbnailClass,!$.isEmpty(itemRoom.NhaCungCapId)?itemRoom.NhaCungCapId:"",luuYChinhSach_hide,itemRoom.LuuYChinhSach,dienTich_hide,dienTichFormat,roomView_hide,roomViewFormat,bedding_hide,beddingName,extrabed_hide,extrabedFormat,roomTypeClass,$.isEmpty(ROOMTYPE_PHOTO)?"hide":"",$.isEmpty(ROOMTYPE_FACILITIES_DETAIL)?"hide":"",slRoomNumberOption,htmlThoiGianSuDung);var ROOM_RATE_DETAILS="";if(!$.isEmpty(itemRoom.arrDealDays)){itemRoom.arrDealDays.forEach(function(itemRate,indexRate){if(!$.isEmpty(itemRate.DealDate)&&moment(itemRate.DealDate).isValid()){var dealDateFormat=moment(itemRate.DealDate).format("DD/MM/YYYY");var rateDay=$.isNumeric(itemRate.Rate)?parseFloat(itemRate.Rate):0;if(Chudu24.Hotels.HotelDetails.showPriceType!="RealPrice")rateDay+=itemRoom.NormalRateExtra;var rateFormat=rateDay.toLocaleString("vi-VN");var ROOM_RATE_DETAILS_I=$.string.Format(TEMPLATES.ROOM_RATE_DETAILS,dealDateFormat,rateFormat);
ROOM_RATE_DETAILS+=ROOM_RATE_DETAILS_I}})}ROOM_TYPE_I=ROOM_TYPE_I.replace("[/ROOM_RATE_DETAILS]",ROOM_RATE_DETAILS);var ROOM_RATE_INCLUDE="";var ROOM_RATE_INCLUDE_ITEM="";var hotelIncludes=[];if(roomType!="ROOM"&&!$.isEmpty(itemRoom.HotelIncludes)){if(typeof itemRoom.HotelIncludes=="string"){try{itemRoom.HotelIncludes=JSON.parse(itemRoom.HotelIncludes);if($.isEmpty(itemRoom.HotelIncludes))itemRoom.HotelIncludes=[]}catch(e){itemRoom.HotelIncludes=[]}}hotelIncludes=itemRoom.HotelIncludes}else if(!$.isEmpty(Chudu24.Hotels.HotelDetailDatas.hotelInfo)&&!$.isEmpty(Chudu24.Hotels.HotelDetailDatas.hotelInfo.hotelincludes)){hotelIncludes=Chudu24.Hotels.HotelDetailDatas.hotelInfo.hotelincludes}if(roomType!="ROOM"&&!$.isEmpty(itemRoom.OtherInclude)){if(typeof itemRoom.OtherInclude=="string"){try{itemRoom.OtherInclude=JSON.parse(itemRoom.OtherInclude);if($.isEmpty(itemRoom.OtherInclude))itemRoom.OtherInclude=[]}catch(e){itemRoom.OtherInclude=[]}}itemRoom.OtherInclude.forEach(function(item,index){hotelIncludes.push({hotelIncludeName:item.includeName})})}if(!$.isEmpty(hotelIncludes)){hotelIncludes.forEach(function(itemInclude,indexInclude){var ROOM_RATE_INCLUDE_I=$.string.Format(TEMPLATES.ROOM_RATE_INCLUDE_ITEM,itemInclude.hotelIncludeName,"");ROOM_RATE_INCLUDE_ITEM+=ROOM_RATE_INCLUDE_I});ROOM_RATE_INCLUDE=$.string.Format(TEMPLATES.ROOM_RATE_INCLUDE,ROOM_RATE_INCLUDE_ITEM)}ROOM_TYPE_I=ROOM_TYPE_I.replace("[/ROOM_RATE_INCLUDE]",ROOM_RATE_INCLUDE);ROOM_TYPE_I=ROOM_TYPE_I.replace("[/ROOMTYPE_PHOTO]",ROOMTYPE_PHOTO);ROOM_TYPE_I=ROOM_TYPE_I.replace("[/ROOMTYPE_FACILITIES_DETAIL]",ROOMTYPE_FACILITIES_DETAIL);ROOM_HTML+=ROOM_TYPE_I})}return ROOM_HTML},extraBedView:function(extraBeds){var value="";if(extraBeds){var extrabed=0;extrabed=parseInt(extraBeds);if(extrabed>0)value="(có thể kê "+extrabed.toString()+" giường phụ)"}return value},getRoomPrice:function(normalRateExtra,averageRateDeal){var value=null;var priceShow=Chudu24.Hotels.HotelDetails.showPriceType=="RealPrice"?averageRateDeal:normalRateExtra+averageRateDeal;if(priceShow){var priceShowRound=Math.round(priceShow/1e3+.4);value=$.formatNumberVi(priceShowRound,{format:"#,###"})}return value},getPromotionPrice:function(normalRateExtra,priceVnd,nights){if(!nights)nights=1;var value=null;var priceShow=Chudu24.Hotels.HotelDetails.showPriceType=="RealPrice"?priceVnd/nights:(normalRateExtra+priceVnd)/nights;if(priceShow){var priceShowRound=Math.round(priceShow/1e3+.4);value=$.formatNumberVi(priceShowRound,{format:"#,###"})}return value},getMemberDiscountPriceInfo:function(normalRateExtra,averageRateDeal){var value="";var showPriceType=Chudu24.Hotels.HotelDetails.showPriceType;switch(showPriceType){case"RealPrice":value="";break;case"MemberSaleOffAmount":if(normalRateExtra>0)value="<br><br><span class='clearfix'>Thành viên giảm thêm <span class='green numberp'>"+$.formatNumberVi(normalRateExtra,{format:"#,###"})+" VNĐ</span></span>";break;case"MemberSaleOffPercent":if(normalRateExtra>0){var percent=normalRateExtra/(normalRateExtra+averageRateDeal)*100+.4;value="<br><br><span class='clearfix'>Thành viên giảm thêm <span class='green numberp'>"+percent.toFixed()+"%</span></span>"}break;default:break}return value},getMemberDiscountPriceInfoPromotion:function(normalRateExtra,priceVnd,nights,isNowrap){var value="";var showPriceType=Chudu24.Hotels.HotelDetails.showPriceType;switch(showPriceType){case"RealPrice":value="";break;case"MemberSaleOffAmount":if(normalRateExtra>0){var normalRateExtraPerNights=nights>0?(normalRateExtra/nights).toFixed():normalRateExtra;value="<span class='"+(isNowrap?"nowrap":"")+"'>Thành viên giảm thêm <span class='green numberp'>"+$.formatNumberVi(normalRateExtraPerNights,{format:"#,###"})+" VNĐ</span></span>"}break;case"MemberSaleOffPercent":if(normalRateExtra>0){var percent=normalRateExtra/(normalRateExtra+priceVnd)*100+.4;value="<span class='"+(isNowrap?"nowrap":"")+"'>Thành viên giảm thêm <span class='green numberp'>"+percent.toFixed()+"%</span></span>"}break;default:break}return value},stripHtml:function(html){return html}};$(function(){var thisObj=Chudu24.Hotels.UserControls.SearchHotelRoomsPrice;thisObj.Init()});var scrollBtnBooking=function(){$(".btn_booking_room").scrollToFixed({marginTop:10,limit:function(){var limit=$("#endScrollTable").offset().top-$(this).outerHeight(true)-10;return limit}})};if(typeof Chudu24=="undefined")var Chudu24={};if(typeof Chudu24.Hotels=="undefined")Chudu24.Hotels={};if(typeof Chudu24.Hotels.UserControls=="undefined")Chudu24.Hotels.UserControls={};Chudu24.Hotels.UserControls.HotelRoomsPrice={sigtipSettings:{tipId:"__sigtip",content:function(element){var title=element.attr("__sigtip_content");if(!title){element.attr("__sigtip_content",element.attr("title"));element.attr("title","")}return element.attr("__sigtip_content")},position:["left","inner-top"],showDelay:0,hideDelay:300,maxWidth:500,maxHeight:-1,offsetX:0,offsetY:0},Init:function(){var thisObj=Chudu24.Hotels.UserControls.HotelRoomsPrice;thisObj.Sigtip();thisObj.Events();thisObj.EventsV2()},Sigtip:function(){$("div.SigTip").each(function(index,item){$(this).sigtip(Chudu24.Hotels.UserControls.HotelRoomsPrice.sigtipSettings)})},Events:function(){$(document).on("click",'[data-toggle="lightbox"]',function(event){event.preventDefault();$(this).ekkoLightbox({alwaysShowClose:true,onShown:function(){$("#divDlogRoomInfo").dialog({closeOnEscape:false});$(document).bind("keydown",function(e){if(e.which==27){$(".ekko-lightbox").modal("hide")}})},onHidden:function(){$("#divDlogRoomInfo").dialog({closeOnEscape:true})}})});$(document).on("click","div.roomstb a.btnBookingRoom",function(e){e.preventDefault();var trItemRoomsParent=$(this).parents("tr.trItemRooms");var idint=$(".roomstb table.tblRoomsPrice").attr("idint");var roomTypeId=trItemRoomsParent.attr("RoomTypeId");var quantity=$("input.number-room",trItemRoomsParent).val();var arrivalDate=$("table.tblRoomsPrice").attr("CheckIn");var departureDate=$("table.tblRoomsPrice").attr("CheckOut");window.location="/V2/Hotels/Reservation.aspx?HotelIdInt="+idint+"&Rooms="+roomTypeId+":"+quantity+"&ArrivalDate="+escape(arrivalDate)+"&DepartureDate="+escape(departureDate)});$(document).on("click","table.tblRoomsPrice tr.trItemRooms a.BookingHotelRoom",function(e){e.preventDefault();var trItemRooms=$(this).parents("tr.trItemRooms");var _RoomId=trItemRooms.attr("roomtypeid");_RoomId=_RoomId.toLowerCase();var _roomsDefault=_RoomId+":1";var _hotelIdInt=$(".roomstb table.tblRoomsPrice").attr("idint");var _arrivalDate=$("table.tblRoomsPrice").attr("CheckIn");var _departureDate=$("table.tblRoomsPrice").attr("CheckOut");var _NumberOfRooms=$("select#ddlRoomNumber",trItemRooms).val();_roomsDefault=_RoomId;if(_NumberOfRooms>1){window.location="/datphong.njsx?HotelIdInt="+_hotelIdInt+"&TypeId=Room&ItemId="+_roomsDefault+"&numberOfRoom="+_NumberOfRooms+"&SubItemType=dat-phong"}else{window.location="/datphong.njsx?HotelIdInt="+_hotelIdInt+"&TypeId=Room&ItemId="+_roomsDefault+"&SubItemType=dat-phong"}});$(document).on("click","div.roomstb a.roomtypeinfo, div.roomstb img.imageRoomType",function(e){e.preventDefault();var _dia=$("#divDlogRoomInfo");var tblRoomsPrice=$(".roomstb table.tblRoomsPrice");var trRoomType=$(this).closest("td");var roomTypeId=trRoomType.attr("roomtypeid");var divDetailedRate=$("div.detailed-rates",$("tr.trItemRoomInfos.loai-phong[roomtypeid="+roomTypeId+"]"));$("div.dialog-content",_dia).html(divDetailedRate.html());if(tblRoomsPrice.length>0){$("div.dialog-content",_dia).attr("idint",tblRoomsPrice.attr("idint"));$("div.dialog-content",_dia).attr("hotel-name",tblRoomsPrice.attr("hotel-name"));$("div.dialog-content",_dia).attr("checkin",tblRoomsPrice.attr("checkin"));$("div.dialog-content",_dia).attr("checkout",tblRoomsPrice.attr("checkout"))}var _title="Chi tiết phòng "+$("h4.RoomName",trRoomType).html();var _dialog=_dia.dialog({show:{effect:"fade",duration:200},hide:{effect:"fade",duration:200},width:900,height:600,title:_title,modal:true,create:function(event){$(event.target).parent().css("position","fixed");var _this=$(event.target);if($("button",$(".ui-dialog-titlebar",_this.parent())).length>0){$("button",$(".ui-dialog-titlebar",_this.parent())).before('<a href="#" role="button">Đóng</a>')}else{$(".ui-dialog-titlebar",_this.parent()).append('<a href="#" role="button">Đóng</a>')}$("a[role='button']",$(".ui-dialog-titlebar",_this.parent())).click(function(e){e.preventDefault();_this.dialog("close")})},resizeStart:function(event){$(event.target).parent().css("position","fixed")},resizeStop:function(event){$(event.target).parent().css("position","fixed")},close:function(){}});_dia.dialog("option","position",{my:"center center",at:"center center",of:window});_dia.dialog("open");$("div.SigTip",$("div.dialog-content",_dia)).each(function(index,item){$(this).sigtip(Chudu24.Hotels.UserControls.HotelRoomsPrice.sigtipSettings)})});$(document).on("click","div.roomstb a.roominfo",function(e){e.preventDefault();var _dia=$("#divDlogRoomInfo");var tblRoomsPrice=$(".roomstb table.tblRoomsPrice");var trRoomType=$(this).parents("tr.trItemRooms");var roomTypeId=trRoomType.attr("roomtypeid");var divDetailedRate=$("div.detailed-rates",$("tr.trItemRoomInfos.loai-gia[roomtypeid="+roomTypeId+"]"));$("div.dialog-content",_dia).html(divDetailedRate.html());if(tblRoomsPrice.length>0){$("div.dialog-content",_dia).attr("idint",tblRoomsPrice.attr("idint"));$("div.dialog-content",_dia).attr("hotel-name",tblRoomsPrice.attr("hotel-name"));$("div.dialog-content",_dia).attr("checkin",tblRoomsPrice.attr("checkin"));$("div.dialog-content",_dia).attr("checkout",tblRoomsPrice.attr("checkout"))}var _title="Chi tiết loại giá "+$("h4.RoomName",trRoomType).html();var _dialog=_dia.dialog({show:{effect:"fade",duration:200},hide:{effect:"fade",duration:200},width:900,height:600,title:_title,modal:true,create:function(event){$(event.target).parent().css("position","fixed");var _this=$(event.target);if($("button",$(".ui-dialog-titlebar",_this.parent())).length>0){$("button",$(".ui-dialog-titlebar",_this.parent())).before('<a href="#" role="button">Đóng</a>')}else{$(".ui-dialog-titlebar",_this.parent()).append('<a href="#" role="button">Đóng</a>')}$("a[role='button']",$(".ui-dialog-titlebar",_this.parent())).click(function(e){e.preventDefault();_this.dialog("close")})},resizeStart:function(event){$(event.target).parent().css("position","fixed")},resizeStop:function(event){$(event.target).parent().css("position","fixed")},close:function(){}});_dia.dialog("option","position",{my:"center center",at:"center center",of:window});_dia.dialog("open");$("div.SigTip",$("div.dialog-content",_dia)).each(function(index,item){$(this).sigtip(Chudu24.Hotels.UserControls.HotelRoomsPrice.sigtipSettings)})});$(document).on("click","div.roomstb a.roomcancelinfo",function(e){e.preventDefault();var _dia=$("#divDlogRoomCancel");var tblRoomsPrice=$(".roomstb table.tblRoomsPrice");var trRoomType=$(this).parents("tr.trItemRooms");var roomTypeId=trRoomType.attr("roomtypeid");var divDetailedRate=$("div.detailed-rates",$("tr.trItemRoomCancel[roomtypeid="+roomTypeId+"]"));$("div.dialog-content",_dia).html(divDetailedRate.html());if(tblRoomsPrice.length>0){$("div.dialog-content",_dia).attr("idint",tblRoomsPrice.attr("idint"));$("div.dialog-content",_dia).attr("hotel-name",tblRoomsPrice.attr("hotel-name"));$("div.dialog-content",_dia).attr("checkin",tblRoomsPrice.attr("checkin"));$("div.dialog-content",_dia).attr("checkout",tblRoomsPrice.attr("checkout"))}var _title="Điều kiện hủy phòng: "+$("h4.RoomName",trRoomType).html();var _dialog=_dia.dialog({width:900,height:"auto",minHeight:"auto",title:_title,modal:true,create:function(event){$(event.target).parent().css("position","fixed");var _this=$(event.target);if($("button",$(".ui-dialog-titlebar",_this.parent())).length>0){$("button",$(".ui-dialog-titlebar",_this.parent())).before('<a href="#" role="button">Đóng</a>')}else{$(".ui-dialog-titlebar",_this.parent()).append('<a href="#" role="button">Đóng</a>')}$("a[role='button']",$(".ui-dialog-titlebar",_this.parent())).click(function(e){e.preventDefault();_this.dialog("close")})},resizeStart:function(event){$(event.target).parent().css("position","fixed")},resizeStop:function(event){$(event.target).parent().css("position","fixed")},close:function(){}});_dia.dialog("option","position",{my:"center center",at:"center center",of:window});_dia.dialog("open")});$(document).on("click","div.roomstb tr.trPromotionItem a.PromotionName",function(e){e.preventDefault();var _dia=$("#divDlogPromotionInfo");var trPromotionItem=$(this).parents(".trPromotionItem");var promotionId=trPromotionItem.attr("promotionId");var divPromotionItemInfo=$("div.divPromotionItemInfo",$("tr.trPromotionItemInfo[promotionid="+promotionId+"]"));$("div.dialog-content",_dia).html(divPromotionItemInfo.html());var _dialog=_dia.dialog({width:800,height:600,modal:true,create:function(event){$(event.target).parent().css("position","fixed");var _this=$(event.target);if($("button",$(".ui-dialog-titlebar",_this.parent())).length>0){$("button",$(".ui-dialog-titlebar",_this.parent())).before('<a href="#" role="button">Đóng</a>')}else{$(".ui-dialog-titlebar",_this.parent()).append('<a href="#" role="button">Đóng</a>')}$("a[role='button']",$(".ui-dialog-titlebar",_this.parent())).click(function(e){e.preventDefault();_this.dialog("close")})},resizeStart:function(event){$(event.target).parent().css("position","fixed")},resizeStop:function(event){$(event.target).parent().css("position","fixed")},close:function(){}});_dia.dialog("option","position",{my:"center center",at:"center center",of:window});_dia.dialog("open")});$("div.roomType-photos").each(function(){if($("a.photo",$(this))!=null&&$("a.photo",$(this)).length>0){var _roomtypeid=$(this).attr("roomtypeid");$('div.roomType-photos a[roomtypeid="'+_roomtypeid+'"]').colorbox({rel:_roomtypeid,onOpen:function(){$("div.divVideo").hide()},onClosed:function(){$("div.divVideo").show()}})}})},EventsV2:function(){$(document).on("change","#RoomTypes select.slRoomNumber",function(e){var $this=$(this);var nhacungcapId=$this.data("nhacungcapid");var numberOfRoom=$.isNumeric($this.val())?parseInt($this.val()):0;if(numberOfRoom>0){$("#RoomTypes select.slRoomNumber").each(function(index,item){var nccId_i=$(item).data("nhacungcapid");if(nhacungcapId!=nccId_i){$(item).val("0")}})}});$(document).on("click","#btnBookingHotel",function(e){e.preventDefault();var _hotelIdInt=$(".roomstb table.tblRoomsPrice").attr("idint");var _arrivalDate=$("table.tblRoomsPrice").attr("CheckIn");var _departureDate=$("table.tblRoomsPrice").attr("CheckOut");var arrRoomBooking=[];$("#RoomTypes select.slRoomNumber").each(function(index,item){var numberOfRoom=$.isNumeric($(item).val())?parseInt($(item).val()):0;if(numberOfRoom>0){var room_i=$(item).data("roomtypeid")+":"+numberOfRoom;arrRoomBooking.push(room_i)}});var strRoomBooking=arrRoomBooking.join("|");if($.isEmpty(arrRoomBooking)){Chudu24.Notification.Message("warning","Xin vui lòng chọn số lượng phòng cần đặt.","Đặt phòng",{timeOut:3e3});var $firstRoom=$($("#RoomTypes select.slRoomNumber")[0]);if($firstRoom&&$firstRoom.length){Chudu24.Master.scrollingTo($firstRoom,100,function(){$firstRoom.focus()})}}else if($.isEmpty(_hotelIdInt)||$.isEmpty(_arrivalDate)||$.isEmpty(_departureDate)){Chudu24.Notification.Message("error","Vui lòng thử lại tìm kiếm phòng rồi sau đó đặt phòng.","Đặt phòng",{timeOut:5e3});var $btnSearchPrice=$("#SearchRoom .btnSearchRoomsPrice");if($btnSearchPrice&&$btnSearchPrice.length){Chudu24.Master.scrollingTo($btnSearchPrice,100,function(){$btnSearchPrice.focus()})}}else{var linkBooking="/datphong-v2.njsx?HotelIdInt="+_hotelIdInt+"&Rooms="+escape(strRoomBooking)+"&ArrivalDate="+escape(_arrivalDate)+"&DepartureDate="+escape(_departureDate);console.log(linkBooking);Chudu24.MI_HAWK.viewBookRoom(_hotelIdInt,strRoomBooking);window.location=linkBooking}});$(document).on("click","#aBookingHotel",function(e){e.preventDefault();var _hotelIdInt=$(".roomstb table.tblRoomsPrice").attr("idint");var _arrivalDate=$("table.tblRoomsPrice").attr("CheckIn");var _departureDate=$("table.tblRoomsPrice").attr("CheckOut");var arrRoomBooking=[];$("#RoomTypes select.slRoomNumber").each(function(index,item){var numberOfRoom=$.isNumeric($(item).val())?parseInt($(item).val()):0;if(numberOfRoom>0){var room_i=$(item).data("roomtypeid")+":"+numberOfRoom;arrRoomBooking.push(room_i)}});var strRoomBooking=arrRoomBooking.join("|");if($.isEmpty(arrRoomBooking)){Chudu24.Notification.Message("warning","Xin vui lòng chọn số lượng phòng cần đặt.","Đặt phòng",{timeOut:3e3});var $firstRoom=$($("#RoomTypes select.slRoomNumber")[0]);if($firstRoom&&$firstRoom.length){Chudu24.Master.scrollingTo($firstRoom,100,function(){$firstRoom.focus()})}}else if($.isEmpty(_hotelIdInt)||$.isEmpty(_arrivalDate)||$.isEmpty(_departureDate)){Chudu24.Notification.Message("error","Vui lòng thử lại tìm kiếm phòng rồi sau đó đặt phòng.","Đặt phòng",{timeOut:5e3});var $btnSearchPrice=$("#SearchRoom .btnSearchRoomsPrice");if($btnSearchPrice&&$btnSearchPrice.length){Chudu24.Master.scrollingTo($btnSearchPrice,100,function(){$btnSearchPrice.focus()})}}else{var linkBooking="/datphong-v2.njsx?HotelIdInt="+_hotelIdInt+"&Rooms="+escape(strRoomBooking)+"&ArrivalDate="+escape(_arrivalDate)+"&DepartureDate="+escape(_departureDate);console.log(linkBooking);Chudu24.MI_HAWK.viewBookRoom(_hotelIdInt,strRoomBooking);window.location=linkBooking}});$(document).on("click",".display-room-more",function(e){if($(this).hasClass("clicked")){$(this).closest("tbody").find("tr.no-display").hide(500);$(this).text("Hiển thị thêm các loại giá khác");$(this).removeClass("clicked")}else{$(this).addClass("clicked");$(this).closest("tbody").find("tr.no-display").show(500);$(this).text("Ẩn các loại giá khác")}});$(document).on("change",".slRoomNumber",function(e){var number=$(this).find("option:selected").text();$(".slRoomNumber").val(0);$(this).val(number);$(".room-choose i").text(number+" phòng");$(this).parents("table").find("tr").css("background-color","transparent");$(this).closest("tr").css("background-color","aliceblue");if($(this).closest("tr").hasClass("room-basic")){$(this).closest("tr").find("td:first-child").css("background-color","white");$(this).closest("tr").find("td:last-child").css("background-color","white")}})}};$(function(){var thisObj=Chudu24.Hotels.UserControls.HotelRoomsPrice;thisObj.Init()});if(typeof Chudu24=="undefined")var Chudu24={};if(typeof Chudu24.Hotels=="undefined")Chudu24.Hotels={};if(typeof Chudu24.Hotels.UserControls=="undefined")Chudu24.Hotels.UserControls={};Chudu24.Hotels.UserControls.SearchPanel={Init:function(){moment.locale("vi");var thisObj=Chudu24.Hotels.UserControls.SearchPanel;thisObj.LoadPage();thisObj.Events()},Events:function(){var PAGE_TIM_KS="/";$(document).on("click",".search-panel .datepicker-btn",function(e){$(".hasDatepicker",$(this).parent()).focus()});var ajaxCall=null;$(".search-panel #hotelName").autocomplete({source:function(request,response){ajaxCall=$.ajax({url:"/napi/ajax/hotel-search",data:{hotelName:request.term,limit:10,_csrf:$.GetCsrfToken()},type:"POST",dataFilter:function(data){return data},success:function(data){$(".search-panel .relative i.hotelloading").hide();response($.map(data.d,function(item){return{value:item._source.hotelid,label:item._source.hotelname,HotelIdInt:item._source.hotelidint,CityName:item._source.cityname,HotelName:item._source.hotelname,HotelTextId:Chudu24.Core.MakeLinkFromUnicode(item._source.hotelname),cache:false}}))}})},minLength:2,search:function(event,ui){$(this).parents("div.relative").find("i.hotelloading").show();if(ajaxCall!=null){ajaxCall.abort()}},focus:function(event,ui){$("#hotelName").val(ui.item.HotelName);$("#hotelName").attr("HotelId",ui.item.value);$("#hotelName").attr("HotelIdInt",ui.item.HotelIdInt);$("#hotelName").attr("HotelTextId",ui.item.HotelTextId);return false},select:function(event,ui){$("#hotelName").val(ui.item.HotelName);$("#hotelName").attr("HotelId",ui.item.value);$("#hotelName").attr("HotelIdInt",ui.item.HotelIdInt);$("#hotelName").attr("HotelTextId",ui.item.HotelTextId);return false},open:function(){$("#hotelName").attr("HotelId","");$("#hotelName").attr("HotelIdInt","");$("#hotelName").attr("HotelTextId","")}}).autocomplete("instance")._renderItem=function(ul,item){return $("<li>").append("<i class='fa fa-hotel'></i> <a>"+item.label+" - <span>"+item.CityName+"</span></a>").appendTo(ul)};$(document).on("change",".search-panel #optAttraction",function(e){$(this).removeClass("short");if($.trim($("option:selected",this).attr("attraction")).length){$(this).addClass("short")}});$(document).on("click",".search-panel #btnSearch",function(e){e.preventDefault();var me=$(".search-panel");var url="/search";var foundClause=false;var CheckInDate=$("#txtDateCheckin",me).val();var CheckOutDate=$("#txtDateCheckout",me).val();var Attraction=$("#optAttraction",me).val();var Hotel=$("#hotelName",me).val();var additionUrl="";if(!/^\d{2}\/\d{2}\/\d{4}$/.test(CheckInDate)){Chudu24.Notification.Message("error","Ngày nhận phòng không hợp lệ","Lỗi tìm kiếm");return}if(!/^\d{2}\/\d{2}\/\d{4}$/.test(CheckOutDate)){Chudu24.Notification.Message("error","Ngày trả phòng không hợp lệ","Lỗi tìm kiếm");return}var isCheckInValid=Chudu24.Master.isValidBookingDay(CheckInDate,false);if(!isCheckInValid){Chudu24.Notification.Message("error","Ngày nhận phòng: '"+CheckInDate+"' không hợp lệ!","Ngày không hợp lệ");return false}var isCheckOutValid=Chudu24.Master.isValidBookingDay(CheckOutDate,true);if(!isCheckOutValid){Chudu24.Notification.Message("error","Ngày trả phòng: '"+CheckOutDate+"' không hợp lệ!","Ngày không hợp lệ");return false}if((Attraction==null||!Attraction.length)&&(Hotel==null||!Hotel.length)){Chudu24.Notification.Message("error","Xin nhập tên thành phố hoặc khách sạn","Lỗi tìm kiếm");return}var expiresDate=new Date;expiresDate.setDate(expiresDate.getDate()+1);if(CheckInDate.length>0){additionUrl+="&ArrivalDate="+escape(CheckInDate);$.SetCookie("CheckInDate",CheckInDate,1,".chudu24.com")}if(CheckOutDate.length>0){additionUrl+="&DepartureDate="+escape(CheckOutDate);$.SetCookie("CheckOutDate",CheckOutDate,1,".chudu24.com")}if($("#hotelName",me).attr("HotelIdInt")&&$("#hotelName",me).attr("HotelIdInt").length>0&&$("#hotelName",me).attr("HotelTextId")&&$("#hotelName",me).attr("HotelTextId").length>0){var HotelTextId=$("#hotelName",me).attr("HotelTextId");var HotelIntId=$("#hotelName",me).attr("HotelIdInt");url="https://khachsan.chudu24.com/ks."+HotelIntId+"."+HotelTextId+".html";foundClause=true}else if($("#optAttraction option:selected",me).length>0&&$("#optAttraction option:selected",me).data("id")){var cityTextId=$("#optAttraction option:selected",me).val();url=PAGE_TIM_KS+"t."+cityTextId;if($("#optAttraction option:selected",me).attr("attraction").length>0){var attr=$("#optAttraction option:selected",me).attr("attraction");url+="/q.a."+attr}url+=".html";foundClause=true}else if($("#hotelName").val().length>0){var Keyword=$("#hotelName").val();url+="?q="+escape(Keyword.trim().replaceAll("  "," ").replaceAll(" ","+").replaceAll("++","+"));foundClause=true}if(foundClause){Chudu24.MI_HAWK.searchPanel();window.location=url}})},LoadPage:function(){console.log("hotels_search_panel.js","PageLoad");var me=$(".search-panel");var checkIn=$.GetCookie("CheckInDate");var checkOut=$.GetCookie("CheckOutDate");var cityTextId=$.GetCookie("CityTextId");var $divParam=$("div#params");var pramCityTextId=$divParam.attr("textid");if(!$.isEmptyObject(pramCityTextId)&&($.isEmptyObject(cityTextId)||$.trim(pramCityTextId)!=$.trim(cityTextId))){$.SetCookie("CityTextId",pramCityTextId,1,".chudu24.com");cityTextId=pramCityTextId}var attractionTextId=$.GetCookie("AttractionTextId");var pramAttractionTextId=$divParam.attr("attractiontextid");if((!$.isEmptyObject(pramAttractionTextId)||pramAttractionTextId=="")&&($.isEmptyObject(attractionTextId)||$.trim(pramAttractionTextId)!=$.trim(attractionTextId))){$.SetCookie("AttractionTextId",pramAttractionTextId,1,".chudu24.com");attractionTextId=pramAttractionTextId}if(checkIn==null){checkIn=moment().add(1,"day").format("DD/MM/YYYY")}else{checkIn=$.HtmlDecode(checkIn)}if(checkOut==null){checkOut=moment().add(2,"day").format("DD/MM/YYYY")}else{checkOut=$.HtmlDecode(checkOut)}$(".search-panel #txtDateCheckin").val(checkIn);$(".search-panel #txtDateCheckin").datepicker({numberOfMonths:2,dateFormat:"dd/mm/yy",firstDay:1,minDate:new Date,onClose:function(dateText,inst){var checkIn=moment(dateText,"DD/MM/YYYY");var checkOut=moment($(".search-panel #txtDateCheckout").val(),"DD/MM/YYYY");var next=moment(dateText,"DD/MM/YYYY").add(1,"day");if(checkIn.toDate()>=checkOut.toDate()){$(".search-panel #txtDateCheckout").val(next.format("DD/MM/YYYY"))}$(".search-panel #txtDateCheckout").datepicker("option","minDate",next.toDate())}});$(".search-panel #txtDateCheckout").val(checkOut);$(".search-panel #txtDateCheckout").datepicker({numberOfMonths:2,dateFormat:"dd/mm/yy",firstDay:1,minDate:moment(checkIn,"DD/MM/YYYY").add(1,"day").toDate()});if(cityTextId!=null&&cityTextId!=""){$(".search-panel #optAttraction").val(cityTextId);if(attractionTextId!=null&&$.trim(attractionTextId)!=""){$(".search-panel #optAttraction").find('[value="'+cityTextId+'"][attraction="'+attractionTextId+'"]').attr("selected",true)}}getAttraction();getType();getStar();getPrice();getFacilities()}};$(function(){var thisObj=Chudu24.Hotels.UserControls.SearchPanel;thisObj.Init()});function getAttraction(){var dvParams=$("#params");var $this=$("#filterAttr .liAttraction");var attractions=dvParams.attr("attraction");if(attractions&&attractions!=""){var arr=attractions.split(",").removeDuplicate(true).map(Number);if(arr&&arr.length>0){for(var i=0;i<arr.length;i++){$this.each(function(e){if(arr[i]==$(this).attr("value")){$(this).find("*").addClass("active")}})}}}}function getType(){var dvParams=$("#params");var $this=$("#filterAdvance .liType");var type=dvParams.attr("type");var arrType=[];arrType.push({Id:"resort",Name:"Resort"});arrType.push({Id:"villa",Name:"Villa"});arrType.push({Id:"khachsan",Name:"Khách sạn"});arrType.push({Id:"canho",Name:"Căn hộ"});if(type&&type!=""){var arrParamType=type.split(",").removeDuplicate(false);if(arrParamType&&arrParamType.length>0){for(var t=0;t<arrType.length;t++){if(arrParamType.indexOf(arrType[t].Id)>-1){$($this[t]).find("*").addClass("active")}}}}}function getPrice(){var dvParams=$("#params");var $this=$("#filterPrice .liPrice");var price=dvParams.attr("price");var arrPrice=["khuyenmai","500","500-1000","1000-2000","2000-5000","5000"];if(price&&price!=""){var arrParamPrice=price.split(",").removeDuplicate(false);if(arrParamPrice&&arrParamPrice.length>0){for(var p=0;p<arrPrice.length;p++){if(arrParamPrice.indexOf(arrPrice[p])>-1){$($this[p]).find("*").addClass("active")}}}}}function getStar(){var dvParams=$("#params");var $this=$("#filterStar .liStar");var starRating=dvParams.attr("starrating");if(starRating&&starRating!=""){var arr=starRating.split(",").removeDuplicate(true).map(Number);var index;if(arr&&arr.length>0){for(var i=0;i<arr.length;i++){switch(arr[i]){case 5:index=0;break;case 4:index=1;break;case 3:index=2;break;case 2:index=3;break;case 1:index=4;break}$($this[index]).find("*").addClass("active")}}}}function getFacilities(){var arrFacilities=[];arrFacilities.push({Id:5,Name:"Hội họp"});arrFacilities.push({Id:36,Name:"Bãi biển riêng"});arrFacilities.push({Id:43,Name:"Bãi đậu xe ôtô tại khách sạn"});arrFacilities.push({Id:65,Name:"Điều hòa nhiệt độ"});arrFacilities.push({Id:56,Name:"Đưa đón sân bay"});arrFacilities.push({Id:58,Name:"Giặt ủi"});arrFacilities.push({Id:59,Name:"Hồ bơi"});arrFacilities.push({Id:15,Name:"Karaoke"});arrFacilities.push({Id:30,Name:"Két an toàn"});arrFacilities.push({Id:19,Name:"Massage"});arrFacilities.push({Id:20,Name:"Nhà hàng khu ăn uống"});arrFacilities.push({Id:12,Name:"Phòng tập thể dục"});arrFacilities.push({Id:44,Name:"Phòng tiện nghi cho người khuyết tật"});arrFacilities.push({Id:55,Name:"Thang máy"});arrFacilities.push({Id:7,Name:"Trông giữ trẻ"});arrFacilities.push({Id:8,Name:"Trung tâm thương vụ"});arrFacilities.push({Id:10,Name:"Wifi / Internet có tính phí"});arrFacilities.push({Id:32,Name:"Wifi / Internet miễn phí tại sảnh"});arrFacilities.push({Id:26,Name:"Wifi / Internet miễn phí trong phòng"});arrFacilities.push({Id:11,Name:"Xe bus ra trung tâm"});var dvParams=$("#params");var $this=$("#filterFac .liFac");var faciltities=dvParams.attr("facility");if(faciltities&&faciltities!=""){var arr=faciltities.split(",").removeDuplicate(true).map(Number);if(arr&&arr.length>0){for(var i=0;i<arrFacilities.length;i++){if(arr.indexOf(arrFacilities[i].Id)>-1){$($this[i]).find("*").addClass("active")}}}}}if(typeof Chudu24=="undefined")var Chudu24={};if(typeof Chudu24.Hotels=="undefined")Chudu24.Hotels={};if(typeof Chudu24.Hotels.UserControls=="undefined")Chudu24.Hotels.UserControls={};Chudu24.Hotels.UserControls.HotelPopularChoice={ajaxCall_FillHotelPopularChoiceMinRate:null,Init:function(){var thisObj=Chudu24.Hotels.UserControls.HotelPopularChoice;thisObj.Events()},Events:function(){$(document).on("click","div.HotelPopularChoice a.lnkHotelName2",function(){var HotelName=$(this).html();ga("send","event","HotelPage","LuaChonPhoBien",HotelName);return true})},FillHotelPopularChoiceMinRate:function(){var HotelIdInt=new Array;HotelIdInt=$("li.wrapperItemHotelPopularChoice",$("div.HotelPopularChoice")).map(function(i,el){return $(el).attr("hotelidint")?$(el).attr("hotelidint"):null}).get();HotelIdInt=jQuery.grep(HotelIdInt,function(a){return!isNaN(a)&&a>0});if(HotelIdInt.length>0){var _url="/M/Reservations_v2/WebServices/WebServices2.asmx/GetMinRatesByHotelIdInt";if(Chudu24.Hotels.UserControls.HotelPopularChoice.ajaxCall_FillHotelPopularChoiceMinRate!=null)Chudu24.Hotels.UserControls.HotelPopularChoice.ajaxCall_FillHotelPopularChoiceMinRate.abort();Chudu24.Hotels.UserControls.HotelPopularChoice.ajaxCall_FillHotelPopularChoiceMinRate=$.ajax({type:"POST",url:_url,data:"{ 'HotelIdInt': '"+HotelIdInt+"'}",cache:false,contentType:"application/json; charset=utf-8",dataType:"json",async:false,success:function(msg){$.each(msg.d,function(k,v){var _html="";if((v.IsShowPrice||v.IsShowPromotionPrice)&&v.HotelIdInt!=1009){_html="<div class='small gray divMinRateVnd' id='divMinRateVnd'>giá từ <span class='spnRate green'>"+v.DisplayPrice+"</span></div>"}else{if(v.MemberLevel>=3){_html="<div class='small gray divMinRateVnd' id='divMinRateVnd'>giá từ <span class='spnRate green'>"+v.DisplayPrice+"</span></div>"}else{_html="<a href='/ks."+v.IdInt+"."+v.HotelNameStringId+".html'><button type='button' class='btn btn-thanhvien'>Thành viên</button></a>"}}$('li.wrapperItemHotelPopularChoice[HotelIdInt="'+v.HotelIdInt+'"]').find("div._left").append(_html)})},error:function(){}})}}};$(function(){var thisObj=Chudu24.Hotels.UserControls.HotelPopularChoice;thisObj.Init()});if(typeof Chudu24=="undefined")var Chudu24={};if(typeof Chudu24.Hotels=="undefined")Chudu24.Hotels={};if(typeof Chudu24.Hotels.UserControls=="undefined")Chudu24.Hotels.UserControls={};Chudu24.Hotels.UserControls.HotelSimilar={ajaxCall_FillHotelSimilarMinRate:null,Init:function(){var thisObj=Chudu24.Hotels.UserControls.HotelSimilar;thisObj.Events()},Events:function(){$(document).on("click","div.HotelsSimilar a.lnkHotelName2",function(){var HotelName=$(this).html();ga("send","event","HotelPage","KhachSanTuongTu",HotelName);return true})},FillHotelSimilarMinRate:function(){var HotelIdInt=new Array;HotelIdInt=$("li.wrapperItemHotelSimilar",$("div.HotelsSimilar")).map(function(i,el){return $(el).attr("hotelidint")?$(el).attr("hotelidint"):null}).get();HotelIdInt=jQuery.grep(HotelIdInt,function(a){return!isNaN(a)&&a>0});if(HotelIdInt.length>0){var _url="/M/Reservations_v2/WebServices/WebServices2.asmx/GetMinRatesByHotelIdInt";if(Chudu24.Hotels.UserControls.HotelSimilar.ajaxCall_FillHotelSimilarMinRate!=null)Chudu24.Hotels.UserControls.HotelSimilar.ajaxCall_FillHotelSimilarMinRate.abort();Chudu24.Hotels.UserControls.HotelSimilar.ajaxCall_FillHotelSimilarMinRate=$.ajax({
type:"POST",url:_url,data:"{ 'HotelIdInt': '"+HotelIdInt+"'}",cache:false,contentType:"application/json; charset=utf-8",dataType:"json",async:false,success:function(msg){$.each(msg.d,function(k,v){var _html="";if((v.IsShowPrice||v.IsShowPromotionPrice)&&v.HotelIdInt!=1009){_html="<div class='small gray divMinRateVnd' id='divMinRateVnd'>giá từ <span class='spnRate green'>"+v.DisplayPrice+"</span></div>"}else{if(v.MemberLevel>=3){_html="<div class='small gray divMinRateVnd' id='divMinRateVnd'>giá từ <span class='spnRate green'>"+v.DisplayPrice+"</span></div>"}else{_html="<a href='/ks."+v.IdInt+"."+v.HotelNameStringId+".html'><button type='button' class='btn btn-thanhvien'>Thành viên</button></a>"}}$('li.wrapperItemHotelSimilar[HotelIdInt="'+v.HotelIdInt+'"]').find("div._right").append(_html)})},error:function(){}})}}};$(function(){var thisObj=Chudu24.Hotels.UserControls.HotelSimilar;thisObj.Init()});if(typeof Chudu24=="undefined")var Chudu24={};if(typeof Chudu24.Hotels=="undefined")Chudu24.Hotels={};if(typeof Chudu24.Hotels.UserControls=="undefined")Chudu24.Hotels.UserControls={};Chudu24.Hotels.UserControls.RecommendBooking={ajaxCall_FillHotelRecommendBookingMinRate:null,Init:function(){var thisObj=Chudu24.Hotels.UserControls.RecommendBooking;thisObj.Events();thisObj.FillHotelRecommendBookingMinRate()},Events:function(){$(document).on("click","div.RecommendBooking a.lnkHotelName2",function(){var HotelName=$(this).html();ga("send","event","HotelPage","KhachCungDatPhong",HotelName);return true})},FillHotelRecommendBookingMinRate:function(){var HotelIdInt=new Array;HotelIdInt=$("li.wrapperItemHotelRecommendBooking",$("div.RecommendBooking")).map(function(i,el){return $(el).attr("hotelidint")?$(el).attr("hotelidint"):null}).get();HotelIdInt=jQuery.grep(HotelIdInt,function(a){return!isNaN(a)&&a>0});if(HotelIdInt.length>0){var _url="/M/Reservations_v2/WebServices/WebServices2.asmx/GetMinRatesByHotelIdInt";if(Chudu24.Hotels.UserControls.RecommendBooking.ajaxCall_FillHotelRecommendBookingMinRate!=null)Chudu24.Hotels.UserControls.RecommendBooking.ajaxCall_FillHotelRecommendBookingMinRate.abort();Chudu24.Hotels.UserControls.RecommendBooking.ajaxCall_FillHotelRecommendBookingMinRate=$.ajax({type:"POST",url:_url,data:"{ 'HotelIdInt': '"+HotelIdInt+"'}",cache:false,contentType:"application/json; charset=utf-8",dataType:"json",async:false,success:function(msg){$.each(msg.d,function(k,v){var _html="";if((v.IsShowPrice||v.IsShowPromotionPrice)&&v.HotelIdInt!=1009){_html="<div class='small gray divMinRateVnd' id='divMinRateVnd'>giá từ <span class='spnRate green'>"+v.DisplayPrice+"</span></div>"}else{if(v.MemberLevel>=3){_html="<div class='small gray divMinRateVnd' id='divMinRateVnd'>giá từ <span class='spnRate green'>"+v.DisplayPrice+"</span></div>"}else{_html="<a href='/ks."+v.IdInt+"."+v.HotelNameStringId+".html'><button type='button' class='btn btn-thanhvien'>Thành viên</button></a>"}}$('li.wrapperItemHotelRecommendBooking[HotelIdInt="'+v.HotelIdInt+'"]').find("div._left").append(_html)})},error:function(){}})}}};$(function(){var thisObj=Chudu24.Hotels.UserControls.RecommendBooking;thisObj.Init()});if(typeof Chudu24=="undefined")var Chudu24={};if(typeof Chudu24.Hotels=="undefined")Chudu24.Hotels={};if(typeof Chudu24.Hotels.UserControls=="undefined")Chudu24.Hotels.UserControls={};Chudu24.Hotels.UserControls.ResortInCityByHotel={ajaxCall_FillResortInCityMinRate:null,Init:function(){var thisObj=Chudu24.Hotels.UserControls.ResortInCityByHotel;thisObj.Events()},Events:function(){$(document).on("click","div.ResortInCityByHotel a.lnkHotelName2",function(){var HotelName=$(this).html();ga("send","event","HotelPage","ResortTrongThanhPho",HotelName);return true})},FillResortInCityMinRate:function(){var HotelIdInt=new Array;HotelIdInt=$("li.wrapperItemHotelResortInCity",$("div.ResortInCityByHotel")).map(function(i,el){return $(el).attr("hotelidint")?$(el).attr("hotelidint"):null}).get();HotelIdInt=jQuery.grep(HotelIdInt,function(a){return!isNaN(a)&&a>0});if(HotelIdInt.length>0){var _url="/M/Reservations_v2/WebServices/WebServices2.asmx/GetMinRatesByHotelIdInt";if(Chudu24.Hotels.UserControls.ResortInCityByHotel.ajaxCall_FillResortInCityMinRate!=null)Chudu24.Hotels.UserControls.ResortInCityByHotel.ajaxCall_FillResortInCityMinRate.abort();Chudu24.Hotels.UserControls.ResortInCityByHotel.ajaxCall_FillResortInCityMinRate=$.ajax({type:"POST",url:_url,data:"{ 'HotelIdInt': '"+HotelIdInt+"'}",cache:false,contentType:"application/json; charset=utf-8",dataType:"json",async:false,success:function(msg){$.each(msg.d,function(k,v){var _html="";if((v.IsShowPrice||v.IsShowPromotionPrice)&&v.HotelIdInt!=1009){_html="<div class='small gray divMinRateVnd' id='divMinRateVnd'>giá từ <span class='spnRate green'>"+v.DisplayPrice+"</span></div>"}else{if(v.MemberLevel>=3){_html="<div class='small gray divMinRateVnd' id='divMinRateVnd'>giá từ <span class='spnRate green'>"+v.DisplayPrice+"</span></div>"}else{_html="<a href='/ks."+v.IdInt+"."+v.HotelNameStringId+".html'><button type='button' class='btn btn-thanhvien'>Thành viên</button></a>"}}$('li.wrapperItemHotelResortInCity[HotelIdInt="'+v.HotelIdInt+'"]').find("div._left").append(_html)})},error:function(){}})}}};$(function(){var thisObj=Chudu24.Hotels.UserControls.ResortInCityByHotel;thisObj.Init()});if(typeof Chudu24=="undefined")var Chudu24={};if(typeof Chudu24.Hotels=="undefined")Chudu24.Hotels={};if(typeof Chudu24.Hotels.HotelDetails=="undefined")Chudu24.Hotels.HotelDetails={};Chudu24.Hotels.HotelDetails.TEMPLATES={Init:function(){},ROOM_PRICE_MAIN:'  <div class="roomstb"><table class="table tblRoomsPrice hotel-item" width="" idint="{0}"hotel-name="{1}" checkin="{2}" checkout="{3}" RoomTypeIdInt="{4}">  <tr>    <th>Loại phòng</th>    <th>Phòng<br/>dành cho</th>    <th>Số phòng<br/>cần đặt</th>    <th>Giá.<br/>VNĐ/đêm<br/><span class="ghi-chu">(giá 1 phòng {5})</span></th>    <th>Đặt phòng</th>  </tr>  [/CHOUPON]  [/PROMOTION]  [/ROOM_TYPE]  <tr style="border: none;" class="trBookingHotel" id="trBookingHotel">    <td colspan="5" style="border: none; text-align: center;">      <div><i>Xin lưu ý, mức giá trên đây có thể thay đổi đôi chút vào các dịp lễ, tết, thời gian cao điểm. <br/>Quý khách      vui lòng liên hệ với Chudu24 qua số <b>1900 5454 40 / 028 3925 1055</b> để được tư vấn thêm.</i></div>    </td>  </tr>  </table><div class="snippet dialog" id="divDlogRoomInfo" title="Chi tiết phòng " style="display: none;">  <div class="dialog-content dialogRoomTypeInfoDetail hotel-item" idint="{0}"  hotel-name="{1}" checkin="{2}" checkout="{3}">  </div></div><div class="snippet dialog" id="divDlogRoomCancel" title="Điều kiện hủy phòng: " style="display: none;">  <div class="dialog-content dialogRoomCancelDetail hotel-item" idint="{0}"  hotel-name="{1}" checkin="{2}" checkout="{3}">  </div>  </div><div class="snippet dialog" id="divDlogPromotionInfo" title="Thông tin khuyến mãi" style="display: none;">  <div class="dialog-content dialogPromotionInfoDetail hotel-item" idint="{0}"  hotel-name="{1}" checkin="{2}" checkout="{3}">  </div></div></div>',CHOUPON_PUBLIC:'<tr class="trChouponItem">  <td colspan="3" class="tdChouponName">    <div class="divRoomName">      <h4 class="RoomName"><a href="//choupon.chudu24.com/khachsan/{0}/{1}.html"      class="orange">Choupon <b>{2}</b></a></h4>    </div>    </td>  <td class="tdChouponPrice center priceni">    <span class="green price"><span    class="bald">{3}.</span>000</span><br>  </td>  <td></td></tr>',CHOUPON_PRIVATE:'<tr class="trChouponItem">  <td class="tdChouponName" colspan="3">    <div class="divRoomName">      <h4 class="ChouponName">Choupon <b>{0}</b></h4>    </div>    <div style="font-size: 12px; font-weight: normal; font-style: italic; padding-top: 2px; color: #666;">chỉ dành riêng cho khách hàng thành viên nhận thư khuyến mãi  </div>  </td>    <td class="tdChouponPrice center priceni">      <div id="divHasRateButNoShow"  class="SigTip divHasRateButNoShow left"      title="Giá rất tốt tại khách sạn này không được công bố trên website, vui lòng click và điền địa chỉ email để nhận báo giá">        <div style="float: left;">          <div class="divClickDeLayGiaText clicklaygia">Click Để Lấy Giá</div>        </div>        <div class="blue why">tại sao?</div>        <div class="clear"></div>      </div>    </td>    <td></td></tr>',PROMOTION:'<tr class="trPromotionItem" promotionid="{0}">  <td class="tdPromotionName" colspan="3">    <div class="divRoomName">      <h4 class="ChouponName"><a href="#" class="orange PromotionName"><b>{1}</b></a></h4>    </div>  </td>  <td class="tdPromotionPrice center priceni">    <div id="divRate"  visible="false" class="divRate top-10 bottom-5 {9}"    style="padding: 0 0; margin: 0 0">      <span class="green price"><span class="bald">{2}.</span>000</span>      <br>          {3}    </div>    <div id="divNoRate"  visible="false" class="divNoRate SigTip {10}" title="Chudu24 tự hào mang đến khách hàng mức giá thấp tại hàng loạt các khách sạn đối tác Vàng của Chudu24. Tuy nhiên mức giá này không áp dụng cho các đặt phòng trực tuyến. Để có được mức giá thấp, xin vui lòng đặt phòng qua tổng đài 1900 5454 40 hoặc gởi yêu cầu cho chúng tôi.">    </div>    <div id="divHasRateButNoShow"  visible="false" class="SigTip divHasRateButNoShow left {11}"    title="Giá rất tốt tại khách sạn này không được công bố trên website, vui lòng click và điền địa chỉ email để nhận báo giá">      <div style="float: left;">        <div class="divClickDeLayGiaText clicklaygia">Click Để Lấy Giá</div>      </div>      <div class="blue why">tại sao?</div>      <div class="clear"></div>    </div>    <div class="clear">    </div>  </td>  <td class="tdSendRequest">    <a rel="nofollow" class="buttonb" href="/datphong.njsx?HotelIdInt={4}&TypeId=Promotion&ItemId={0}&SubItemType=dat-phong">Đặt phòng</a>  </td></tr><tr class="trPromotionItemInfo hide" promotionid="{0}">  <td colspan="5">    <div class="row divPromotionItemInfo">      <div class="col-md-7">        <h3 id="promotion-name" class="green">{1}</h3>      <div>        {5}      </div>    </div>    <div class="col-md-5">      <div class="row" id="divPriceInPromotionDetail"  visible="false">        <div class="col-xs-10 col-xs-offset-1 text-right {9}" style="margin-top: 20px; margin-bottom: 10px;">          <span class="green price"><span class="bald">{2}.</span>000</span>          <span>VNĐ/đêm</span>          <br>          {6}          </div>        </div>        <div class="row">          <div class="col-xs-10 col-xs-offset-1 promotion-expiry">            <b><span class="green">Thời hạn chương trình</span></b><br/>            <span>Ngày bắt đầu: {7}</span><br/>            <span>Ngày kết thúc: {8}</span>          </div>        </div>      </div>    </div>  </td></tr>',ROOM_TYPE:'  <tr class="trItemRooms" roomtypeid="{0}" RoomTypeIdInt="{1}">    <td style="width: 200px;">      <div class="colr1">        <div class="divRoomName">          <h4 class="RoomName">{2}</h4>        </div>        <div class="rtype">          <img width="180" class="radius5 imageRoomType {16}" src="{3}?w=180&h=140"          />          <div class="LinksChiTietPhong">            <a href="#" class="roominfo">Chi tiết phòng</a>            <a href="#" class="roomcancelinfo">Điều kiện hủy</a>          </div>        </div>      </div>      </td>    <td class="center">      <p>            {4} người        <br/>            {5}      </p>    </td>    <td class="center so-phong-can-dat">      <div class="noofr">        <div class="form-group">          <select id="ddlRoomNumber" class="form-control input-sm">            <option value="1">0</option>            <option value="1">1</option>            <option value="2">2</option>            <option value="3">3</option>            <option value="4">4</option>            <option value="5">5</option>            <option value="6">6</option>            <option value="7">7</option>            <option value="8">8</option>            <option value="9">9</option>            <option value="10">10</option>          </select>        </div>      </div>      </td>    <td class="center priceni">      <div id="divRate" class="divRate top-10 bottom-5 {13}"      style="padding: 0 0; margin: 0 0">        <span class="green price"><span class="bald">{6}.</span>000</span><br>      VNĐ/đêm        {7}      </div>      <div id="divNoRate" class="SigTip {14}"      title="Chudu24 tự hào mang đến khách hàng mức giá thấp tại hàng loạt các khách sạn đối tác Vàng của Chudu24. Tuy nhiên mức giá này không áp dụng cho các đặt phòng trực tuyến. Để có được mức giá thấp, xin vui lòng đặt phòng qua tổng đài 1900 5454 40 hoặc gởi yêu cầu cho chúng tôi."      style="cursor: pointer; text-align: left; margin-left: 10px;">      Gọi <span class="green numberp">1900 5454 40</span> để có giá rất tốt<span      style="color: #86b817; margin-left: 10px;">(Tại sao?)</span>      </div>      <div id="divHasRateButNoShow" class="SigTip divHasRateButNoShow left {15}"       title="Giá rất tốt tại khách sạn này không được công bố trên website, vui lòng click và điền địa chỉ email để nhận báo giá">        <div style="float: left;">          <div class="divClickDeLayGiaText clicklaygia">Click Để Lấy Giá</div>        </div>        <div class="blue why">tại sao?</div>        <div class="clear"></div>      </div>      <div class="clear">      </div>    </td>    <td class="tdSendRequest">      <a rel="nofollow" class="buttonb hoverButton BookingHotelRoom" href="#">Đặt phòng</a>    </td>  </tr>  <tr class="trItemRoomInfos hide" roomtypeid="{0}">    <td colspan="5">      <div class="detailed-rates">        <div>          <div class="divInfo col-md-12">            <h3 class="heding">Thông tin phòng "{2}"</h3>            <div class="hinh-anh col-md-5 roomType-photos" roomtypeid="{0}">              <div class="hinh-anh-scroller">                [/ROOMTYPE_PHOTO]              </div>            </div>            <div class="content col-md-7">              <div class="qui-dinh-2">                {8}              </div>              <div class="{9}">                <h3 class="heding">Chính sách phụ thu</h3>              {10}              </div>            </div>          </div>          <div class="divFancility col-md-12">            <div class="room-faci">              <h3 class="heding">Tiện nghi - Dịch vụ trong phòng</h3>              [/ROOMTYPE_FACILITIES_DETAIL]            </div>          </div>        </div>      </div>    </td>  </tr>'+'<tr class="trItemRoomCancel hide" roomtypeid="{0}">    <td colspan="5">      <div class="detailed-rates">        <div class="hotel-cancel-detail col-md-12">          <div class="roomCancelatioPolicy {11}">            <h3 class="heding">Điều kiện hủy phòng</h3>            {12}          </div>          <br/>        </div>      </div>    </td>  </tr>',ROOMTYPE_PHOTO:'    <img class="radius5" src="{0}?w=400&h=300" alt="" style="margin-bottom: 10px;" />  ',ROOMTYPE_FACILITIES_DETAIL:'    <i class="fa fa-check-square-o"></i><span>{0}</span><br/>  '};Chudu24.Hotels.HotelDetails.TEMPLATES_V2={Init:function(){},ROOM_PRICE_MAIN:'  <div class="roomstb room-v2"><table class="table tblRoomsPrice hotel-item" width="" idint="{0}"hotel-name="{1}" checkin="{2}" checkout="{3}" RoomTypeIdInt="{4}">  <tr>    <th>Loại phòng</th>    <th>Phòng<br/>dành cho</th>    <th>Số phòng<br/>cần đặt</th>    <th>Giá.<br/>VNĐ/đêm<br/><span class="ghi-chu">(giá 1 phòng {5})</span></th>    <th class="hide">Đặt phòng</th>  </tr>  [/CHOUPON]  [/PROMOTION]  [/ROOM_TYPE]  <tr style="border: none;" class="trBookingHotel" id="trBookingHotel">    <td colspan="5" style="border: none; text-align: center;">      <div><i>Bạn chọn số lượng phòng cần đặt rồi bấm nút Đặt phòng khách sạn để đặt trực tuyển <br/>      hoặc gọi tổng đài <b>1900 5454 40</b> để đặt phòng qua điện thoại.</i></div>      <a rel="nofollow" class="buttonb hoverButton mrgt1x fw-bold" href="#" id="btnBookingHotel">Đặt Phòng Khách Sạn</a>    </td>  </tr>  </table><div class="snippet dialog" id="divDlogRoomInfo" title="Chi tiết phòng " style="display: none;">  <div class="dialog-content dialogRoomTypeInfoDetail hotel-item" idint="{0}"  hotel-name="{1}" checkin="{2}" checkout="{3}">  </div></div><div class="snippet dialog" id="divDlogRoomCancel" title="Điều kiện hủy phòng: " style="display: none;">  <div class="dialog-content dialogRoomCancelDetail hotel-item" idint="{0}"  hotel-name="{1}" checkin="{2}" checkout="{3}">  </div>  </div><div class="snippet dialog" id="divDlogPromotionInfo" title="Thông tin khuyến mãi" style="display: none;">  <div class="dialog-content dialogPromotionInfoDetail hotel-item" idint="{0}"  hotel-name="{1}" checkin="{2}" checkout="{3}">  </div></div></div>',ROOM_TYPE:'  <tr class="trItemRooms {28}" roomtypeid="{0}" RoomTypeIdInt="{1}" data-nhacungcapid="{17}">    <td>      <div class="colr1">        <div class="divRoomName">          <h4 class="RoomName mrgb05">{2}</h4>          {32}          <a href="#" class="roominfo nowrap"><i class="fa fa-caret-right mrgr05 greenMain"></i>Xem chi tiết giá, thông tin & điều kiện hủy, đổi</a>        </div>      </div>      </td>    <td class="center">      <p>            {4} người        <br/>            {5}      </p>    </td>    <td class="center so-phong-can-dat">      <div class="noofr">        <div class="form-group">          <select class="form-control input-sm slRoomNumber" data-roomtypeid="{0}"  data-nhacungcapid="{17}">            {31}          </select>        </div>      </div>      </td>    <td class="center">      <div id="divRate" class="divRate top-10 bottom-5 {13}"      style="padding: 0 0; margin: 0 0">        <span class="green price"><span class="bald">{6}.</span>000</span><br>      VNĐ/đêm        {7}      </div>      <div id="divNoRate" class="SigTip nowrap {14}"      title="Chudu24 tự hào mang đến khách hàng mức giá thấp tại hàng loạt các khách sạn đối tác Vàng của Chudu24. Tuy nhiên mức giá này không áp dụng cho các đặt phòng trực tuyến. Để có được mức giá thấp, xin vui lòng đặt phòng qua tổng đài 1900 5454 40 hoặc gởi yêu cầu cho chúng tôi."      style="cursor: pointer; text-align: left; margin-left: 10px;">      Gọi <span class="green numberp">1900 5454 40</span> để có giá rất tốt<span      style="color: #86b817; margin-left: 10px;">(Tại sao?)</span>      </div>      <div id="divHasRateButNoShow" class="SigTip divHasRateButNoShow left {15}"       title="Giá rất tốt tại khách sạn này không được công bố trên website, vui lòng click và điền địa chỉ email để nhận báo giá">        <div style="float: left;">          <div class="divClickDeLayGiaText clicklaygia">Click Để Lấy Giá</div>        </div>        <div class="blue why">tại sao?</div>        <div class="clear"></div>      </div>      <div class="clear">      </div>    </td>    <td class="tdSendRequest hide">      <a rel="nofollow" class="buttonb hoverButton BookingHotelRoom" href="#">Đặt phòng</a>    </td>  </tr>  <tr class="trItemRoomInfos {28} hide" roomtypeid="{0}">    <td colspan="5">      <div class="detailed-rates">        <div>          <div class="divInfo col-md-12">            <h3 class="heding {13}">Chi tiết giá phòng "{2}"</h3>            <table class="{13} table table-fixed table-bordered">              <thead>                <tr>                  <th class="col-md-6">Ngày</th><th class="col-md-6">Giá 1 đêm</th>                </tr>              </thead>              <tbody>                [/ROOM_RATE_DETAILS]              </tbody>            </table>              [/ROOM_RATE_INCLUDE]            <div class="LuuYChinhSach {18}">              <h3 class="heding ">Lưu ý & chính sách</h3>              <div class="mrgl3x">                {19}              </div>            </div>            <div>              <h3 class="heding {29}">Hình ảnh phòng (chỉ mang tính tham khảo)</h3>              <div class="mrgl3x {29}">                <div roomtypeid="{0}">                  [/ROOMTYPE_PHOTO]                </div>              </div>            </div>            <div>              <h3 class="heding">Thông tin phòng (chỉ mang tính tham khảo)</h3>              <div class="mrgl3x">                <span class="col-md-12 no-padding">{8}</span>                <div class="col-md-6 no-padding">                  <span class="clearfix {20}">Diện tích: {21} m2</span>                  <span class="clearfix {22}">Hướng: {23}</span>                  <span class="clearfix">Phòng dành cho {4} người</span>                </div>                <div class="col-md-6 no-padding">                  <span class="clearfix {24}">Phòng có {25}</span>                  <span class="clearfix {26}">Có thể kê thêm tối đa: {27} giường phụ</span>                </div>              </div>            </div>            <div style="clear: both"></div>            <div class="CancellationPolicy {11}">              <h3 class="heding">Điều kiện hủy phòng</h3>              <div class="mrgl3x">                {12}              </div>            </div>          </div>          <div class="divFancility col-md-12">            <div class="room-faci">              <h3 class="heding {30}">Tiện nghi - Dịch vụ trong phòng</h3>              <div class="mrgl3x {30}">                [/ROOMTYPE_FACILITIES_DETAIL]              </div>            </div>          </div>        </div>      </div>    </td>  </tr>',ROOM_RATE_DETAILS:'                <tr>                  <td class="col-md-6">{0}</td><td class="col-md-6">{1}</td>                </tr>',ROOM_RATE_INCLUDE:'              <h3 class="heding">Giá phòng bao gồm</h3>              <div class="mrgl3x">                <div class="row">                  {0}                </div>              </div>  ',ROOM_RATE_INCLUDE_ITEM:'              <div class="col-xs-12">                    <i class="fa fa-check-circle-o"></i>                    <span>{0}</span>                  </div>                  ',ROOMTYPE_PHOTO:'    <img class="radius5 mrgr1x" src="{0}?w=140&c=1" alt="" style="margin-bottom: 10px;" />  ',ROOMTYPE_FACILITIES_DETAIL:'    <i class="fa fa-check-square-o"></i><span>{0}</span><br/>  '};if(typeof Chudu24=="undefined")var Chudu24={};if(typeof Chudu24.Hotels=="undefined")Chudu24.Hotels={};if(typeof Chudu24.Hotels.UserControls=="undefined")Chudu24.Hotels.UserControls={};var URL_ROOT="https://khachsan.chudu24.com";Chudu24.Hotels.UserControls.CustomerReviewsHotel={Init:function(){var thisObj=Chudu24.Hotels.UserControls.CustomerReviewsHotel;thisObj.LoadReviewPaging();thisObj.facebook_googleplus();thisObj.Events()},LoadReviewPaging:function(){if($("#isHotelReview").val()=="true")$(".paging-bottom-center").html(Chudu24.Hotels.UserControls.CustomerReviewsHotel.renderPaging($("#totalPage").val(),1,true))},Events:function(){$(document).on("click","#secondary .readmore",function(e){e.preventDefault();if($(this).text()=="Thu gọn"){$(".snippet-content .text-justify").css("height","136px");$(this).text("Xem thêm");$(".snippet-content .purdah").show()}else{$(".snippet-content .text-justify").css("height","auto");$(this).text("Thu gọn");$(".snippet-content .purdah").hide()}});$(document).on("click","#primary .lnkMoreReview",function(e){e.preventDefault();var _this=$(this);var _HotelIdInt=_this.attr("HotelIdInt");var _HotelTextId=_this.attr("HotelTextId");var _ReviewIdIntFilter=_this.attr("ReviewContentIdInt");Chudu24.Hotels.UserControls.CustomerReviewsHotel.PageMoreReview(_HotelIdInt,_ReviewIdIntFilter,_this,_HotelTextId)});$(document).on("click","#primary .reviewUcConTrol .pagination li.page a",function(e){e.preventDefault();var _parent=$(this).parent();if(!_parent.hasClass("active")){var pageNum=$(this).text();if($.trim(pageNum).length==0){var goto=_parent.next().length?"prev":_parent.prev().length?"next":"";pageNum=parseInt($("a",$(".pagination li.active:first")).text());if(goto=="next"){pageNum+=1}else if(goto=="prev"){pageNum-=1}}var url=location.href;var HotelIdInt=$(".txtHotelIdInt").val();var ShortGuidQString=$(".shortguidqstring").val();Chudu24.Hotels.UserControls.CustomerReviewsHotel.PagingReview_v2(pageNum,HotelIdInt,ShortGuidQString)}});$("div.review-photos").each(function(){if($("a.photo",$(this))!=null&&$("a.photo",$(this)).length>0){var ReviewContentId=$(this).attr("rel");$('div.review-photos a[reviewcontentid="'+ReviewContentId+'"]').colorbox({rel:ReviewContentId,onOpen:function(){$("div.divVideo").hide()},onClosed:function(){$("div.divVideo").show()}})}});$(document).on("blur","input, textarea",function(e){if($(this).hasClass("txtFullNameReply")){if($.trim($(this).val()).length>0){$(this).removeClass("input-error");$("li.spnErrFullName").hide()}}else if($(this).hasClass("txtEmailReply")){if($.IsValid_Email($(this).val())){$(this).removeClass("input-error");$("li.spnErrEmail").hide()}}else if($(this).hasClass("txtContentReply")){if($.trim($(this).val()).length>0){$(this).removeClass("input-error");$("li.spnErrContentReply").hide()}}});$(document).on("click",".huu-ich-button",function(e){e.preventDefault();var _url="/datphong/increaseusefulcount";var review_id=$(this).attr("data-id");var _data={ReviewId:review_id};if($(this).attr("data-used")=="false"){$("#txtHuuIch_"+review_id).text(parseInt($("#txtHuuIch_"+review_id).text())+1);$(this).attr("disabled",true);$.ajax({type:"POST",url:_url,data:JSON.stringify(_data),contentType:"application/json; charset=utf-8",dataType:"json",cache:false,success:function(html){return true},error:function(err){return true}})}$(this).attr("data-used","true")});$(document).on("click",".lnkReplyReviews",function(e){e.preventDefault();var review_id=$(this).data("id");if($(this).attr("show")=="true"){$("div.divReplyControl").remove();if(review_id!=null)var pDiv=$("#tool_review_"+review_id);else var pDiv=$(this).closest("div");var DivReply=$("div.divReplyControlTemp").clone();DivReply.removeClass("divReplyControlTemp").addClass("divReplyControl");if(review_id!=null)DivReply.attr("ReviewContentIdInt",review_id);$("input.txtParentId",DivReply).val($(this).attr("parentid"));if(!$.isEmptyObject($(this).attr("hotelidint")))$("input.txtHotelIdInt",DivReply).val($(this).attr("hotelidint"));if(!$.isEmptyObject($(this).attr("hotelname")))$("input.txtHotelName",DivReply).val($(this).attr("hotelname"));if(!$.isEmptyObject($(this).attr("cityname")))$("input.txtCityName",DivReply).val($(this).attr("cityname"));if(!$.isEmptyObject($(this).attr("citytextid")))$("input.txtCityTextId",DivReply).val($(this).attr("citytextid"));$("input.button",DivReply).bind("click",function(e){$.AddReview(DivReply)});if(review_id!=null)pDiv.after(DivReply);else pDiv.next("div.afterReply").after(DivReply);var listratehomereply=$(DivReply).closest("div.listratehomereply");if(listratehomereply.length>0){listratehomereply.show()}DivReply.slideDown();$(".lnkReplyReviews").attr("show",true);$(".lnkReplyReviews_subs").attr("show",true);$(this).attr("show",false)}else{if(review_id!=null){var div=$('div[ReviewContentIdInt="'+review_id+'"].divReplyControl');var listratehomereply=$(div).closest("div.listratehomereply");if(listratehomereply.length>0){if(div.is(":visible")){div.slideToggle("fast",function(){if($.trim((".divReplyReviews",listratehomereply).html()).length==0){listratehomereply.hide()}})}else{listratehomereply.show();div.slideToggle()}}else{div.slideToggle()}}else{var div=$("div.divReplyControl",$(this).closest("div.divReplyReviews"));div.slideToggle()}}});$.AddReview=function(DivReply){var HotelIdInt=$.trim($("input.txtHotelIdInt",DivReply).val());var HotelName=$.trim($("input.txtHotelName",DivReply).val());var FullName=$.trim($("input.txtFullNameReply",DivReply).val());var Email=$.trim($("input.txtEmailReply",DivReply).val());var StayDate=$.trim($("input.txtStayDate",DivReply).val());var ReviewRating=$.trim($("input.txtReviewRating",DivReply).val());var Subject=$.trim($("input.txtSubject",DivReply).val());var Body=$.trim($("textarea.txtContentReply",DivReply).val());var ReservationNumber=$.trim($("input.txtReservationNumber",DivReply).val());var ReservationItemId=$.trim($("input.txtReservationItemId",DivReply).val());var CityName=$.trim($("input.txtCityName",DivReply).val());var CityTextId=$.trim($("input.txtCityTextId",DivReply).val());var ParentId=$.trim($("input.txtParentId",DivReply).val());var FileNames="";var bValid=true;if(FullName.length==0){$("input.txtFullNameReply",DivReply).addClass("input-error");$("li.spnErrFullName",DivReply).show();bValid=false}if(!$.IsValid_Email(Email)){$("input.txtEmailReply",DivReply).addClass("input-error");$("li.spnErrEmail",DivReply).show();bValid=false}if(Body.length==0){$("textarea.txtContentReply",DivReply).addClass("input-error");$("li.spnErrContentReply",DivReply).show();bValid=false}if(bValid){$("input.button",DivReply).hide();$("#btn-loading",DivReply).show();var _url="/datphong/savereviewReply";var _data={HotelIdInt:$.SafeData(HotelIdInt),HotelName:$.SafeData(HotelName),FullName:$.SafeData(FullName),Email:$.SafeData(Email),StayDate:$.SafeData(StayDate),CMNDNumber:"",IssueDate:"",IssueBy:"",ReviewRating:$.SafeData(ReviewRating),Subject:$.SafeData(Subject),Body:$.SafeData(Body),ReservationNumber:$.SafeData(ReservationNumber),ReservationItemId:$.SafeData(ReservationItemId),CityName:$.SafeData(CityName),CityTextId:$.SafeData(CityTextId),ParentId:$.SafeData(ParentId),FileNames:$.SafeData(FileNames),ChuduRating:0,Facility:{}};var MiHawk=Chudu24.MI_HAWK,dataTracking={},accountId=MiHawk.getUid();if(accountId&&accountId!=""){var url=window.location.href,contentId=$.SafeData(ReservationItemId),typeId=6,content="Submit reply đánh giá khách sạn : {0}".format($.SafeData(HotelName));dataTracking.accountId=accountId;dataTracking.typeId=typeId;dataTracking.contentId=contentId||"";dataTracking.url=url||"";dataTracking.content=content;MiHawk.InsertTracking(dataTracking)}$.ajax({type:"POST",url:_url,data:JSON.stringify(_data),contentType:"application/json; charset=utf-8",dataType:"json",success:function(html){if(html.code==5e4){Chudu24.Notification.Message("success","Cảm ơn quý khách đã trả lời đánh giá khách sạn.","Gửi đánh giá");$(".lnkReplyReviews",$("div.ri")).attr("show","true")}else{Chudu24.Notification.Message("error","Xảy ra lỗi trong quá trình gửi đánh giá.","Lỗi gửi đánh giá")}DivReply.slideUp("slow");DivReply.remove()},error:function(err){Chudu24.Notification.Message("error","Xảy ra lỗi trong quá trình gửi đánh giá.","Lỗi gửi đánh giá")}})}}},hbsHelper:function(){Handlebars.registerHelper("subNum",function(a,b){return parseInt(a)-parseInt(b)});Handlebars.registerHelper("replyReviewLevel",function(threadSortOrder){var nTab=threadSortOrder.split("-").length-2;return"style=margin-left:"+nTab*30+"px;"});Handlebars.registerHelper("getDateTimeNow",function(strFormatDate){return moment().format(strFormatDate)});Handlebars.registerHelper("reviewStarByRating",function(strRating,nStar){var strValue="";var nStarRating=0;nStarRating=parseInt(strRating);if(nStarRating<nStar)strValue=" disable";return strValue});Handlebars.registerHelper("formatDate",function(dateTime,format,fromFormat){if(dateTime){dateTime=dateTime.toString().toUpperCase();var regT=/\d{2}T\d{2}\:\d{2}\:\d{2}\.\d{3}/g;if(regT.test(dateTime))dateTime=dateTime.replace(/\T/g," ");var regZ=/\d{2}\:\d{2}\:\d{2}\.\d{3}Z/g;if(regZ.test(dateTime))dateTime=dateTime.replace(/\Z/g,"")}var mDateTime=null;if(!dateTime)mDateTime=moment();if(!fromFormat)mDateTime=moment(dateTime);else mDateTime=moment(dateTime,fromFormat);var value=mDateTime.format(format);return value});Handlebars.registerHelper("translateListLinkReviewHotel",function(arrUrl){if(arrUrl){return arrUrl.replace(/href="http:/g,'href="').replace(/href="https:/g,'href="').replace(/href='http:/g,"href='").replace(/href='https:/g,"href='")}else return""});Handlebars.registerHelper("compare",function(lvalue,operator,rvalue,options){var result=compare(lvalue,operator,rvalue);if(result){return options.fn(this)}else{return options.inverse(this)}});Handlebars.registerHelper("decodeHtml",function(strHtmlEncode){return unescape(strHtmlEncode)});Handlebars.registerHelper("stripALink",function(strHtmlContent){strHtmlContent=strHtmlContent.replace(/(<[^>]*)href\s*=\s*('|")(?!(https?\:\/\/)?(www|dulich|du\-lich|choupon|m|en|hotels)\.chudu24\.com(\/)?)[^\\2]*?\2([^>]*>)/gi,"");
return strHtmlContent.replace(/<\/?(a|A).*?>/g,"")});Handlebars.registerHelper("translateLink",function(url){if(url){url=url.toString().trim();if(url.indexOf("http://")==0){url=url.replace("http://","//")}else if(url.indexOf("//")==-1&&url.indexOf("/")==-1){url="//"+url}}return url});function isEmpty(obj){return typeof obj=="string"&&!obj.trim()||typeof obj=="undefined"||obj===null||typeof obj=="object"&&obj.length==0}function compare(lvalue,operator,rvalue){var operators={"==":function(l,r){return l==r},"===":function(l,r){return l===r},"!=":function(l,r){return l!=r},"<":function(l,r){return l<r},">":function(l,r){return l>r},"<=":function(l,r){return l<=r},">=":function(l,r){return l>=r},"typeof":function(l,r){return typeof l==r},CONTAIN:function(l,r){if(l==null||r==null)return false;return l.indexOf(r)!=-1},IsNullOrEmpty:function(l){return isEmpty(l)}};if(!operators[operator])throw new Error("Handlerbars Helper 'compare' doesn't know the operator "+operator);var result=operators[operator](lvalue,rvalue);return result}},PagingReview_v2:function(PageNumber,HotelIdInt,ShortGuidQString){Chudu24.Hotels.UserControls.CustomerReviewsHotel.scrollingTo_v2($("div.CustomerReviews"),10,function(){$("div.CustomerReviews div.reviewUcConTrol").html($("#loading").clone(true).show());$.ajax("/napi/ajax/hotel-review-detail",{method:"post",data:{hotelIdInt:HotelIdInt,pageNum:PageNumber,shortGuidQString:ShortGuidQString,_csrf:$.GetCsrfToken()},error:function(err){},success:function(resp){var source='<div class="divCreateNewReview"> <div class="left" style="margin-top: 5px;"><h2>{{currentHotel.reviewcount}} khách hàng đã đánh giá khách sạn này</h2></div> <div> {{#if currentHotel.isCanReply}} <a href="//khachsan.chudu24.com/V2/Hotels/WriteReviews.aspx?IntId={{currentHotel.hotelidint}}" class="buttonb hoverButton" style="float: right;">Viết đánh giá</a> {{/if}} </div> </div> <br/> ';source+='<input type="hidden" id="hidappId" class="hidappId" value="{{appId}}"/> <div class="listrate" id="listrate"> {{#each reviewlist}} <div class="listrote ri" rcid="{{ReviewContentIdInt}}" style="padding: 30px 10px 20px 10px;"> <div class="customer" style="width: 15%"> <span class="nameauthor" style="text-align: left; overflow: hidden; max-height: 33px; max-width: 90px; line-height: 16px; margin: 5px 0; display: block">{{ReviewedBy}}</span> <span class="date"><em>{{formatDate ReviewedDate "DD/MM/YYYY" null }}</em></span> </div> <div class="customercm" style="width: 70%"> <a href="{{linkReviewHotel}}"> <span class="green">{{decodeHtml TitleVN}}</span></a><br/> <span class="italic">"{{{stripALink ContentVN }}}"</span> {{# compare TagLinkHtml "IsNullOrEmpty" null}} {{else}} <div class="top-10 bottom-5 gray small"> Từ khóa: {{{translateListLinkReviewHotel TagLinkHtml}}} </div> {{/compare}} <div style="margin-bottom: 10px;" > {{# if IsChiTietVisible}} <table class="mot-chi-tiet top-10"> {{#each ReviewDetailRateList}} <tr> <td> {{FacilityName}}</td> <td> <div class="thanh-chi-tiet"></div> <div style="width: {{Rating}}px;" class="thanh-muc-do"></div> </td> <td>{{FacilityName2}}</td> <td><div class="thanh-chi-tiet"></div> <div style="width: {{Rating2}}px;" class="thanh-muc-do"></div></td> </tr> {{/each}} </table> {{/if}} </div> <div class="review-photos afterReply" rel="{{Id}}" style="margin-bottom: 10px;"> {{#each Photos}} {{# compare Enabled "==" "1"}} <a reviewcontentid="{{../../Id}}" href="{{translateLink FileName}}?w=800&c=1"title="{{../../../currentHotel.hotelname}}" class="photo"> <img src="{{translateLink FileName}}?w=60" alt="{{../../../currentHotel.hotelname}}"></a> {{/compare}} {{/each}} </div> {{#if ../isCanReply}} <div class="tool-box" style="position: relative; margin-bottom: 20px; min-width: 515px;"><div> <div class="thanh-cong-cu"> <span class="huu-ich-text">Đánh giá này có hữu ích cho bạn? </span> <div class="huu-ich-layout"> <button id="btnHuuIch" class="huu-ich-button btn-success" data-used="false" data-id="{{ReviewContentIdInt}}">hữu ích</button> <div class="huu-ich-box"> <div class="huu-ich-arrow"> <div><s></s><i></i></div> <div id="txtHuuIch_{{ReviewContentIdInt}}" class="huu-ich-count-box">{{UsefulCount}}</div> </div> </div> </div> </div> </div> <br/> </div> {{/if}} </div> <div class="customerrate" style="width: 15%; white-space: nowrap"> {{Rating}}<span class="spPer5">/5</span><br/> <span class="star"> <i class="fa fa-star {{reviewStarByRating Rating 1}}"></i> <i class="fa fa-star {{reviewStarByRating Rating 2}}"></i> <i class="fa fa-star {{reviewStarByRating Rating 3}}"></i> <i class="fa fa-star {{reviewStarByRating Rating 4}}"></i> <i class="fa fa-star {{reviewStarByRating Rating 5}}"></i> </span> <br/> <span title="Trả lời đánh giá" class="lnkReplyReviews" parentid="{{Id}}" data-id="{{ReviewContentIdInt}}" show="true"><i class="fa fa-reply"></i>&nbsp;&nbsp;<span>Trả lời</span></span> </div> </div> {{#if ../isCanReply}} <div class="fb-google-api"> <div style="width: 75px; float: left; padding-top: 5px; position: relative" id="g_section_{{ReviewContentIdInt}}"> <div class="g-plusone" data-href="{{linkReviewHotel}}" data-size="medium"></div> </div> <div style="float: right; width: 120px; padding-top: 3px; margin-right: 5px; position: relative; z-index: {{subNum 10  @index}}"> <div class="fb-like" id="fb_btn_{{ReviewContentIdInt}}" data-href="{{linkReviewHotel}}&g={{../currentHotel.shortguidqstring}}" data-layout="button_count" data-action="like" data-show-faces="false" data-share="true" data-width="70"></div> </div> </div> {{/if}} <div class="clear"></div> <div id="tool_review_{{ReviewContentIdInt}}" style="display: none;"></div> {{#each ReplyList}} <div class="divReplyReviews" style="width: 67%;"> <div id="ReplyReviewItem" class="ReplyReviewItem ri top-10" {{replyReviewLevel ThreadSortOrder}}> <div class="bottom-5 gray"> <b>{{ReviewedBy}}</b>- {{formatDate ReviewedDate "DD/MM/YYYY" null}} </div> <div style="color: #363535;" class="bottom-5 divReviewContent-{{ReviewContentIdInt}}"> {{{ContentVN}}} </div> <div class="bottom-5" style="height: 16px; float: right; margin-right: 10px;"> {{#if ../../isCanReply}} <span title="Trả lời đánh giá" class="lnkReplyReviews replyReviews" parentid="{{Id}}" show="true"> <i class="fa fa-reply"></i>&nbsp;&nbsp;<span>Trả lời</span> </span> {{/if}} <div class="clear"></div> </div> <div class="afterReply"></div> </div> </div> {{/each}}   <div class="listrote" style="border: none; height: 1px; padding: 0px 0px; margin: 0px 0px"></div> {{/each}} </div> <div class="divReplyControlTemp" style="display: none;"> <div class="row"> <div class="col-lg-6 col-lg-offset-0 text-center boxReplyControl"> <div class="panel ui-widget-content ui-corner-all ui-state-focus"> <div class="panel-body"> <input type="hidden" class="shortguidqstring" value="{{currentHotel.shortguidqstring}}"/> <input type="hidden" class="txtParentId" value=""/> <input type="hidden" class="txtHotelIdInt" value="{{currentHotel.hotelidint}}"/> <input type="hidden" class="txtHotelName" value="{{currentHotel.hotelname}}"/> <input type="hidden" class="txtStayDate" value="{{getDateTimeNow "DD/MM/YYYY" }}"/> <input type="hidden" class="txtReviewRating" value="3"/> <input type="hidden" class="txtSubject" value="Đánh giá khách sạn"/> <input type="hidden" class="txtReservationNumber" value=""/> <input type="hidden" class="txtReservationItemId" value=""/> <input type="hidden" class="txtCityName" value="{{currentHotel.cityname}}"/> <input type="hidden" class="txtCityTextId" value="{{currentHotel.citytextid}}"/> <div style="float: left; margin-right: 10px; text-align: left;" class="bottom-5"> <div> Họ tên </div> <div class="top-5"> <input id="txtFullNameReply" type="text" style="width: 150px; padding: 2px 4px;"class="txtFullNameReply ui-corner-all"/> <ul class="ulEror"> <li class="spnErrFullName" style="display: none;">Vui lòng kiểm tra lại họ tên</li> </ul> </div> </div> <div style="float: left; text-align: left;" class="bottom-5"> <div> Email </div> <div class="top-5"> <input id="txtEmailReply" type="text" style="width: 260px; padding: 2px 4px;"class="txtEmailReply ui-corner-all"/> <ul class="ulEror"> <li class="spnErrEmail" style="display: none;">Vui lòng kiểm tra lại email</li> </ul> </div> </div> <div class="clear"></div> <div style="text-align: left;" class="top-10"> Nội dung trả lời </div> <div class="top-5 ReplyContent"> <textarea id="txtContentReply" class="txtContentReply ui-corner-all"style="width: 422px; height: 150px; padding: 4px 4px;"></textarea> <ul class="ulEror"> <li class="spnErrContentReply" style="display: none;">Vui lòng kiểm tra lại nội dung đánh giá </li> </ul> </div> <div style="text-align: right; width: 100%;" class="top-5"> <input type="button" class="btnAddReview button btn btn-info btn-lg" value="Gửi"/> <i id="btn-loading" class="fa fa-spinner fa-pulse fa-2x fa-fw margin-bottom"style="display: none"></i> </div> </div> </div> </div> </div> </div>';var template=Handlebars.compile(source);var data=resp;Chudu24.Hotels.UserControls.CustomerReviewsHotel.hbsHelper();var strHTML=template(data);strHTML+=Chudu24.Hotels.UserControls.CustomerReviewsHotel.renderPaging(data.totalPage,PageNumber,false);$("div.CustomerReviews div.reviewUcConTrol").html(strHTML);$("div.review-photos").each(function(){if($("a.photo",$(this))!=null&&$("a.photo",$(this)).length>0){var ReviewContentId=$(this).attr("rel");$('div.review-photos a[reviewcontentid="'+ReviewContentId+'"]').colorbox({rel:ReviewContentId,onOpen:function(){$("div.divVideo").hide()},onClosed:function(){$("div.divVideo").show()}})}});Chudu24.Master.GenerateWrapLink();gapi.plusone.go();try{FB.XFBML.parse($("div.CustomerReviews div.reviewUcConTrol").get(0))}catch(error){}}})})},renderPaging:function(nTotalPage,nPageNum,isInit){if(nTotalPage<=10)return"";var _PageNum=nPageNum=="..."?1:parseInt(nPageNum);var _PageSize=10;var _Pages=0;var _Totals=nTotalPage;var Pages=0;var PagesNextToCurrent=1;var strPaging='<br style="clear:both"/>';if(_Pages==0){try{_Pages=parseInt(_Totals/_PageSize);if(_Totals%_PageSize>0)_Pages++}catch(e){Pages=0}}Pages=_Pages;if(isInit==false){strPaging+='<div class="paging-bottom-center" style="margin-top: 10px;"> '}strPaging+='  <div id="afterReply"><div id="divPages">'+'<nav class="pagination-main" data-page-count="'+Pages+'">'+'<ul class="pagination">';strPaging+='<li class="'+(_PageNum>1&&Pages>1?"page":"disabled")+'" title="'+(_PageNum>1&&Pages>1?"Xem trang trước đó":"")+'">'+'<a href="javascript:;" aria-label="Previous">'+'<i class="fa fa-chevron-left"></i>'+"</a>"+"</li>";for(var p=1;p<=Pages;++p){if(p==1||p==_PageNum||p==Pages||p>=_PageNum-PagesNextToCurrent&&p<_PageNum||p<=_PageNum+PagesNextToCurrent&&p>_PageNum||p==2&&p==_PageNum-PagesNextToCurrent-1||p==Pages-1&&p==_PageNum+PagesNextToCurrent+1){strPaging+='<li class="page '+(p==_PageNum?"active":"")+'"><a href="javascript:;">'+p+"</a></li>"}else if(p==_PageNum-(PagesNextToCurrent+1)||p==_PageNum+(PagesNextToCurrent+1)){strPaging+='<li class="page"><a href="javascript:;">...</a></li>'}}strPaging+='<li class="'+(_PageNum<Pages&&Pages>1?"page":"disabled")+'" title="'+(_PageNum<Pages&&Pages>1?"Xem trang tiếp theo":"")+'">'+'<a href="javascript:;" aria-label="Next">'+'<i class="fa fa-chevron-right"></i>'+"</a>"+"</li>"+"</ul>"+"</nav>"+"</div></div>";if(isInit==false){strPaging+="</div>"}return strPaging},PageMoreReview:function(_HotelIdInt,_ReviewIdIntFilter,_this,_HotelTextId){Chudu24.Hotels.UserControls.CustomerReviewsHotel.scrollingTo_v2($(_this.parent()),10,function(){$(_this).html($("#loading").clone(true).show());var url="/v2/Hotels/ReviewDetails.aspx";$.ajax(url,{method:"post",data:{ajax:"moreview",HotelIdInt:_HotelIdInt,HotelTextId:_HotelTextId,ReviewIdIntFilter:_ReviewIdIntFilter},success:function(resp){$("span.lnkReplyReviews",_this.closest("div.ri")).attr("show",true);var more=$("<div></div>").html(resp).children();var _html_fb_google=$("div.fb-google-api",more).html();var divReplyReviews=$("div.divReplyReviews",more).html();var index=100-$("div.ri").index(_this.closest("div.ri"));if($(".fb-google-api",_this.closest("div.ri")).length>0){$(".fb-google-api",_this.closest("div.ri")).html(_html_fb_google);$(".fb-google-api",_this.closest("div.ri")).css({"z-index":index});if($.trim(divReplyReviews).length>0){var listratehomereply=_this.closest("div.ri").nextAll(".listratehomereply:first");if(listratehomereply.length>0){$(".divReplyReviews",listratehomereply).html(divReplyReviews).show();listratehomereply.slideDown()}}}else{_this.closest("div.ri").after('<div class="fb-google-api" style="display: none; z-index:'+index+'">'+_html_fb_google+"</div>");if($.trim(divReplyReviews).length>0){_this.closest("div.ri").nextAll(".divReplyReviews:first").html(divReplyReviews).slideDown()}}var fb_google=$(".fb-google-api",_this.closest("div.ri")).length>0?$(".fb-google-api",_this.closest("div.ri")):_this.closest("div.ri").nextAll(".fb-google-api:first");var _html=$("div.customercm",more).html();$(_this).parent().hide();$(_this).parent().html(_html).slideDown();if(fb_google.length>0){gapi.plusone.go();try{FB.XFBML.parse($("div.CustomerReviews div.reviewUcConTrol").get(0))}catch(error){}fb_google.fadeIn(1e3)}}})})},scrollingTo_v2:function(target,offset,callback){if(target){var calledBack=false;$("html, body").animate({scrollTop:target.offset().top-offset},{complete:function(){if(calledBack!=true&&callback){callback();calledBack=true}}});return false}},facebook_googleplus:function(){if(document.getElementById("hidappId")!=null){try{var hidappId=document.getElementById("hidappId").value;(function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(d.getElementById(id))return;js=d.createElement(s);js.id=id;js.src="//connect.facebook.net/vi_VN/all.js#xfbml=1&appId="+hidappId+"&version=v2.0";fjs.parentNode.insertBefore(js,fjs)})(document,"script","facebook-jssdk")}catch(error){}try{window.___gcfg={lang:"vi"};(function(){var po=document.createElement("script");po.type="text/javascript";po.async=true;po.src="https://apis.google.com/js/platform.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(po,s)})()}catch(error){}}}};$(function(){var thisObj=Chudu24.Hotels.UserControls.CustomerReviewsHotel;thisObj.Init()});(function(e,t,i){function o(i,o,n){var r=t.createElement(i);return o&&(r.id=Z+o),n&&(r.style.cssText=n),e(r)}function n(){return i.innerHeight?i.innerHeight:e(i).height()}function r(e){var t=k.length,i=(z+e)%t;return 0>i?t+i:i}function h(e,t){return Math.round((/%/.test(e)?("x"===t?E.width():n())/100:1)*parseInt(e,10))}function l(e,t){return e.photo||e.photoRegex.test(t)}function s(e,t){return e.retinaUrl&&i.devicePixelRatio>1?t.replace(e.photoRegex,e.retinaSuffix):t}function a(e){"contains"in g[0]&&!g[0].contains(e.target)&&(e.stopPropagation(),g.focus())}function d(){var t,i=e.data(N,Y);null==i?(B=e.extend({},X),console&&console.log&&console.log("Error: cboxElement missing settings object")):B=e.extend({},i);for(t in B)e.isFunction(B[t])&&"on"!==t.slice(0,2)&&(B[t]=B[t].call(N));B.rel=B.rel||N.rel||e(N).data("rel")||"nofollow",B.href=B.href||e(N).attr("href"),B.title=B.title||N.title,"string"==typeof B.href&&(B.href=e.trim(B.href))}function c(i,o){e(t).trigger(i),lt.triggerHandler(i),e.isFunction(o)&&o.call(N)}function u(i){q||(N=i,d(),k=e(N),z=0,"nofollow"!==B.rel&&(k=e("."+et).filter(function(){var t,i=e.data(this,Y);return i&&(t=e(this).data("rel")||i.rel||this.rel),t===B.rel}),z=k.index(N),-1===z&&(k=k.add(N),z=k.length-1)),w.css({opacity:parseFloat(B.opacity),cursor:B.overlayClose?"pointer":"auto",visibility:"visible"}).show(),J&&g.add(w).removeClass(J),B.className&&g.add(w).addClass(B.className),J=B.className,B.closeButton?K.html(B.close).appendTo(y):K.appendTo("<div/>"),U||(U=$=!0,g.css({visibility:"hidden",display:"block"}),H=o(st,"LoadedContent","width:0; height:0; overflow:hidden"),y.css({width:"",height:""}).append(H),O=x.height()+C.height()+y.outerHeight(!0)-y.height(),_=b.width()+T.width()+y.outerWidth(!0)-y.width(),D=H.outerHeight(!0),A=H.outerWidth(!0),B.w=h(B.initialWidth,"x"),B.h=h(B.initialHeight,"y"),H.css({width:"",height:B.h}),Q.position(),c(tt,B.onOpen),P.add(L).hide(),g.focus(),B.trapFocus&&t.addEventListener&&(t.addEventListener("focus",a,!0),lt.one(rt,function(){t.removeEventListener("focus",a,!0)})),B.returnFocus&&lt.one(rt,function(){e(N).focus()})),m())}function f(){!g&&t.body&&(V=!1,E=e(i),g=o(st).attr({id:Y,"class":e.support.opacity===!1?Z+"IE":"",role:"dialog",tabindex:"-1"}).hide(),w=o(st,"Overlay").hide(),F=e([o(st,"LoadingOverlay")[0],o(st,"LoadingGraphic")[0]]),v=o(st,"Wrapper"),y=o(st,"Content").append(L=o(st,"Title"),S=o(st,"Current"),I=e('<button type="button"/>').attr({id:Z+"Previous"}),R=e('<button type="button"/>').attr({id:Z+"Next"}),M=o("button","Slideshow"),F),K=e('<button type="button"/>').attr({id:Z+"Close"}),v.append(o(st).append(o(st,"TopLeft"),x=o(st,"TopCenter"),o(st,"TopRight")),o(st,!1,"clear:left").append(b=o(st,"MiddleLeft"),y,T=o(st,"MiddleRight")),o(st,!1,"clear:left").append(o(st,"BottomLeft"),C=o(st,"BottomCenter"),o(st,"BottomRight"))).find("div div").css({"float":"left"}),W=o(st,!1,"position:absolute; width:9999px; visibility:hidden; display:none; max-width:none;"),P=R.add(I).add(S).add(M),e(t.body).append(w,g.append(v,W)))}function p(){function i(e){e.which>1||e.shiftKey||e.altKey||e.metaKey||e.ctrlKey||(e.preventDefault(),u(this))}return g?(V||(V=!0,R.click(function(){Q.next()}),I.click(function(){Q.prev()}),K.click(function(){Q.close()}),w.click(function(){B.overlayClose&&Q.close()}),e(t).bind("keydown."+Z,function(e){var t=e.keyCode;U&&B.escKey&&27===t&&(e.preventDefault(),Q.close()),U&&B.arrowKey&&k[1]&&!e.altKey&&(37===t?(e.preventDefault(),I.click()):39===t&&(e.preventDefault(),R.click()))}),e.isFunction(e.fn.on)?e(t).on("click."+Z,"."+et,i):e("."+et).live("click."+Z,i)),!0):!1}function m(){var n,r,a,u=Q.prep,f=++at;$=!0,j=!1,N=k[z],d(),c(ht),c(it,B.onLoad),B.h=B.height?h(B.height,"y")-D-O:B.innerHeight&&h(B.innerHeight,"y"),B.w=B.width?h(B.width,"x")-A-_:B.innerWidth&&h(B.innerWidth,"x"),B.mw=B.w,B.mh=B.h,B.maxWidth&&(B.mw=h(B.maxWidth,"x")-A-_,B.mw=B.w&&B.w<B.mw?B.w:B.mw),B.maxHeight&&(B.mh=h(B.maxHeight,"y")-D-O,B.mh=B.h&&B.h<B.mh?B.h:B.mh),n=B.href,G=setTimeout(function(){F.show()},100),B.inline?(a=o(st).hide().insertBefore(e(n)[0]),lt.one(ht,function(){a.replaceWith(H.children())}),u(e(n))):B.iframe?u(" "):B.html?u(B.html):l(B,n)?(n=s(B,n),j=t.createElement("img"),e(j).addClass(Z+"Photo").bind("error",function(){B.title=!1,u(o(st,"Error").html(B.imgError))}).one("load",function(){var t;f===at&&(e.each(["alt","longdesc","aria-describedby"],function(t,i){var o=e(N).attr(i)||e(N).attr("data-"+i);o&&j.setAttribute(i,o)}),B.retinaImage&&i.devicePixelRatio>1&&(j.height=j.height/i.devicePixelRatio,j.width=j.width/i.devicePixelRatio),B.scalePhotos&&(r=function(){j.height-=j.height*t,j.width-=j.width*t},B.mw&&j.width>B.mw&&(t=(j.width-B.mw)/j.width,r()),B.mh&&j.height>B.mh&&(t=(j.height-B.mh)/j.height,r())),B.h&&(j.style.marginTop=Math.max(B.mh-j.height,0)/2+"px"),k[1]&&(B.loop||k[z+1])&&(j.style.cursor="pointer",j.onclick=function(){Q.next()}),j.style.width=j.width+"px",j.style.height=j.height+"px",setTimeout(function(){u(j)},1))}),setTimeout(function(){j.src=n},1)):n&&W.load(n,B.data,function(t,i){f===at&&u("error"===i?o(st,"Error").html(B.xhrError):e(this).contents())})}var w,g,v,y,x,b,T,C,k,E,H,W,F,L,S,M,R,I,K,P,B,O,_,D,A,N,z,j,U,$,q,G,Q,J,V,X={html:!1,photo:!1,iframe:!1,inline:!1,transition:"elastic",speed:300,fadeOut:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,href:!1,title:!1,rel:!1,opacity:.9,preloading:!0,className:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:void 0,closeButton:!0,fastIframe:!0,open:!1,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp)((#|\?).*)?$/i,retinaImage:!1,retinaUrl:!1,retinaSuffix:"@2x.$1",current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",returnFocus:!0,trapFocus:!0,onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1},Y="colorbox",Z="cbox",et=Z+"Element",tt=Z+"_open",it=Z+"_load",ot=Z+"_complete",nt=Z+"_cleanup",rt=Z+"_closed",ht=Z+"_purge",lt=e("<a/>"),st="div",at=0,dt={},ct=function(){function e(){clearTimeout(h)}function t(){(B.loop||k[z+1])&&(e(),h=setTimeout(Q.next,B.slideshowSpeed))}function i(){M.html(B.slideshowStop).unbind(s).one(s,o),lt.bind(ot,t).bind(it,e),g.removeClass(l+"off").addClass(l+"on")}function o(){e(),lt.unbind(ot,t).unbind(it,e),M.html(B.slideshowStart).unbind(s).one(s,function(){Q.next(),i()}),g.removeClass(l+"on").addClass(l+"off")}function n(){r=!1,M.hide(),e(),lt.unbind(ot,t).unbind(it,e),g.removeClass(l+"off "+l+"on")}var r,h,l=Z+"Slideshow_",s="click."+Z;return function(){r?B.slideshow||(lt.unbind(nt,n),n()):B.slideshow&&k[1]&&(r=!0,lt.one(nt,n),B.slideshowAuto?i():o(),M.show())}}();e.colorbox||(e(f),Q=e.fn[Y]=e[Y]=function(t,i){var o=this;if(t=t||{},f(),p()){if(e.isFunction(o))o=e("<a/>"),t.open=!0;else if(!o[0])return o;i&&(t.onComplete=i),o.each(function(){e.data(this,Y,e.extend({},e.data(this,Y)||X,t))}).addClass(et),(e.isFunction(t.open)&&t.open.call(o)||t.open)&&u(o[0])}return o},Q.position=function(t,i){function o(){x[0].style.width=C[0].style.width=y[0].style.width=parseInt(g[0].style.width,10)-_+"px",y[0].style.height=b[0].style.height=T[0].style.height=parseInt(g[0].style.height,10)-O+"px"}var r,l,s,a=0,d=0,c=g.offset();if(E.unbind("resize."+Z),g.css({top:-9e4,left:-9e4}),l=E.scrollTop(),s=E.scrollLeft(),B.fixed?(c.top-=l,c.left-=s,g.css({position:"fixed"})):(a=l,d=s,g.css({position:"absolute"})),d+=B.right!==!1?Math.max(E.width()-B.w-A-_-h(B.right,"x"),0):B.left!==!1?h(B.left,"x"):Math.round(Math.max(E.width()-B.w-A-_,0)/2),a+=B.bottom!==!1?Math.max(n()-B.h-D-O-h(B.bottom,"y"),0):B.top!==!1?h(B.top,"y"):Math.round(Math.max(n()-B.h-D-O,0)/2),g.css({top:c.top,left:c.left,visibility:"visible"}),v[0].style.width=v[0].style.height="9999px",r={width:B.w+A+_,height:B.h+D+O,top:a,left:d},t){var u=0;e.each(r,function(e){return r[e]!==dt[e]?(u=t,void 0):void 0}),t=u}dt=r,t||g.css(r),g.dequeue().animate(r,{duration:t||0,complete:function(){o(),$=!1,v[0].style.width=B.w+A+_+"px",v[0].style.height=B.h+D+O+"px",B.reposition&&setTimeout(function(){E.bind("resize."+Z,Q.position)},1),i&&i()},step:o})},Q.resize=function(e){var t;U&&(e=e||{},e.width&&(B.w=h(e.width,"x")-A-_),e.innerWidth&&(B.w=h(e.innerWidth,"x")),H.css({width:B.w}),e.height&&(B.h=h(e.height,"y")-D-O),e.innerHeight&&(B.h=h(e.innerHeight,"y")),e.innerHeight||e.height||(t=H.scrollTop(),H.css({height:"auto"}),B.h=H.height()),H.css({height:B.h}),t&&H.scrollTop(t),Q.position("none"===B.transition?0:B.speed))},Q.prep=function(i){function n(){return B.w=B.w||H.width(),B.w=B.mw&&B.mw<B.w?B.mw:B.w,B.w}function h(){return B.h=B.h||H.height(),B.h=B.mh&&B.mh<B.h?B.mh:B.h,B.h}if(U){var a,d="none"===B.transition?0:B.speed;H.empty().remove(),H=o(st,"LoadedContent").append(i),H.hide().appendTo(W.show()).css({width:n(),overflow:B.scrolling?"auto":"hidden"}).css({height:h()}).prependTo(y),W.hide(),e(j).css({"float":"none"}),a=function(){function i(){e.support.opacity===!1&&g[0].style.removeAttribute("filter")}var n,h,a=k.length,u="frameBorder",f="allowTransparency";U&&(h=function(){clearTimeout(G),F.hide(),c(ot,B.onComplete)},L.html(B.title).add(H).show(),a>1?("string"==typeof B.current&&S.html(B.current.replace("{current}",z+1).replace("{total}",a)).show(),R[B.loop||a-1>z?"show":"hide"]().html(B.next),I[B.loop||z?"show":"hide"]().html(B.previous),ct(),B.preloading&&e.each([r(-1),r(1)],function(){var i,o,n=k[this],r=e.data(n,Y);r&&r.href?(i=r.href,e.isFunction(i)&&(i=i.call(n))):i=e(n).attr("href"),i&&l(r,i)&&(i=s(r,i),o=t.createElement("img"),o.src=i)})):P.hide(),B.iframe?(n=o("iframe")[0],u in n&&(n[u]=0),f in n&&(n[f]="true"),B.scrolling||(n.scrolling="no"),e(n).attr({src:B.href,name:(new Date).getTime(),"class":Z+"Iframe",allowFullScreen:!0,webkitAllowFullScreen:!0,mozallowfullscreen:!0}).one("load",h).appendTo(H),lt.one(ht,function(){n.src="//about:blank"}),B.fastIframe&&e(n).trigger("load")):h(),"fade"===B.transition?g.fadeTo(d,1,i):i())},"fade"===B.transition?g.fadeTo(d,0,function(){Q.position(0,a)}):Q.position(d,a)}},Q.next=function(){!$&&k[1]&&(B.loop||k[z+1])&&(z=r(1),u(k[z]))},Q.prev=function(){!$&&k[1]&&(B.loop||z)&&(z=r(-1),u(k[z]))},Q.close=function(){U&&!q&&(q=!0,U=!1,c(nt,B.onCleanup),E.unbind("."+Z),w.fadeTo(B.fadeOut||0,0),g.stop().fadeTo(B.fadeOut||0,0,function(){g.add(w).css({opacity:1,cursor:"auto"}).hide(),c(ht),H.empty().remove(),setTimeout(function(){q=!1,c(rt,B.onClosed)},1)}))},Q.remove=function(){g&&(g.stop(),e.colorbox.close(),g.stop().remove(),w.remove(),q=!1,g=null,e("."+et).removeData(Y).removeClass(et),e(t).unbind("click."+Z))},Q.element=function(){return e(N)},Q.settings=X)})(jQuery,document,window);+function($){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var Lightbox=function($){var NAME="ekkoLightbox";var JQUERY_NO_CONFLICT=$.fn[NAME];var Default={title:"",footer:"",showArrows:true,type:null,alwaysShowClose:false,loadingMessage:'<div class="ekko-lightbox-loader"><div><div></div><div></div></div></div>',leftArrow:"<span>&#10094;</span>",rightArrow:"<span>&#10095;</span>",strings:{close:"Close",fail:"Failed to load image:",type:"Could not detect remote target type. Force the type using data-type"},doc:document,onShow:function onShow(){},onShown:function onShown(){},onHide:function onHide(){},onHidden:function onHidden(){},onNavigate:function onNavigate(){},onContentLoaded:function onContentLoaded(){}};var Lightbox=function(){_createClass(Lightbox,null,[{key:"Default",get:function get(){return Default}}]);function Lightbox($element,config){var _this=this;_classCallCheck(this,Lightbox);this._config=$.extend({},Default,config);this._$modalArrows=null;this._galleryIndex=0;this._galleryName=null;this._padding=null;this._border=null;this._titleIsShown=false;this._footerIsShown=false;this._wantedWidth=0;this._wantedHeight=0;this._modalId="ekkoLightbox-"+Math.floor(Math.random()*1e3+1);this._$element=$element instanceof jQuery?$element:$($element);this._isBootstrap3=$.fn.modal.Constructor.VERSION[0]==3;var h4='<h4 class="modal-title">'+(this._config.title||"&nbsp;")+"</h4>";var btn='<button type="button" class="close" data-dismiss="modal" aria-label="'+this._config.strings.close+'"><span aria-hidden="true">&times;</span></button>';var header='<div class="modal-header"'+(this._config.title||this._config.alwaysShowClose?"":' style="display:none"')+">"+(this._isBootstrap3?btn+h4:h4+btn)+"</div>";var footer='<div class="modal-footer"'+(this._config.footer?"":' style="display:none"')+">"+(this._config.footer||"&nbsp;")+"</div>";var body='<div class="modal-body"><div class="ekko-lightbox-container"><div class="ekko-lightbox-item fade in show"></div><div class="ekko-lightbox-item fade"></div></div></div>';var dialog='<div class="modal-dialog" role="document"><div class="modal-content">'+header+body+footer+"</div></div>";$(this._config.doc.body).append('<div id="'+this._modalId+'" class="ekko-lightbox modal fade" tabindex="-1" tabindex="-1" role="dialog" aria-hidden="true">'+dialog+"</div>");this._$modal=$("#"+this._modalId,this._config.doc);this._$modalDialog=this._$modal.find(".modal-dialog").first();this._$modalContent=this._$modal.find(".modal-content").first();this._$modalBody=this._$modal.find(".modal-body").first();this._$modalHeader=this._$modal.find(".modal-header").first();this._$modalFooter=this._$modal.find(".modal-footer").first();this._$lightboxContainer=this._$modalBody.find(".ekko-lightbox-container").first();this._$lightboxBodyOne=this._$lightboxContainer.find("> div:first-child").first();this._$lightboxBodyTwo=this._$lightboxContainer.find("> div:last-child").first();this._border=this._calculateBorders();this._padding=this._calculatePadding();this._galleryName=this._$element.data("gallery");if(this._galleryName){this._$galleryItems=$(document.body).find('*[data-gallery="'+this._galleryName+'"]');this._galleryIndex=this._$galleryItems.index(this._$element);$(document).on("keydown.ekkoLightbox",this._navigationalBinder.bind(this));if(this._config.showArrows&&this._$galleryItems.length>1){this._$lightboxContainer.append('<div class="ekko-lightbox-nav-overlay"><a href="#">'+this._config.leftArrow+'</a><a href="#">'+this._config.rightArrow+"</a></div>");this._$modalArrows=this._$lightboxContainer.find("div.ekko-lightbox-nav-overlay").first();this._$lightboxContainer.on("click","a:first-child",function(event){event.preventDefault();return _this.navigateLeft()});this._$lightboxContainer.on("click","a:last-child",function(event){event.preventDefault();return _this.navigateRight()})}}this._$modal.on("show.bs.modal",this._config.onShow.bind(this)).on("shown.bs.modal",function(){_this._toggleLoading(true);_this._handle();return _this._config.onShown.call(_this)}).on("hide.bs.modal",this._config.onHide.bind(this)).on("hidden.bs.modal",function(){if(_this._galleryName){$(document).off("keydown.ekkoLightbox");$(window).off("resize.ekkoLightbox")}_this._$modal.remove();return _this._config.onHidden.call(_this)}).modal(this._config);$(window).on("resize.ekkoLightbox",function(){_this._resize(_this._wantedWidth,_this._wantedHeight)})}_createClass(Lightbox,[{key:"element",value:function element(){return this._$element}},{key:"modal",value:function modal(){return this._$modal}},{key:"navigateTo",value:function navigateTo(index){if(index<0||index>this._$galleryItems.length-1)return this;this._galleryIndex=index;this._$element=$(this._$galleryItems.get(this._galleryIndex));this._handle()}},{key:"navigateLeft",value:function navigateLeft(){if(this._$galleryItems.length===1)return;if(this._galleryIndex===0)this._galleryIndex=this._$galleryItems.length-1;else this._galleryIndex--;this._config.onNavigate.call(this,"left",this._galleryIndex);return this.navigateTo(this._galleryIndex)}},{key:"navigateRight",value:function navigateRight(){if(this._$galleryItems.length===1)return;if(this._galleryIndex===this._$galleryItems.length-1)this._galleryIndex=0;else this._galleryIndex++;this._config.onNavigate.call(this,"right",this._galleryIndex);return this.navigateTo(this._galleryIndex)}},{key:"close",value:function close(){return this._$modal.modal("hide")}},{key:"_navigationalBinder",value:function _navigationalBinder(event){event=event||window.event;if(event.keyCode===39)return this.navigateRight();if(event.keyCode===37)return this.navigateLeft()}},{key:"_detectRemoteType",value:function _detectRemoteType(src,type){type=type||false;if(!type&&this._isImage(src))type="image";if(!type&&this._getYoutubeId(src))type="youtube";if(!type&&this._getVimeoId(src))type="vimeo";if(!type&&this._getInstagramId(src))type="instagram";if(!type||["image","youtube","vimeo","instagram","video","url"].indexOf(type)<0)type="url";return type}},{key:"_isImage",value:function _isImage(string){return string&&string.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i)}},{key:"_containerToUse",value:function _containerToUse(){var _this2=this;var $toUse=this._$lightboxBodyTwo;var $current=this._$lightboxBodyOne;
if(this._$lightboxBodyTwo.hasClass("in")){$toUse=this._$lightboxBodyOne;$current=this._$lightboxBodyTwo}$current.removeClass("in show");setTimeout(function(){if(!_this2._$lightboxBodyTwo.hasClass("in"))_this2._$lightboxBodyTwo.empty();if(!_this2._$lightboxBodyOne.hasClass("in"))_this2._$lightboxBodyOne.empty()},500);$toUse.addClass("in show");return $toUse}},{key:"_handle",value:function _handle(){var $toUse=this._containerToUse();this._updateTitleAndFooter();var currentRemote=this._$element.attr("data-remote")||this._$element.attr("href");var currentType=this._detectRemoteType(currentRemote,this._$element.attr("data-type")||false);if(["image","youtube","vimeo","instagram","video","url"].indexOf(currentType)<0)return this._error(this._config.strings.type);switch(currentType){case"image":this._preloadImage(currentRemote,$toUse);this._preloadImageByIndex(this._galleryIndex,3);break;case"youtube":this._showYoutubeVideo(currentRemote,$toUse);break;case"vimeo":this._showVimeoVideo(this._getVimeoId(currentRemote),$toUse);break;case"instagram":this._showInstagramVideo(this._getInstagramId(currentRemote),$toUse);break;case"video":this._showHtml5Video(currentRemote,$toUse);break;default:this._loadRemoteContent(currentRemote,$toUse);break}return this}},{key:"_getYoutubeId",value:function _getYoutubeId(string){if(!string)return false;var matches=string.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/);return matches&&matches[2].length===11?matches[2]:false}},{key:"_getVimeoId",value:function _getVimeoId(string){return string&&string.indexOf("vimeo")>0?string:false}},{key:"_getInstagramId",value:function _getInstagramId(string){return string&&string.indexOf("instagram")>0?string:false}},{key:"_toggleLoading",value:function _toggleLoading(show){show=show||false;if(show){this._$modalDialog.css("display","none");this._$modal.removeClass("in show");$(".modal-backdrop").append(this._config.loadingMessage)}else{this._$modalDialog.css("display","block");this._$modal.addClass("in show");$(".modal-backdrop").find(".ekko-lightbox-loader").remove()}return this}},{key:"_calculateBorders",value:function _calculateBorders(){return{top:this._totalCssByAttribute("border-top-width"),right:this._totalCssByAttribute("border-right-width"),bottom:this._totalCssByAttribute("border-bottom-width"),left:this._totalCssByAttribute("border-left-width")}}},{key:"_calculatePadding",value:function _calculatePadding(){return{top:this._totalCssByAttribute("padding-top"),right:this._totalCssByAttribute("padding-right"),bottom:this._totalCssByAttribute("padding-bottom"),left:this._totalCssByAttribute("padding-left")}}},{key:"_totalCssByAttribute",value:function _totalCssByAttribute(attribute){return parseInt(this._$modalDialog.css(attribute),10)+parseInt(this._$modalContent.css(attribute),10)+parseInt(this._$modalBody.css(attribute),10)}},{key:"_updateTitleAndFooter",value:function _updateTitleAndFooter(){var title=this._$element.data("title")||"";var caption=this._$element.data("footer")||"";this._titleIsShown=false;if(title||this._config.alwaysShowClose){this._titleIsShown=true;this._$modalHeader.css("display","").find(".modal-title").html(title||"&nbsp;")}else this._$modalHeader.css("display","none");this._footerIsShown=false;if(caption){this._footerIsShown=true;this._$modalFooter.css("display","").html(caption)}else this._$modalFooter.css("display","none");return this}},{key:"_showYoutubeVideo",value:function _showYoutubeVideo(remote,$containerForElement){var id=this._getYoutubeId(remote);var query=remote.indexOf("&")>0?remote.substr(remote.indexOf("&")):"";var width=this._$element.data("width")||560;var height=this._$element.data("height")||width/(560/315);return this._showVideoIframe("//www.youtube.com/embed/"+id+"?badge=0&autoplay=1&html5=1"+query,width,height,$containerForElement)}},{key:"_showVimeoVideo",value:function _showVimeoVideo(id,$containerForElement){var width=500;var height=this._$element.data("height")||width/(560/315);return this._showVideoIframe(id+"?autoplay=1",width,height,$containerForElement)}},{key:"_showInstagramVideo",value:function _showInstagramVideo(id,$containerForElement){var width=this._$element.data("width")||612;var height=width+80;id=id.substr(-1)!=="/"?id+"/":id;$containerForElement.html('<iframe width="'+width+'" height="'+height+'" src="'+id+'embed/" frameborder="0" allowfullscreen></iframe>');this._resize(width,height);this._config.onContentLoaded.call(this);if(this._$modalArrows)this._$modalArrows.css("display","none");this._toggleLoading(false);return this}},{key:"_showVideoIframe",value:function _showVideoIframe(url,width,height,$containerForElement){height=height||width;$containerForElement.html('<div class="embed-responsive embed-responsive-16by9"><iframe width="'+width+'" height="'+height+'" src="'+url+'" frameborder="0" allowfullscreen class="embed-responsive-item"></iframe></div>');this._resize(width,height);this._config.onContentLoaded.call(this);if(this._$modalArrows)this._$modalArrows.css("display","none");this._toggleLoading(false);return this}},{key:"_showHtml5Video",value:function _showHtml5Video(url,$containerForElement){var width=this._$element.data("width")||560;var height=this._$element.data("height")||width/(560/315);$containerForElement.html('<div class="embed-responsive embed-responsive-16by9"><video width="'+width+'" height="'+height+'" src="'+url+'" preload="auto" autoplay controls class="embed-responsive-item"></video></div>');this._resize(width,height);this._config.onContentLoaded.call(this);if(this._$modalArrows)this._$modalArrows.css("display","none");this._toggleLoading(false);return this}},{key:"_loadRemoteContent",value:function _loadRemoteContent(url,$containerForElement){var _this3=this;var width=this._$element.data("width")||560;var height=this._$element.data("height")||560;var disableExternalCheck=this._$element.data("disableExternalCheck")||false;this._toggleLoading(false);if(!disableExternalCheck&&!this._isExternal(url)){$containerForElement.load(url,$.proxy(function(){return _this3._$element.trigger("loaded.bs.modal");l}))}else{$containerForElement.html('<iframe src="'+url+'" frameborder="0" allowfullscreen></iframe>');this._config.onContentLoaded.call(this)}if(this._$modalArrows)this._$modalArrows.css("display","none");this._resize(width,height);return this}},{key:"_isExternal",value:function _isExternal(url){var match=url.match(/^([^:\/?#]+:)?(?:\/\/([^\/?#]*))?([^?#]+)?(\?[^#]*)?(#.*)?/);if(typeof match[1]==="string"&&match[1].length>0&&match[1].toLowerCase()!==location.protocol)return true;if(typeof match[2]==="string"&&match[2].length>0&&match[2].replace(new RegExp(":("+{"http:":80,"https:":443}[location.protocol]+")?$"),"")!==location.host)return true;return false}},{key:"_error",value:function _error(message){console.error(message);this._containerToUse().html(message);this._resize(300,300);return this}},{key:"_preloadImageByIndex",value:function _preloadImageByIndex(startIndex,numberOfTimes){if(!this._$galleryItems)return;var next=$(this._$galleryItems.get(startIndex),false);if(typeof next=="undefined")return;var src=next.attr("data-remote")||next.attr("href");if(next.attr("data-type")==="image"||this._isImage(src))this._preloadImage(src,false);if(numberOfTimes>0)return this._preloadImageByIndex(startIndex+1,numberOfTimes-1)}},{key:"_preloadImage",value:function _preloadImage(src,$containerForImage){var _this4=this;$containerForImage=$containerForImage||false;var img=new Image;if($containerForImage){(function(){var loadingTimeout=setTimeout(function(){$containerForImage.append(_this4._config.loadingMessage)},200);img.onload=function(){if(loadingTimeout)clearTimeout(loadingTimeout);loadingTimeout=null;var image=$("<img />");image.attr("src",img.src);image.addClass("img-fluid");image.css("width","100%");$containerForImage.html(image);if(_this4._$modalArrows)_this4._$modalArrows.css("display","");_this4._resize(img.width,img.height);_this4._toggleLoading(false);return _this4._config.onContentLoaded.call(_this4)};img.onerror=function(){_this4._toggleLoading(false);return _this4._error(_this4._config.strings.fail+("  "+src))}})()}img.src=src;return img}},{key:"_resize",value:function _resize(width,height){height=height||width;this._wantedWidth=width;this._wantedHeight=height;var widthBorderAndPadding=this._padding.left+this._padding.right+this._border.left+this._border.right;var maxWidth=Math.min(width+widthBorderAndPadding,this._config.doc.body.clientWidth);if(width+widthBorderAndPadding>maxWidth){height=(maxWidth-widthBorderAndPadding)/width*height;width=maxWidth}else width=width+widthBorderAndPadding;var headerHeight=0,footerHeight=0;if(this._footerIsShown)footerHeight=this._$modalFooter.outerHeight(true)||55;if(this._titleIsShown)headerHeight=this._$modalHeader.outerHeight(true)||67;var borderPadding=this._padding.top+this._padding.bottom+this._border.bottom+this._border.top;var margins=parseFloat(this._$modalDialog.css("margin-top"))+parseFloat(this._$modalDialog.css("margin-bottom"));var maxHeight=Math.min(height,$(window).height()-borderPadding-margins-headerHeight-footerHeight);if(height>maxHeight){var factor=Math.min(maxHeight/height,1);width=Math.ceil(factor*width)}this._$lightboxContainer.css("height",maxHeight);this._$modalDialog.css("width","auto").css("maxWidth",width);if(!this._isBootstrap3){var modal=this._$modal.data("bs.modal");if(modal)modal._handleUpdate()}else{var modal=this._$modal.data("bs.modal");if(modal)modal.handleUpdate()}return this}}],[{key:"_jQueryInterface",value:function _jQueryInterface(config){var _this5=this;config=config||{};return this.each(function(){var $this=$(_this5);var _config=$.extend({},Lightbox.Default,$this.data(),typeof config==="object"&&config);new Lightbox(_this5,_config)})}}]);return Lightbox}();$.fn[NAME]=Lightbox._jQueryInterface;$.fn[NAME].Constructor=Lightbox;$.fn[NAME].noConflict=function(){$.fn[NAME]=JQUERY_NO_CONFLICT;return Lightbox._jQueryInterface};return Lightbox}(jQuery)}(jQuery);(function($){$.isScrollToFixed=function(el){return!!$(el).data("ScrollToFixed")};$.ScrollToFixed=function(el,options){var base=this;base.$el=$(el);base.el=el;base.$el.data("ScrollToFixed",base);var isReset=false;var target=base.$el;var position;var originalPosition;var originalFloat;var originalOffsetTop;var originalZIndex;var offsetTop=0;var offsetLeft=0;var originalOffsetLeft=-1;var lastOffsetLeft=-1;var spacer=null;var spacerClass;var className;function resetScroll(){target.trigger("preUnfixed.ScrollToFixed");setUnfixed();target.trigger("unfixed.ScrollToFixed");lastOffsetLeft=-1;offsetTop=target.offset().top;offsetLeft=target.offset().left;if(base.options.offsets){offsetLeft+=target.offset().left-target.position().left}if(originalOffsetLeft==-1){originalOffsetLeft=offsetLeft}position=target.css("position");isReset=true;if(base.options.bottom!=-1){target.trigger("preFixed.ScrollToFixed");setFixed();target.trigger("fixed.ScrollToFixed")}}function getLimit(){var limit=base.options.limit;if(!limit)return 0;if(typeof limit==="function"){return limit.apply(target)}return limit}function isFixed(){return position==="fixed"}function isAbsolute(){return position==="absolute"}function isUnfixed(){return!(isFixed()||isAbsolute())}function setFixed(){if(!isFixed()){var dimensions=target[0].getBoundingClientRect();spacer.css({display:target.css("display"),width:dimensions.width,height:dimensions.height,"float":target.css("float")});cssOptions={"z-index":base.options.zIndex,position:"fixed",top:base.options.bottom==-1?getMarginTop():"",bottom:base.options.bottom==-1?"":base.options.bottom,"margin-left":"0px"};if(!base.options.dontSetWidth){cssOptions["width"]=target.css("width")}target.css(cssOptions);target.addClass(base.options.baseClassName);if(base.options.className){target.addClass(base.options.className)}position="fixed"}}function setAbsolute(){var top=getLimit();var left=offsetLeft;if(base.options.removeOffsets){left="";top=top-offsetTop}cssOptions={position:"absolute",top:top,left:left,"margin-left":"0px",bottom:""};if(!base.options.dontSetWidth){cssOptions["width"]=target.css("width")}target.css(cssOptions);position="absolute"}function setUnfixed(){if(!isUnfixed()){lastOffsetLeft=-1;spacer.css("display","none");target.css({"z-index":originalZIndex,width:"",position:originalPosition,left:"",top:originalOffsetTop,"margin-left":""});target.removeClass("scroll-to-fixed-fixed");if(base.options.className){target.removeClass(base.options.className)}position=null}}function setLeft(x){if(x!=lastOffsetLeft){target.css("left",offsetLeft-x);lastOffsetLeft=x}}function getMarginTop(){var marginTop=base.options.marginTop;if(!marginTop)return 0;if(typeof marginTop==="function"){return marginTop.apply(target)}return marginTop}function checkScroll(){if(!$.isScrollToFixed(target)||target.is(":hidden"))return;var wasReset=isReset;var wasUnfixed=isUnfixed();if(!isReset){resetScroll()}else if(isUnfixed()){offsetTop=target.offset().top;offsetLeft=target.offset().left}var x=$(window).scrollLeft();var y=$(window).scrollTop();var limit=getLimit();if(base.options.minWidth&&$(window).width()<base.options.minWidth){if(!isUnfixed()||!wasReset){postPosition();target.trigger("preUnfixed.ScrollToFixed");setUnfixed();target.trigger("unfixed.ScrollToFixed")}}else if(base.options.maxWidth&&$(window).width()>base.options.maxWidth){if(!isUnfixed()||!wasReset){postPosition();target.trigger("preUnfixed.ScrollToFixed");setUnfixed();target.trigger("unfixed.ScrollToFixed")}}else if(base.options.bottom==-1){if(limit>0&&y>=limit-getMarginTop()){if(!wasUnfixed&&(!isAbsolute()||!wasReset)){postPosition();target.trigger("preAbsolute.ScrollToFixed");setAbsolute();target.trigger("unfixed.ScrollToFixed")}}else if(y>=offsetTop-getMarginTop()){if(!isFixed()||!wasReset){postPosition();target.trigger("preFixed.ScrollToFixed");setFixed();lastOffsetLeft=-1;target.trigger("fixed.ScrollToFixed")}setLeft(x)}else{if(!isUnfixed()||!wasReset){postPosition();target.trigger("preUnfixed.ScrollToFixed");setUnfixed();target.trigger("unfixed.ScrollToFixed")}}}else{if(limit>0){if(y+$(window).height()-target.outerHeight(true)>=limit-(getMarginTop()||-getBottom())){if(isFixed()){postPosition();target.trigger("preUnfixed.ScrollToFixed");if(originalPosition==="absolute"){setAbsolute()}else{setUnfixed()}target.trigger("unfixed.ScrollToFixed")}}else{if(!isFixed()){postPosition();target.trigger("preFixed.ScrollToFixed");setFixed()}setLeft(x);target.trigger("fixed.ScrollToFixed")}}else{setLeft(x)}}}function getBottom(){if(!base.options.bottom)return 0;return base.options.bottom}function postPosition(){var position=target.css("position");if(position=="absolute"){target.trigger("postAbsolute.ScrollToFixed")}else if(position=="fixed"){target.trigger("postFixed.ScrollToFixed")}else{target.trigger("postUnfixed.ScrollToFixed")}}var windowResize=function(event){if(target.is(":visible")){isReset=false;checkScroll()}else{setUnfixed()}};var windowScroll=function(event){!!window.requestAnimationFrame?requestAnimationFrame(checkScroll):checkScroll()};var isPositionFixedSupported=function(){var container=document.body;if(document.createElement&&container&&container.appendChild&&container.removeChild){var el=document.createElement("div");if(!el.getBoundingClientRect)return null;el.innerHTML="x";el.style.cssText="position:fixed;top:100px;";container.appendChild(el);var originalHeight=container.style.height,originalScrollTop=container.scrollTop;container.style.height="3000px";container.scrollTop=500;var elementTop=el.getBoundingClientRect().top;container.style.height=originalHeight;var isSupported=elementTop===100;container.removeChild(el);container.scrollTop=originalScrollTop;return isSupported}return null};var preventDefault=function(e){e=e||window.event;if(e.preventDefault){e.preventDefault()}e.returnValue=false};base.init=function(){base.options=$.extend({},$.ScrollToFixed.defaultOptions,options);originalZIndex=target.css("z-index");base.$el.css("z-index",base.options.zIndex);spacer=$("<div />");position=target.css("position");originalPosition=target.css("position");originalFloat=target.css("float");originalOffsetTop=target.css("top");if(isUnfixed())base.$el.after(spacer);$(window).bind("resize.ScrollToFixed",windowResize);$(window).bind("scroll.ScrollToFixed",windowScroll);if("ontouchmove"in window){$(window).bind("touchmove.ScrollToFixed",checkScroll)}if(base.options.preFixed){target.bind("preFixed.ScrollToFixed",base.options.preFixed)}if(base.options.postFixed){target.bind("postFixed.ScrollToFixed",base.options.postFixed)}if(base.options.preUnfixed){target.bind("preUnfixed.ScrollToFixed",base.options.preUnfixed)}if(base.options.postUnfixed){target.bind("postUnfixed.ScrollToFixed",base.options.postUnfixed)}if(base.options.preAbsolute){target.bind("preAbsolute.ScrollToFixed",base.options.preAbsolute)}if(base.options.postAbsolute){target.bind("postAbsolute.ScrollToFixed",base.options.postAbsolute)}if(base.options.fixed){target.bind("fixed.ScrollToFixed",base.options.fixed)}if(base.options.unfixed){target.bind("unfixed.ScrollToFixed",base.options.unfixed)}if(base.options.spacerClass){spacer.addClass(base.options.spacerClass)}target.bind("resize.ScrollToFixed",function(){spacer.height(target.height())});target.bind("scroll.ScrollToFixed",function(){target.trigger("preUnfixed.ScrollToFixed");setUnfixed();target.trigger("unfixed.ScrollToFixed");checkScroll()});target.bind("detach.ScrollToFixed",function(ev){preventDefault(ev);target.trigger("preUnfixed.ScrollToFixed");setUnfixed();target.trigger("unfixed.ScrollToFixed");$(window).unbind("resize.ScrollToFixed",windowResize);$(window).unbind("scroll.ScrollToFixed",windowScroll);target.unbind(".ScrollToFixed");spacer.remove();base.$el.removeData("ScrollToFixed")});windowResize()};base.init()};$.ScrollToFixed.defaultOptions={marginTop:0,limit:0,bottom:-1,zIndex:1e3,baseClassName:"scroll-to-fixed-fixed"};$.fn.scrollToFixed=function(options){return this.each(function(){new $.ScrollToFixed(this,options)})}})(jQuery);